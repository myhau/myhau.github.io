!function t(e,n,r){function i(s,u){if(!n[s]){if(!e[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return i(n?n:t)},f,f.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){"use strict";function r(t,e){if(Array.isArray(t))return t;if(d(Object(t))){var n=[],r=!0,i=!1,o=void 0;try{for(var s,u=v(t);!(r=(s=u.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(a){i=!0,o=a}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw o}}return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return m(t)}function o(t){var e=new Worker("scripts/workers/worker.js");return new y(function(n,r){e.onmessage=function(t){n(t.data)},e.postMessage(t)})}function s(t,e){var n,r=void 0===arguments[2]?1:arguments[2];return b.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:n=t;case 1:if(!(e>n)){i.next=7;break}return i.next=4,n;case 4:n+=r,i.next=1;break;case 7:case"end":return i.stop()}},w[0],this)}function u(t,e,n){var r,i,o,u,a,c;return b.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:r=!0,i=!1,o=void 0,f.prev=3,u=v(s(0,n));case 5:if(r=(a=u.next()).done){f.next=12;break}return c=a.value,f.next=9,{x:t*(2*Math.random()-1),y:e*(2*Math.random()-1)};case 9:r=!0,f.next=5;break;case 12:f.next=18;break;case 14:f.prev=14,f.t0=f["catch"](3),i=!0,o=f.t0;case 18:f.prev=18,f.prev=19,!r&&u["return"]&&u["return"]();case 21:if(f.prev=21,!i){f.next=24;break}throw o;case 24:return f.finish(21);case 25:return f.finish(18);case 26:case"end":return f.stop()}},w[1],this,[[3,14,18,26],[19,,21,25]])}function a(t){var e={};return t.forEach(function(t){var n=t.name,r=t.value;return e[n]=JSON.parse(r)}),e}function c(t,e){return t.preventDefault(),a($(e).serializeArray())}function f(t,e){return Math.log(e)/Math.log(t)}function h(t){var e=[t.damp_factor,t.temp_min,t.temp_init,t.iters_for_each_t],n=e.map(parseFloat),i=r(n,4),o=i[0],s=i[1],u=i[2],a=i[3];return f(2-o,s/u)*a}function l(t){return h(t)<C}function p(t){var e=$("#sa-main-fader");e.val(0),e.attr("max",t)}var d=t("babel-runtime/core-js/is-iterable")["default"],v=t("babel-runtime/core-js/get-iterator")["default"],b=t("babel-runtime/regenerator")["default"],m=t("babel-runtime/core-js/array/from")["default"],y=t("babel-runtime/core-js/promise")["default"],g=t("babel-runtime/core-js/object/assign")["default"],w=[s,u].map(b.mark),_=t("rx-dom"),E=_.Observable,S=(t("immutable"),t("chroma-js")),x=t("./render.js"),C=("http://"+location.hostname+":8089/",100*Math.pow(10,6)),k=S.scale(["#21AB6C","#60A744","#8E9E1D","#B99106","#DE7E24","#F9684A"]),N=10,D=E.merge.apply(E,i(["click","submit"].map(function(t){return E.fromEvent($("#points-add"),t).map(function(t){return c(t,"#sa-points")}).map(function(t){var e=t.x,n=t.y;return{x:e,y:-n}})})).concat([E.fromEvent($("#points-random"),"click").map(function(t){return c(t,"#sa-points")}).flatMap(function(t){return E.from(u(t.x,t.y,N))})])).share(),A=E.merge(E.fromEvent(window,"keydown").filter(function(t){return 90===t.keyCode&&t.ctrlKey}),E.fromEvent($("#points-undo"),"click")["do"](function(t){return t.preventDefault()})).share(),O=E.fromEvent($("#points-reset"),"click")["do"](function(t){return t.preventDefault()}).share(),j=E.merge(D.map(function(t){return{type:"click",point:t}}),A.map(function(){return{type:"undo"}}),O.map(function(){return{type:"reset"}})).scan([],function(t,e){var n=e.type,r=e.point,i={click:function(){return t.concat(r)},undo:function(){return t.slice(0,-1)},reset:function(){return[]}};return i[n]()});j.subscribe(function(t){x.renderOnlyPoints(t,k(1).hex())});var M=j.filter(function(t){return t.length>2}),q=E.fromEvent($("#sa-params"),"submit").map(function(t){return t.preventDefault(),a($(t.target).serializeArray())}).partition(l),z=r(q,2),I=z[0],R=z[1];R.subscribe(function(){return void 0});var L=I.withLatestFrom(M,function(t,e){return g({},t,{points:e})});L.subscribe(function(t){return void 0});var W=L.flatMapLatest(function(t){return o(t)["catch"](E.just("err"))}).share().partition(function(t){return"err"!==t}),T=r(W,2),P=T[0],F=T[1],B=t("./wait-dialog.js"),U=L,V=E.merge(P,R,F).share(),K=E.merge(R.map(function(){return"This form looks suspicious, maxmium iterations number I can handle is "+C}),F.map(function(){return"Backend failed."})).share();K.subscribe(function(t){$("#mainErrorCont").removeClass("hidden"),$("#mainError").html(t),setTimeout(function(){return $("#mainErrorCont").addClass("hidden")},3e3)}),U.subscribe(function(){return B.show("Loading",{dialogSize:"sm"})}),V.subscribe(function(){return B.hide()}),P.subscribe(function(t){p(t.iters.length-1)});var G=E.fromEvent($("#sa-main-fader"),"input").throttleFirst(40).map(function(t){return $(t.target).val()});P.subscribe(function(t){x.renderCharts(t)});var H=P.flatMapLatest(function(t){return G.startWith(0).map(function(e){return{iter:t.iters[e],sol:t.sol}})}),J=E.combineLatest(H,L,function(t,e){return{data:t,tempMax:e.temp_init,tempMin:e.temp_min,points:e.points}});J.subscribe(function(t){var e=t.data,n=t.tempMin,r=t.tempMax,i=t.points,o=e.iter.temp/(r-n),s=k(o).hex();x.render(e,i,s);for(var u in e.iter)$("#sa-"+u).html(JSON.stringify(e.iter[u]));$("#sa-temp-color").css("background-color",s),$("#sa-best_pos").html(JSON.stringify(e.sol))})},{"./render.js":2,"./wait-dialog.js":3,"babel-runtime/core-js/array/from":4,"babel-runtime/core-js/get-iterator":5,"babel-runtime/core-js/is-iterable":6,"babel-runtime/core-js/object/assign":7,"babel-runtime/core-js/promise":9,"babel-runtime/regenerator":57,"chroma-js":60,immutable:61,"rx-dom":63}],2:[function(t,e,n){"use strict";function r(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function i(t,e){return t.map(function(t,n){return{label:String(n),id:String(n),size:2,x:t.x,y:t.y,color:e}})}function o(t,e){return t.map(function(t,n){return{id:String(n),label:String(r(e[t[0]],e[t[1]])),source:String(t[0]),target:String(t[1]),size:2,type:["curve"]}})}var s=t("babel-runtime/core-js/object/assign")["default"],u=t("babel-runtime/core-js/object/create")["default"],a=t("immutable"),c={init:function(){this.g=new sigma({renderers:[{container:document.getElementById("graph-container"),type:"canvas"}]}),this.prevCost=0,this.edgesPrev=[],this.nodesPrev=[],this.g.settings({edgeColor:"default",nodeColor:"default",defaultEdgeColor:"#0000ff",defaultNodeColor:"#ff0000",minNodeSize:3,minEdgeSize:1})},renderOnlyPoints:function(t,e){var n=i(t,e);this.nodesPrev=n,this.g.graph.clear(),this.g.graph.read({nodes:n}),this.g.refresh()},renderCharts:function(t){var e=1e3,n=t.iters.length,r=Math.ceil(n/e),i=t.iters.filter(function(t,e){return e%r===0}),o={x_label:"Iteration",x_accessor:"iter",data:i,width:450,height:300,right:40,left:80,bottom:80,area:!1,linked:!0,animate_on_load:!1,transition_on_update:!1};MG.data_graphic(s({},o,{target:"#tempChart",y_label:"Temperature",y_accessor:"temp"})),MG.data_graphic(s({},o,{target:"#energyChart",y_label:"Energy",y_accessor:"energy"}))},render:function(t,e,n){var r=this,s=t.iter.energy;if(s!==this.prevCost){var u=a.List(t.iter.pos),c=u.shift().concat(u.first()).zip(u),f=o(c,e).toArray(),h=i(e,n);this.g.settings({defaultEdgeColor:n,defaultNodeColor:n}),h!==this.nodesPrev?(this.nodesPrev.map(function(t){return t.id}).forEach(function(t){r.g.graph.dropNode(t)}),h.forEach(function(t){r.g.graph.addNode(t)})):f!==this.edgesPrev&&this.edgesPrev.map(function(t){return t.id}).forEach(function(t){r.g.graph.dropEdge(t)}),(f!==this.edgesPrev||h!==this.nodesPrev)&&(f.forEach(function(t){r.g.graph.addEdge(t)}),this.g.refresh()),this.nodesPrev=h,this.edgesPrev=f,this.prevCost=s}},clear:function(){this.g.graph.clear(),this.g.reset()}};e.exports=u(c),e.exports.init()},{"babel-runtime/core-js/object/assign":7,"babel-runtime/core-js/object/create":8,immutable:61}],3:[function(t,e,n){"use strict";var r=function(t){var e=t('<div class="modal fade" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-hidden="true" style="padding-top:15%; overflow-y:visible;"><div class="modal-dialog modal-m"><div class="modal-content"><div class="modal-header"><h3 style="margin:0;"></h3></div><div class="modal-body"><div class="progress progress-striped active" style="margin-bottom:0;"><div class="progress-bar" style="width: 100%"></div></div></div></div></div></div>');return{show:function(n,r){var i=t.extend({dialogSize:"m",progressType:""},r);"undefined"==typeof n&&(n="Loading"),"undefined"==typeof r&&(r={}),e.find(".modal-dialog").attr("class","modal-dialog").addClass("modal-"+i.dialogSize),e.find(".progress-bar").attr("class","progress-bar"),i.progressType&&e.find(".progress-bar").addClass("progress-bar-"+i.progressType),e.find("h3").text(n),e.modal()},hide:function(){e.modal("hide")}}}(jQuery);e.exports=r},{}],4:[function(t,e,n){e.exports={"default":t("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":12}],5:[function(t,e,n){e.exports={"default":t("core-js/library/fn/get-iterator"),__esModule:!0}},{"core-js/library/fn/get-iterator":13}],6:[function(t,e,n){e.exports={"default":t("core-js/library/fn/is-iterable"),__esModule:!0}},{"core-js/library/fn/is-iterable":14}],7:[function(t,e,n){e.exports={"default":t("core-js/library/fn/object/assign"),__esModule:!0}},{"core-js/library/fn/object/assign":15}],8:[function(t,e,n){e.exports={"default":t("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":16}],9:[function(t,e,n){e.exports={"default":t("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":17}],10:[function(t,e,n){e.exports={"default":t("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":18}],11:[function(t,e,n){e.exports={"default":t("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":19}],12:[function(t,e,n){t("../../modules/es6.string.iterator"),t("../../modules/es6.array.from"),e.exports=t("../../modules/$").core.Array.from},{"../../modules/$":35,"../../modules/es6.array.from":49,"../../modules/es6.string.iterator":54}],13:[function(t,e,n){t("../modules/web.dom.iterable"),t("../modules/es6.string.iterator"),t("../modules/core.iter-helpers"),e.exports=t("../modules/$").core.getIterator},{"../modules/$":35,"../modules/core.iter-helpers":48,"../modules/es6.string.iterator":54,"../modules/web.dom.iterable":56}],14:[function(t,e,n){t("../modules/web.dom.iterable"),t("../modules/es6.string.iterator"),t("../modules/core.iter-helpers"),e.exports=t("../modules/$").core.isIterable},{"../modules/$":35,"../modules/core.iter-helpers":48,"../modules/es6.string.iterator":54,"../modules/web.dom.iterable":56}],15:[function(t,e,n){t("../../modules/es6.object.assign"),e.exports=t("../../modules/$").core.Object.assign},{"../../modules/$":35,"../../modules/es6.object.assign":51}],16:[function(t,e,n){var r=t("../../modules/$");e.exports=function(t,e){return r.create(t,e)}},{"../../modules/$":35}],17:[function(t,e,n){t("../modules/es6.object.to-string"),t("../modules/es6.string.iterator"),t("../modules/web.dom.iterable"),t("../modules/es6.promise"),e.exports=t("../modules/$").core.Promise},{"../modules/$":35,"../modules/es6.object.to-string":52,"../modules/es6.promise":53,"../modules/es6.string.iterator":54,"../modules/web.dom.iterable":56}],18:[function(t,e,n){t("../../modules/es6.symbol"),e.exports=t("../../modules/$").core.Symbol},{"../../modules/$":35,"../../modules/es6.symbol":55}],19:[function(t,e,n){t("../../modules/es6.string.iterator"),t("../../modules/web.dom.iterable"),e.exports=t("../../modules/$.wks")("iterator")},{"../../modules/$.wks":47,"../../modules/es6.string.iterator":54,"../../modules/web.dom.iterable":56}],20:[function(t,e,n){function r(t,e,n){if(!t)throw TypeError(n?e+n:e)}var i=t("./$");r.def=i.assertDefined,r.fn=function(t){if(!i.isFunction(t))throw TypeError(t+" is not a function!");return t},r.obj=function(t){if(!i.isObject(t))throw TypeError(t+" is not an object!");return t},r.inst=function(t,e,n){if(!(t instanceof e))throw TypeError(n+": use the 'new' operator!");return t},e.exports=r},{"./$":35}],21:[function(t,e,n){var r=t("./$"),i=t("./$.enum-keys");e.exports=Object.assign||function(t,e){for(var n=Object(r.assertDefined(t)),o=arguments.length,s=1;o>s;)for(var u,a=r.ES5Object(arguments[s++]),c=i(a),f=c.length,h=0;f>h;)n[u=c[h++]]=a[u];return n}},{"./$":35,"./$.enum-keys":26}],22:[function(t,e,n){function r(t){return s.call(t).slice(8,-1)}var i=t("./$"),o=t("./$.wks")("toStringTag"),s={}.toString;r.classof=function(t){var e,n;return void 0==t?void 0===t?"Undefined":"Null":"string"==typeof(n=(e=Object(t))[o])?n:r(e)},r.set=function(t,e,n){t&&!i.has(t=n?t:t.prototype,o)&&i.hide(t,o,e)},e.exports=r},{"./$":35,"./$.wks":47}],23:[function(t,e,n){var r=t("./$.assert").fn;e.exports=function(t,e,n){if(r(t),~n&&void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},{"./$.assert":20}],24:[function(t,e,n){function r(t,e){return function(){return t.apply(e,arguments)}}function i(t,e,n){var o,c,f,h,l=t&i.G,p=t&i.P,d=l?s:t&i.S?s[e]:(s[e]||{}).prototype,v=l?u:u[e]||(u[e]={});l&&(n=e);for(o in n)c=!(t&i.F)&&d&&o in d,c&&o in v||(f=c?d[o]:n[o],l&&!a(d[o])?h=n[o]:t&i.B&&c?h=r(f,s):t&i.W&&d[o]==f?!function(t){h=function(e){return this instanceof t?new t(e):t(e)},h.prototype=t.prototype}(f):h=p&&a(f)?r(Function.call,f):f,v[o]=h,p&&((v.prototype||(v.prototype={}))[o]=f))}var o=t("./$"),s=o.g,u=o.core,a=o.isFunction;i.F=1,i.G=2,i.S=4,i.P=8,i.B=16,i.W=32,e.exports=i},{"./$":35}],25:[function(t,e,n){var r=t("./$"),i=r.g.document,o=r.isObject,s=o(i)&&o(i.createElement);e.exports=function(t){return s?i.createElement(t):{}}},{"./$":35}],26:[function(t,e,n){var r=t("./$");e.exports=function(t){var e=r.getKeys(t),n=r.getDesc,i=r.getSymbols;return i&&r.each.call(i(t),function(r){n(t,r).enumerable&&e.push(r)}),e}},{"./$":35}],27:[function(t,e,n){var r=t("./$.ctx"),i=t("./$.iter").get,o=t("./$.iter-call");e.exports=function(t,e,n,s){for(var u,a=i(t),c=r(n,s,e?2:1);!(u=a.next()).done;)if(o(a,c,u.value,e)===!1)return o.close(a)}},{"./$.ctx":23,"./$.iter":34,"./$.iter-call":31}],28:[function(t,e,n){e.exports=function(t){return t.FW=!1,t.path=t.core,t}},{}],29:[function(t,e,n){function r(t){try{return s(t)}catch(e){return u.slice()}}var i=t("./$"),o={}.toString,s=i.getNames,u="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.get=function(t){return u&&"[object Window]"==o.call(t)?r(t):s(i.toObject(t))}},{"./$":35}],30:[function(t,e,n){e.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3]);case 5:return r?t(e[0],e[1],e[2],e[3],e[4]):t.call(n,e[0],e[1],e[2],e[3],e[4])}return t.apply(n,e)}},{}],31:[function(t,e,n){function r(t){var e=t["return"];void 0!==e&&o(e.call(t))}function i(t,e,n,i){try{return i?e(o(n)[0],n[1]):e(n)}catch(s){throw r(t),s}}var o=t("./$.assert").obj;i.close=r,e.exports=i},{"./$.assert":20}],32:[function(t,e,n){var r=t("./$.def"),i=t("./$.redef"),o=t("./$"),s=t("./$.cof"),u=t("./$.iter"),a=t("./$.wks")("iterator"),c="@@iterator",f="keys",h="values",l=u.Iterators;e.exports=function(t,e,n,p,d,v,b){function m(t){function e(e){return new n(e,t)}switch(t){case f:return function(){return e(this)};case h:return function(){return e(this)}}return function(){return e(this)}}u.create(n,e,p);var y,g,w=e+" Iterator",_=t.prototype,E=_[a]||_[c]||d&&_[d],S=E||m(d);if(E){var x=o.getProto(S.call(new t));s.set(x,w,!0),o.FW&&o.has(_,c)&&u.set(x,o.that)}if(o.FW&&u.set(_,S),l[e]=S,l[w]=o.that,d)if(y={keys:v?S:m(f),values:d==h?S:m(h),entries:d!=h?S:m("entries")},b)for(g in y)g in _||i(_,g,y[g]);else r(r.P+r.F*u.BUGGY,e,y)}},{"./$":35,"./$.cof":22,"./$.def":24,"./$.iter":34,"./$.redef":38,"./$.wks":47}],33:[function(t,e,n){var r=t("./$.wks")("iterator"),i=!1;try{var o=[7][r]();o["return"]=function(){i=!0},Array.from(o,function(){throw 2})}catch(s){}e.exports=function(t){if(!i)return!1;var e=!1;try{var n=[7],o=n[r]();o.next=function(){e=!0},n[r]=function(){return o},t(n)}catch(s){}return e}},{"./$.wks":47}],34:[function(t,e,n){"use strict";function r(t,e){i.hide(t,c,e),f in[]&&i.hide(t,f,e)}var i=t("./$"),o=t("./$.cof"),s=o.classof,u=t("./$.assert"),a=u.obj,c=t("./$.wks")("iterator"),f="@@iterator",h=t("./$.shared")("iterators"),l={};r(l,i.that),e.exports={BUGGY:"keys"in[]&&!("next"in[].keys()),Iterators:h,step:function(t,e){return{value:e,done:!!t}},is:function(t){var e=Object(t),n=i.g.Symbol;return(n&&n.iterator||f)in e||c in e||i.has(h,s(e))},get:function(t){var e,n=i.g.Symbol;return void 0!=t&&(e=t[n&&n.iterator||f]||t[c]||h[s(t)]),u(i.isFunction(e),t," is not iterable!"),a(e.call(t))},set:r,create:function(t,e,n,r){t.prototype=i.create(r||l,{next:i.desc(1,n)}),o.set(t,e+" Iterator")}}},{"./$":35,"./$.assert":20,"./$.cof":22,"./$.shared":41,"./$.wks":47}],35:[function(t,e,n){"use strict";function r(t){return isNaN(t=+t)?0:(t>0?v:d)(t)}function i(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function o(t,e,n){return t[e]=n,t}function s(t){return y?function(e,n,r){return w.setDesc(e,n,i(t,r))}:o}function u(t){return null!==t&&("object"==typeof t||"function"==typeof t)}function a(t){return"function"==typeof t}function c(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}var f="undefined"!=typeof self?self:Function("return this")(),h={},l=Object.defineProperty,p={}.hasOwnProperty,d=Math.ceil,v=Math.floor,b=Math.max,m=Math.min,y=!!function(){try{return 2==l({},"a",{get:function(){return 2}}).a}catch(t){}}(),g=s(1),w=e.exports=t("./$.fw")({g:f,core:h,html:f.document&&document.documentElement,isObject:u,isFunction:a,that:function(){return this},toInteger:r,toLength:function(t){return t>0?m(r(t),9007199254740991):0},toIndex:function(t,e){return t=r(t),0>t?b(t+e,0):m(t,e)},has:function(t,e){return p.call(t,e)},create:Object.create,getProto:Object.getPrototypeOf,DESC:y,desc:i,getDesc:Object.getOwnPropertyDescriptor,setDesc:l,setDescs:Object.defineProperties,getKeys:Object.keys,getNames:Object.getOwnPropertyNames,getSymbols:Object.getOwnPropertySymbols,assertDefined:c,ES5Object:Object,toObject:function(t){return w.ES5Object(c(t))},hide:g,def:s(0),set:f.Symbol?o:g,each:[].forEach});"undefined"!=typeof __e&&(__e=h),"undefined"!=typeof __g&&(__g=f)},{"./$.fw":28}],36:[function(t,e,n){var r=t("./$");e.exports=function(t,e){for(var n,i=r.toObject(t),o=r.getKeys(i),s=o.length,u=0;s>u;)if(i[n=o[u++]]===e)return n}},{"./$":35}],37:[function(t,e,n){var r=t("./$.redef");e.exports=function(t,e){for(var n in e)r(t,n,e[n]);return t}},{"./$.redef":38}],38:[function(t,e,n){e.exports=t("./$").hide},{"./$":35}],39:[function(t,e,n){e.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},{}],40:[function(t,e,n){function r(t,e){o.obj(t),o(null===e||i.isObject(e),e,": can't set as prototype!")}var i=t("./$"),o=t("./$.assert");e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n){try{n=t("./$.ctx")(Function.call,i.getDesc(Object.prototype,"__proto__").set,2),n({},[])}catch(o){e=!0}return function(t,i){return r(t,i),e?t.__proto__=i:n(t,i),t}}():void 0),check:r}},{"./$":35,"./$.assert":20,"./$.ctx":23}],41:[function(t,e,n){var r=t("./$"),i="__core-js_shared__",o=r.g[i]||r.hide(r.g,i,{})[i];e.exports=function(t){return o[t]||(o[t]={})}},{"./$":35}],42:[function(t,e,n){var r=t("./$"),i=t("./$.wks")("species");e.exports=function(t){!r.DESC||i in t||r.setDesc(t,i,{configurable:!0,get:r.that})}},{"./$":35,"./$.wks":47}],43:[function(t,e,n){var r=t("./$");e.exports=function(t){return function(e,n){var i,o,s=String(r.assertDefined(e)),u=r.toInteger(n),a=s.length;return 0>u||u>=a?t?"":void 0:(i=s.charCodeAt(u),55296>i||i>56319||u+1===a||(o=s.charCodeAt(u+1))<56320||o>57343?t?s.charAt(u):i:t?s.slice(u,u+2):(i-55296<<10)+(o-56320)+65536)}}},{"./$":35}],44:[function(t,e,n){"use strict";function r(){var t=+this;if(a.has(S,t)){var e=S[t];delete S[t],e()}}function i(t){r.call(t.data)}var o,s,u,a=t("./$"),c=t("./$.ctx"),f=t("./$.cof"),h=t("./$.invoke"),l=t("./$.dom-create"),p=a.g,d=a.isFunction,v=a.html,b=p.process,m=p.setImmediate,y=p.clearImmediate,g=p.postMessage,w=p.addEventListener,_=p.MessageChannel,E=0,S={},x="onreadystatechange";d(m)&&d(y)||(m=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return S[++E]=function(){h(d(t)?t:Function(t),e)},o(E),E},y=function(t){delete S[t]},"process"==f(b)?o=function(t){b.nextTick(c(r,t,1))}:w&&d(g)&&!p.importScripts?(o=function(t){g(t,"*")},w("message",i,!1)):d(_)?(s=new _,u=s.port2,s.port1.onmessage=i,o=c(u.postMessage,u,1)):o=x in l("script")?function(t){v.appendChild(l("script"))[x]=function(){v.removeChild(this),r.call(t)}}:function(t){setTimeout(c(r,t,1),0)}),e.exports={set:m,clear:y}},{"./$":35,"./$.cof":22,"./$.ctx":23,"./$.dom-create":25,"./$.invoke":30}],45:[function(t,e,n){function r(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+Math.random()).toString(36))}var i=0;r.safe=t("./$").g.Symbol||r,e.exports=r},{"./$":35}],46:[function(t,e,n){var r=t("./$"),i=t("./$.wks")("unscopables");!r.FW||i in[]||r.hide(Array.prototype,i,{}),e.exports=function(t){r.FW&&([][i][t]=!0)}},{"./$":35,"./$.wks":47}],47:[function(t,e,n){var r=t("./$").g,i=t("./$.shared")("wks");e.exports=function(e){return i[e]||(i[e]=r.Symbol&&r.Symbol[e]||t("./$.uid").safe("Symbol."+e))}},{"./$":35,"./$.shared":41,"./$.uid":45}],48:[function(t,e,n){var r=t("./$").core,i=t("./$.iter");r.isIterable=i.is,r.getIterator=i.get},{"./$":35,"./$.iter":34}],49:[function(t,e,n){var r=t("./$"),i=t("./$.ctx"),o=t("./$.def"),s=t("./$.iter"),u=t("./$.iter-call");o(o.S+o.F*!t("./$.iter-detect")(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,o,a,c=Object(r.assertDefined(t)),f=arguments[1],h=void 0!==f,l=h?i(f,arguments[2],2):void 0,p=0;if(s.is(c))for(a=s.get(c),n=new("function"==typeof this?this:Array);!(o=a.next()).done;p++)n[p]=h?u(a,l,[o.value,p],!0):o.value;else for(n=new("function"==typeof this?this:Array)(e=r.toLength(c.length));e>p;p++)n[p]=h?l(c[p],p):c[p];return n.length=p,n}})},{"./$":35,"./$.ctx":23,"./$.def":24,"./$.iter":34,"./$.iter-call":31,"./$.iter-detect":33}],50:[function(t,e,n){var r=t("./$"),i=t("./$.unscope"),o=t("./$.uid").safe("iter"),s=t("./$.iter"),u=s.step,a=s.Iterators;t("./$.iter-define")(Array,"Array",function(t,e){r.set(this,o,{o:r.toObject(t),i:0,k:e})},function(){var t=this[o],e=t.o,n=t.k,r=t.i++;return!e||r>=e.length?(t.o=void 0,u(1)):"keys"==n?u(0,r):"values"==n?u(0,e[r]):u(0,[r,e[r]])},"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},{"./$":35,"./$.iter":34,"./$.iter-define":32,"./$.uid":45,"./$.unscope":46}],51:[function(t,e,n){var r=t("./$.def");r(r.S,"Object",{assign:t("./$.assign")})},{"./$.assign":21,"./$.def":24}],52:[function(t,e,n){"use strict";var r=t("./$.cof"),i={};i[t("./$.wks")("toStringTag")]="z",t("./$").FW&&"z"!=r(i)&&t("./$.redef")(Object.prototype,"toString",function(){return"[object "+r.classof(this)+"]"},!0)},{"./$":35,"./$.cof":22,"./$.redef":38,"./$.wks":47}],53:[function(t,e,n){"use strict";function r(t){var e=new D(function(){});return t&&(e.constructor=Object),D.resolve(e)===e}function i(t){return O(t)&&(M?"Promise"==v.classof(t):S in t)}function o(t,e){return p.FW||t!==D||e!==l?w(t,e):!0}function s(t){var e=$(t)[E];return void 0!=e?e:t}function u(t){var e;return O(t)&&(e=t.then),A(e)?e:!1}function a(t){var e=t.c;e.length&&N(function(){function n(e){var n,o,s=i?e.ok:e.fail;try{s?(i||(t.h=!0),n=s===!0?r:s(r),n===e.P?e.rej(TypeError("Promise-chain cycle")):(o=u(n))?o.call(n,e.res,e.rej):e.res(n)):e.rej(r)}catch(a){e.rej(a)}}for(var r=t.v,i=1==t.s,o=0;e.length>o;)n(e[o++]);e.length=0})}function c(t){var e,n=t[S],r=n.a||n.c,i=0;if(n.h)return!1;for(;r.length>i;)if(e=r[i++],e.fail||!c(e.P))return!1;return!0}function f(t){var e,n=this;n.d||(n.d=!0,n=n.r||n,n.v=t,n.s=2,n.a=n.c.slice(),setTimeout(function(){N(function(){c(e=n.p)&&("process"==v(k)?k.emit("unhandledRejection",t,e):C.console&&A(console.error)&&void 0),n.a=void 0})},1),a(n))}function h(t){var e,n,r=this;if(!r.d){r.d=!0,r=r.r||r;try{(e=u(t))?(n={r:r,d:!1},e.call(t,d(h,n,1),d(f,n,1))):(r.v=t,r.s=1,a(r))}catch(i){f.call(n||{r:r,d:!1},i)}}}var l,p=t("./$"),d=t("./$.ctx"),v=t("./$.cof"),b=t("./$.def"),m=t("./$.assert"),y=t("./$.for-of"),g=t("./$.set-proto").set,w=t("./$.same"),_=t("./$.species"),E=t("./$.wks")("species"),S=t("./$.uid").safe("record"),x="Promise",C=p.g,k=C.process,N=k&&k.nextTick||t("./$.task").set,D=C[x],A=p.isFunction,O=p.isObject,j=m.fn,$=m.obj,M=function(){function t(e){var n=new D(e);return g(n,t.prototype),n}var e=!1;try{e=A(D)&&A(D.resolve)&&r(),g(t,D),t.prototype=p.create(D.prototype,{constructor:{value:t}}),t.resolve(5).then(function(){})instanceof t||(e=!1)}catch(n){e=!1}return e}();M||(D=function(t){j(t);var e={p:m.inst(this,D,x),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1};p.hide(this,S,e);try{t(d(h,e,1),d(f,e,1))}catch(n){f.call(e,n)}},t("./$.mix")(D.prototype,{then:function(t,e){var n=$($(this).constructor)[E],r={ok:A(t)?t:!0,fail:A(e)?e:!1},i=r.P=new(void 0!=n?n:D)(function(t,e){r.res=j(t),r.rej=j(e)}),o=this[S];return o.c.push(r),o.a&&o.a.push(r),o.s&&a(o),i},"catch":function(t){return this.then(void 0,t)}})),b(b.G+b.W+b.F*!M,{Promise:D}),v.set(D,x),_(D),_(l=p.core[x]),b(b.S+b.F*!M,x,{reject:function(t){return new(s(this))(function(e,n){n(t)})}}),b(b.S+b.F*(!M||r(!0)),x,{resolve:function(t){return i(t)&&o(t.constructor,this)?t:new this(function(e){e(t)})}}),b(b.S+b.F*!(M&&t("./$.iter-detect")(function(t){D.all(t)["catch"](function(){})})),x,{all:function(t){var e=s(this),n=[];return new e(function(r,i){y(t,!1,n.push,n);var o=n.length,s=Array(o);o?p.each.call(n,function(t,n){e.resolve(t).then(function(t){s[n]=t,--o||r(s)},i)}):r(s)})},race:function(t){var e=s(this);return new e(function(n,r){y(t,!1,function(t){e.resolve(t).then(n,r)})})}})},{"./$":35,"./$.assert":20,"./$.cof":22,"./$.ctx":23,"./$.def":24,"./$.for-of":27,"./$.iter-detect":33,"./$.mix":37,"./$.same":39,"./$.set-proto":40,"./$.species":42,"./$.task":44,"./$.uid":45,"./$.wks":47}],54:[function(t,e,n){var r=t("./$").set,i=t("./$.string-at")(!0),o=t("./$.uid").safe("iter"),s=t("./$.iter"),u=s.step;t("./$.iter-define")(String,"String",function(t){r(this,o,{o:String(t),i:0})},function(){var t,e=this[o],n=e.o,r=e.i;return r>=n.length?u(1):(t=i(n,r),e.i+=t.length,u(0,t))})},{"./$":35,"./$.iter":34,"./$.iter-define":32,"./$.string-at":43,"./$.uid":45}],55:[function(t,e,n){"use strict";function r(t){var e=I[t]=h.set(S(O.prototype),$,t);return _&&j&&L(w,t,{configurable:!0,set:function(e){E(this,M)&&E(this[M],t)&&(this[M][t]=!1),L(this,t,k(1,e))}}),e}function i(t,e,n){return n&&E(I,e)?(n.enumerable?(E(t,M)&&t[M][e]&&(t[M][e]=!1),n=S(n,{enumerable:k(0,!1)})):(E(t,M)||C(t,M,k(1,{})),t[M][e]=!0),L(t,e,n)):C(t,e,n)}function o(t,e){g(t);for(var n,r=y(e=A(e)),o=0,s=r.length;s>o;)i(t,n=r[o++],e[n]);return t}function s(t,e){return void 0===e?S(t):o(S(t),e)}function u(t){var e=q.call(this,t);return e||!E(this,t)||!E(I,t)||E(this,M)&&this[M][t]?e:!0}function a(t,e){var n=x(t=A(t),e);return!n||!E(I,e)||E(t,M)&&t[M][e]||(n.enumerable=!0),n}function c(t){for(var e,n=D(A(t)),r=[],i=0;n.length>i;)E(I,e=n[i++])||e==M||r.push(e);return r}function f(t){for(var e,n=D(A(t)),r=[],i=0;n.length>i;)E(I,e=n[i++])&&r.push(I[e]);return r}var h=t("./$"),l=t("./$.cof").set,p=t("./$.uid"),d=t("./$.shared"),v=t("./$.def"),b=t("./$.redef"),m=t("./$.keyof"),y=t("./$.enum-keys"),g=t("./$.assert").obj,w=Object.prototype,_=h.DESC,E=h.has,S=h.create,x=h.getDesc,C=h.setDesc,k=h.desc,N=t("./$.get-names"),D=N.get,A=h.toObject,O=h.g.Symbol,j=!1,$=p("tag"),M=p("hidden"),q={}.propertyIsEnumerable,z=d("symbol-registry"),I=d("symbols"),R=h.isFunction(O),L=_?function(){try{return S(C({},M,{get:function(){return C(this,M,{value:!1})[M]}}))[M]||C}catch(t){return function(t,e,n){var r=x(w,e);r&&delete w[e],C(t,e,n),r&&t!==w&&C(w,e,r)}}}():C;R||(O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor");return r(p(arguments[0]))},b(O.prototype,"toString",function(){return this[$]}),h.create=s,h.setDesc=i,h.getDesc=a,h.setDescs=o,h.getNames=N.get=c,h.getSymbols=f,h.DESC&&h.FW&&b(w,"propertyIsEnumerable",u,!0));var W={"for":function(t){return E(z,t+="")?z[t]:z[t]=O(t)},keyFor:function(t){return m(z,t)},useSetter:function(){j=!0},useSimple:function(){j=!1}};h.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(e){var n=t("./$.wks")(e);W[e]=R?n:r(n)}),j=!0,v(v.G+v.W,{Symbol:O}),v(v.S,"Symbol",W),v(v.S+v.F*!R,"Object",{create:s,defineProperty:i,defineProperties:o,getOwnPropertyDescriptor:a,getOwnPropertyNames:c,getOwnPropertySymbols:f}),l(O,"Symbol"),l(Math,"Math",!0),l(h.g.JSON,"JSON",!0)},{"./$":35,"./$.assert":20,"./$.cof":22,"./$.def":24,"./$.enum-keys":26,"./$.get-names":29,"./$.keyof":36,"./$.redef":38,"./$.shared":41,"./$.uid":45,"./$.wks":47}],56:[function(t,e,n){t("./es6.array.iterator");var r=t("./$"),i=t("./$.iter").Iterators,o=t("./$.wks")("iterator"),s=i.Array,u=r.g.NodeList,a=r.g.HTMLCollection,c=u&&u.prototype,f=a&&a.prototype;r.FW&&(!u||o in c||r.hide(c,o,s),!a||o in f||r.hide(f,o,s)),i.NodeList=i.HTMLCollection=s},{"./$":35,"./$.iter":34,"./$.wks":47,"./es6.array.iterator":50}],57:[function(t,e,n){(function(n){var r="object"==typeof n?n:"object"==typeof window?window:"object"==typeof self?self:this,i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;r.regeneratorRuntime=void 0,e.exports=t("./runtime"),i?r.regeneratorRuntime=o:delete r.regeneratorRuntime,e.exports={"default":e.exports,__esModule:!0}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./runtime":58}],58:[function(t,e,n){(function(n,r){"use strict";var i=t("babel-runtime/core-js/symbol")["default"],o=t("babel-runtime/core-js/symbol/iterator")["default"],s=t("babel-runtime/core-js/object/create")["default"],u=t("babel-runtime/core-js/promise")["default"];!function(t){function r(t,e,n,r){var i=s((e||c).prototype);return i._invoke=v(t,n||null,new y(r||[])),i}function a(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}function c(){}function f(){}function h(){}function l(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function p(t){this.arg=t}function d(t){function e(e,n){var r=t[e](n),i=r.value;return i instanceof p?u.resolve(i.arg).then(o,s):r}function r(t,n){var r=i?i.then(function(){return e(t,n)}):new u(function(r){r(e(t,n))});return i=r["catch"](a),r}"object"==typeof n&&n.domain&&(e=n.domain.bind(e));var i,o=e.bind(t,"next"),s=e.bind(t,"throw"),a=e.bind(t,"return");this._invoke=r}function v(t,e,n){var r=k;return function(i,o){if(r===D)throw new Error("Generator is already running");if(r===A)return w();for(;;){var s=n.delegate;if(s){if("return"===i||"throw"===i&&s.iterator[i]===_){n.delegate=null;var u=s.iterator["return"];if(u){var c=a(u,s.iterator,o);if("throw"===c.type){i="throw",o=c.arg;continue}}if("return"===i)continue}var c=a(s.iterator[i],s.iterator,o);if("throw"===c.type){n.delegate=null,i="throw",o=c.arg;continue}i="next",o=_;var f=c.arg;if(!f.done)return r=N,f;n[s.resultName]=f.value,n.next=s.nextLoc,
n.delegate=null}if("next"===i)r===N?n.sent=o:delete n.sent;else if("throw"===i){if(r===k)throw r=A,o;n.dispatchException(o)&&(i="next",o=_)}else"return"===i&&n.abrupt("return",o);r=D;var c=a(t,e,n);if("normal"===c.type){r=n.done?A:N;var f={value:c.arg,done:n.done};if(c.arg!==O)return f;n.delegate&&"next"===i&&(o=_)}else"throw"===c.type&&(r=A,i="throw",o=c.arg)}}}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function m(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function y(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset()}function g(t){if(t){var e=t[S];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function i(){for(;++n<t.length;)if(E.call(t,n))return i.value=t[n],i.done=!1,i;return i.value=_,i.done=!0,i};return r.next=r}}return{next:w}}function w(){return{value:_,done:!0}}var _,E=Object.prototype.hasOwnProperty,S="function"==typeof i&&o||"@@iterator",x="object"==typeof e,C=t.regeneratorRuntime;if(C)return void(x&&(e.exports=C));C=t.regeneratorRuntime=x?e.exports:{},C.wrap=r;var k="suspendedStart",N="suspendedYield",D="executing",A="completed",O={},j=h.prototype=c.prototype;f.prototype=j.constructor=h,h.constructor=f,f.displayName="GeneratorFunction",C.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return e?e===f||"GeneratorFunction"===(e.displayName||e.name):!1},C.mark=function(t){return t.__proto__=h,t.prototype=s(j),t},C.awrap=function(t){return new p(t)},l(d.prototype),C.async=function(t,e,n,i){var o=new d(r(t,e,n,i));return C.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},l(j),j[S]=function(){return this},j.toString=function(){return"[object Generator]"},C.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},C.values=g,y.prototype={constructor:y,reset:function(){this.prev=0,this.next=0,this.sent=_,this.done=!1,this.delegate=null,this.tryEntries.forEach(m);for(var t,e=0;E.call(this,t="t"+e)||20>e;++e)this[t]=null},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return o.type="throw",o.arg=t,n.next=e,!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var s=E.call(i,"catchLoc"),u=E.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&E.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?this.next=i.finallyLoc:this.complete(o),O},complete:function(t,e){if("throw"===t.type)throw t.arg;"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=t.arg,this.next="end"):"normal"===t.type&&e&&(this.next=e)},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),m(n),O}},"catch":function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;m(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:g(t),resultName:e,nextLoc:n},O}}}("object"==typeof r?r:"object"==typeof window?window:"object"==typeof self?self:void 0)}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:59,"babel-runtime/core-js/object/create":8,"babel-runtime/core-js/promise":9,"babel-runtime/core-js/symbol":10,"babel-runtime/core-js/symbol/iterator":11}],59:[function(t,e,n){function r(){f=!1,u.length?c=u.concat(c):h=-1,c.length&&i()}function i(){if(!f){var t=setTimeout(r);f=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u[h].run();h=-1,e=c.length}u=null,f=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function s(){}var u,a=e.exports={},c=[],f=!1,h=-1;a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new o(t,e)),1!==c.length||f||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=s,a.addListener=s,a.once=s,a.off=s,a.removeListener=s,a.removeAllListeners=s,a.emit=s,a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],60:[function(t,e,n){(function(){var t,r,i,o,s,u,a,c,f,h,l,p,d,v,b,m,y,g,w,_,E,S,x,C,k,N,D,A,O,j,$,M,q,z,I,R,L,W,T,P,F,B,U,V,K,G,H,J,X,Y,Q,Z,tt,et,nt,rt,it,ot,st;d=function(e,n,r,i){return new t(e,n,r,i)},"undefined"!=typeof e&&null!==e&&null!=e.exports&&(e.exports=d),"function"==typeof define&&define.amd?define([],function(){return d}):(Q="undefined"!=typeof n&&null!==n?n:this,Q.chroma=d),d.color=function(e,n,r,i){return new t(e,n,r,i)},d.hsl=function(e,n,r,i){return new t(e,n,r,i,"hsl")},d.hsv=function(e,n,r,i){return new t(e,n,r,i,"hsv")},d.rgb=function(e,n,r,i){return new t(e,n,r,i,"rgb")},d.hex=function(e){return new t(e)},d.css=function(e){return new t(e)},d.lab=function(e,n,r){return new t(e,n,r,"lab")},d.lch=function(e,n,r){return new t(e,n,r,"lch")},d.hsi=function(e,n,r){return new t(e,n,r,"hsi")},d.gl=function(e,n,r,i){return new t(e,n,r,i,"gl")},d.num=function(e){return new t(e,"num")},d.random=function(){var e,n,r,i;for(n="0123456789abcdef",e="#",r=i=0;6>i;r=++i)e+=n.charAt(E(16*Math.random()));return new t(e)},d.interpolate=function(e,n,r,i){var o,s;return null==e||null==n?"#000":(("string"===(o=rt(e))||"number"===o)&&(e=new t(e)),("string"===(s=rt(n))||"number"===s)&&(n=new t(n)),e.interpolate(r,n,i))},d.mix=d.interpolate,d.contrast=function(e,n){var r,i,o,s;return("string"===(o=rt(e))||"number"===o)&&(e=new t(e)),("string"===(s=rt(n))||"number"===s)&&(n=new t(n)),r=e.luminance(),i=n.luminance(),r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)},d.luminance=function(t){return d(t).luminance()},d.kelvin=function(t){return d(nt(t),"rgb")},d.version="0.7.8",d._Color=t,t=function(){function t(){var t,e,n,r,i,o,s,u,a,c,f,h,l,p,d,b;for(o=this,n=[],u=0,r=arguments.length;r>u;u++)e=arguments[u],null!=e&&n.push(e);if(0===n.length)a=[255,0,255,1,"rgb"],p=a[0],d=a[1],b=a[2],t=a[3],i=a[4];else if("array"===rt(n[0])){if(3===n[0].length)c=n[0],p=c[0],d=c[1],b=c[2],t=1;else{if(4!==n[0].length)throw"unknown input argument";f=n[0],p=f[0],d=f[1],b=f[2],t=f[3]}i=null!=(h=n[1])?h:"rgb"}else"string"===rt(n[0])?(p=n[0],i="hex"):"object"===rt(n[0])?(l=n[0]._rgb,p=l[0],d=l[1],b=l[2],t=l[3],i="rgb"):n.length<=2&&"number"===rt(n[0])?(p=n[0],i="num"):n.length>=3&&(p=n[0],d=n[1],b=n[2]);3===n.length?(i="rgb",t=1):4===n.length?"string"===rt(n[3])?(i=n[3],t=1):"number"===rt(n[3])&&(i="rgb",t=n[3]):5===n.length&&(t=n[3],i=n[4]),null==t&&(t=1),"rgb"===i?o._rgb=[p,d,b,t]:"gl"===i?o._rgb=[255*p,255*d,255*b,t]:"hsl"===i?(o._rgb=C(p,d,b),o._rgb[3]=t):"hsv"===i?(o._rgb=k(p,d,b),o._rgb[3]=t):"hex"===i?o._rgb=S(p):"lab"===i?(o._rgb=D(p,d,b),o._rgb[3]=t):"lch"===i?(o._rgb=j(p,d,b),o._rgb[3]=t):"hsi"===i?(o._rgb=x(p,d,b),o._rgb[3]=t):"num"===i&&(o._rgb=W(p)),s=v(o._rgb)}return t.prototype.rgb=function(){return this._rgb.slice(0,3)},t.prototype.rgba=function(){return this._rgb},t.prototype.hex=function(t){return null==t&&(t="rgb"),F(this._rgb,t)},t.prototype.toString=function(){return this.name()},t.prototype.hsl=function(){return U(this._rgb)},t.prototype.hsv=function(){return V(this._rgb)},t.prototype.lab=function(){return K(this._rgb)},t.prototype.lch=function(){return G(this._rgb)},t.prototype.hsi=function(){return B(this._rgb)},t.prototype.gl=function(){return[this._rgb[0]/255,this._rgb[1]/255,this._rgb[2]/255,this._rgb[3]]},t.prototype.num=function(){return H(this._rgb)},t.prototype.luminance=function(e,n){var r,i,o,s;return null==n&&(n="rgb"),arguments.length?(0===e&&(this._rgb=[0,0,0,this._rgb[3]]),1===e&&(this._rgb=[255,255,255,this._rgb[3]]),r=z(this._rgb),i=1e-7,o=20,s=function(t,r){var u,a;return a=t.interpolate(.5,r,n),u=a.luminance(),Math.abs(e-u)<i||!o--?a:u>e?s(t,a):s(a,r)},this._rgb=(r>e?s(new t("black"),this):s(this,new t("white"))).rgba(),this):z(this._rgb)},t.prototype.name=function(){var t,e;t=this.hex();for(e in d.colors)if(t===d.colors[e])return e;return t},t.prototype.alpha=function(t){return arguments.length?(this._rgb[3]=t,this):this._rgb[3]},t.prototype.css=function(t){var e,n,r,i;return null==t&&(t="rgb"),n=this,r=n._rgb,3===t.length&&r[3]<1&&(t+="a"),"rgb"===t?t+"("+r.slice(0,3).map(Z).join(",")+")":"rgba"===t?t+"("+r.slice(0,3).map(Z).join(",")+","+r[3]+")":"hsl"===t||"hsla"===t?(e=n.hsl(),i=function(t){return Z(100*t)/100},e[0]=i(e[0]||0),e[1]=i(100*e[1])+"%",e[2]=i(100*e[2])+"%",4===t.length&&(e[3]=r[3]),t+"("+e.join(",")+")"):void 0},t.prototype.interpolate=function(e,n,r){var i,o,s,u,a,c,f,h,l,p,d,v,b,m;if(h=this,null==r&&(r="rgb"),"string"===rt(n)&&(n=new t(n)),"hsl"===r||"hsv"===r||"lch"===r||"hsi"===r)"hsl"===r?(b=h.hsl(),m=n.hsl()):"hsv"===r?(b=h.hsv(),m=n.hsv()):"hsi"===r?(b=h.hsi(),m=n.hsi()):"lch"===r&&(b=h.lch(),m=n.lch()),"h"===r.substr(0,1)?(s=b[0],d=b[1],c=b[2],u=m[0],v=m[1],f=m[2]):(c=b[0],d=b[1],s=b[2],f=m[0],v=m[1],u=m[2]),isNaN(s)||isNaN(u)?isNaN(s)?isNaN(u)?o=Number.NaN:(o=u,1!==c&&0!==c||"hsv"===r||(p=v)):(o=s,1!==f&&0!==f||"hsv"===r||(p=d)):(i=u>s&&u-s>180?u-(s+360):s>u&&s-u>180?u+360-s:u-s,o=s+e*i),null==p&&(p=d+e*(v-d)),a=c+e*(f-c),l="h"===r.substr(0,1)?new t(o,p,a,r):new t(a,p,o,r);else if("rgb"===r)b=h._rgb,m=n._rgb,l=new t(b[0]+e*(m[0]-b[0]),b[1]+e*(m[1]-b[1]),b[2]+e*(m[2]-b[2]),r);else if("num"===r)n instanceof t||(n=new t(n,r)),b=h._rgb,m=n._rgb,l=new t((b[0]+e*(m[0]-b[0])<<16)+(b[1]+e*(m[1]-b[1])<<8)+(b[2]+e*(m[2]-b[2])&255),r);else{if("lab"!==r)throw"color mode "+r+" is not supported";b=h.lab(),m=n.lab(),l=new t(b[0]+e*(m[0]-b[0]),b[1]+e*(m[1]-b[1]),b[2]+e*(m[2]-b[2]),r)}return l.alpha(h.alpha()+e*(n.alpha()-h.alpha())),l},t.prototype.mix=function(t,e,n){return this.interpolate(t,e,n)},t.prototype.premultiply=function(){var t,e;return e=this.rgb(),t=this.alpha(),d(e[0]*t,e[1]*t,e[2]*t,t)},t.prototype.darken=function(t){var e,n;return null==t&&(t=20),n=this,e=n.lch(),e[0]-=t,d.lch(e).alpha(n.alpha())},t.prototype.darker=function(t){return this.darken(t)},t.prototype.brighten=function(t){return null==t&&(t=20),this.darken(-t)},t.prototype.brighter=function(t){return this.brighten(t)},t.prototype.saturate=function(t){var e,n;return null==t&&(t=20),n=this,e=n.lch(),e[1]+=t,d.lch(e).alpha(n.alpha())},t.prototype.desaturate=function(t){return null==t&&(t=20),this.saturate(-t)},t.prototype.blend=function(t,e){return d.blend(this,t,e)},t.prototype.kelvin=function(){return J(this.rgb())},t}(),v=function(t){var e;for(e in t)3>e?(t[e]<0&&(t[e]=0),t[e]>255&&(t[e]=255)):3===e&&(t[e]<0&&(t[e]=0),t[e]>1&&(t[e]=1));return t},y=function(t){var e,n,r,i,o,s,u,a;if(t=t.toLowerCase(),null!=d.colors&&d.colors[t])return S(d.colors[t]);if(o=t.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(u=o.slice(1,4),i=s=0;2>=s;i=++s)u[i]=+u[i];u[3]=1}else if(o=t.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(u=o.slice(1,5),i=a=0;3>=a;i=++a)u[i]=+u[i];else if(o=t.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(u=o.slice(1,4),i=e=0;2>=e;i=++e)u[i]=Z(2.55*u[i]);u[3]=1}else if(o=t.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(u=o.slice(1,5),i=n=0;2>=n;i=++n)u[i]=Z(2.55*u[i]);u[3]=+u[3]}else(o=t.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?(r=o.slice(1,4),r[1]*=.01,r[2]*=.01,u=C(r),u[3]=1):(o=t.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&(r=o.slice(1,4),r[1]*=.01,r[2]*=.01,u=C(r),u[3]=+o[4]);return u},S=function(t){var e,n,r,i,o,s;if(t.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return(4===t.length||7===t.length)&&(t=t.substr(1)),3===t.length&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),s=parseInt(t,16),i=s>>16,r=s>>8&255,n=255&s,[i,r,n,1];if(t.match(/^#?([A-Fa-f0-9]{8})$/))return 9===t.length&&(t=t.substr(1)),s=parseInt(t,16),i=s>>24&255,r=s>>16&255,n=s>>8&255,e=Z((255&s)/255*100)/100,[i,r,n,e];if(o=y(t))return o;throw"unknown color: "+t},x=function(t,e,n){var r,s,u,a;return a=it(arguments),t=a[0],e=a[1],n=a[2],t/=360,1/3>t?(r=(1-e)/3,u=(1+e*m(o*t)/m(i-o*t))/3,s=1-(r+u)):2/3>t?(t-=1/3,u=(1-e)/3,s=(1+e*m(o*t)/m(i-o*t))/3,r=1-(u+s)):(t-=2/3,s=(1-e)/3,r=(1+e*m(o*t)/m(i-o*t))/3,u=1-(s+r)),u=M(n*u*3),s=M(n*s*3),r=M(n*r*3),[255*u,255*s,255*r]},C=function(){var t,e,n,r,i,o,s,u,a,c,f,h,l,p;if(a=it(arguments),r=a[0],f=a[1],o=a[2],0===f)u=n=t=255*o;else{for(p=[0,0,0],e=[0,0,0],l=.5>o?o*(1+f):o+f-o*f,h=2*o-l,r/=360,p[0]=r+1/3,p[1]=r,p[2]=r-1/3,i=s=0;2>=s;i=++s)p[i]<0&&(p[i]+=1),p[i]>1&&(p[i]-=1),e[i]=6*p[i]<1?h+6*(l-h)*p[i]:2*p[i]<1?l:3*p[i]<2?h+(l-h)*(2/3-p[i])*6:h;c=[Z(255*e[0]),Z(255*e[1]),Z(255*e[2])],u=c[0],n=c[1],t=c[2]}return[u,n,t]},k=function(){var t,e,n,r,i,o,s,u,a,c,f,h,l,p,d,v,b,m;if(a=it(arguments),r=a[0],v=a[1],m=a[2],m*=255,0===v)u=n=t=m;else switch(360===r&&(r=0),r>360&&(r-=360),0>r&&(r+=360),r/=60,i=E(r),e=r-i,o=m*(1-v),s=m*(1-v*e),b=m*(1-v*(1-e)),i){case 0:c=[m,b,o],u=c[0],n=c[1],t=c[2];break;case 1:f=[s,m,o],u=f[0],n=f[1],t=f[2];break;case 2:h=[o,m,b],u=h[0],n=h[1],t=h[2];break;case 3:l=[o,s,m],u=l[0],n=l[1],t=l[2];break;case 4:p=[b,o,m],u=p[0],n=p[1],t=p[2];break;case 5:d=[m,o,s],u=d[0],n=d[1],t=d[2]}return u=Z(u),n=Z(n),t=Z(t),[u,n,t]},r=18,s=.95047,u=1,a=1.08883,N=function(){var t,e,n,r,i,o;return o=it(arguments),i=o[0],t=o[1],e=o[2],n=Math.sqrt(t*t+e*e),r=(Math.atan2(e,t)/Math.PI*180+360)%360,[i,n,r]},D=function(t,e,n){var r,i,o,c,f,h,l;return void 0!==t&&3===t.length&&(o=t,t=o[0],e=o[1],n=o[2]),void 0!==t&&3===t.length&&(c=t,t=c[0],e=c[1],n=c[2]),h=(t+16)/116,f=h+e/500,l=h-n/200,f=A(f)*s,h=A(h)*u,l=A(l)*a,i=st(3.2404542*f-1.5371385*h-.4985314*l),r=st(-.969266*f+1.8760108*h+.041556*l),n=st(.0556434*f-.2040259*h+1.0572252*l),[M(i,0,255),M(r,0,255),M(n,0,255),1]},A=function(t){return t>.206893034?t*t*t:(t-4/29)/7.787037},st=function(t){return Z(255*(.00304>=t?12.92*t:1.055*P(t,1/2.4)-.055))},O=function(){var t,e,n,r;return r=it(arguments),n=r[0],t=r[1],e=r[2],e=e*Math.PI/180,[n,Math.cos(e)*t,Math.sin(e)*t]},j=function(t,e,n){var r,i,o,s,u,a,c;return a=O(t,e,n),r=a[0],i=a[1],o=a[2],c=D(r,i,o),u=c[0],s=c[1],o=c[2],[M(u,0,255),M(s,0,255),M(o,0,255)]},z=function(t,e,n){var r;return r=it(arguments),t=r[0],e=r[1],n=r[2],t=I(t),e=I(e),n=I(n),.2126*t+.7152*e+.0722*n},I=function(t){return t/=255,.03928>=t?t/12.92:Math.pow((t+.055)/1.055,2.4)},W=function(t){var e,n,r;if("number"===rt(t)&&t>=0&&16777215>=t)return r=t>>16,n=t>>8&255,e=255&t,[r,n,e,1];throw"unknown num color: "+t},F=function(t,e){var n,r,i,o,s,u,a;return null==e&&(e="rgb"),s=t[0],i=t[1],r=t[2],n=t[3],a=s<<16|i<<8|r,u="000000"+a.toString(16),u=u.substr(u.length-6),o="0"+Z(255*n).toString(16),o=o.substr(o.length-2),"#"+function(){switch(e.toLowerCase()){case"rgba":return u+o;case"argb":return o+u;default:return u}}()},B=function(){var t,e,n,r,i,o,s,u,a;return u=it(arguments),s=u[0],n=u[1],e=u[2],t=2*Math.PI,s/=255,n/=255,e/=255,o=Math.min(s,n,e),i=(s+n+e)/3,a=1-o/i,0===a?r=0:(r=(s-n+(s-e))/2,r/=Math.sqrt((s-n)*(s-n)+(s-e)*(n-e)),r=Math.acos(r),e>n&&(r=t-r),r/=t),[360*r,a,i]},U=function(t,e,n){var r,i,o,s,u,a;return void 0!==t&&t.length>=3&&(u=t,t=u[0],e=u[1],n=u[2]),t/=255,e/=255,n/=255,s=Math.min(t,e,n),o=Math.max(t,e,n),i=(o+s)/2,o===s?(a=0,r=Number.NaN):a=.5>i?(o-s)/(o+s):(o-s)/(2-o-s),t===o?r=(e-n)/(o-s):e===o?r=2+(n-t)/(o-s):n===o&&(r=4+(t-e)/(o-s)),r*=60,0>r&&(r+=360),[r,a,i]},V=function(){var t,e,n,r,i,o,s,u,a,c;return u=it(arguments),s=u[0],n=u[1],t=u[2],o=Math.min(s,n,t),i=Math.max(s,n,t),e=i-o,c=i/255,0===i?(r=Number.NaN,a=0):(a=e/i,s===i&&(r=(n-t)/e),n===i&&(r=2+(t-s)/e),t===i&&(r=4+(s-n)/e),r*=60,0>r&&(r+=360)),[r,a,c]},K=function(){var t,e,n,r,i,o,s,u;return r=it(arguments),n=r[0],e=r[1],t=r[2],i=X(n,e,t),o=i[0],s=i[1],u=i[2],[116*s-16,500*(o-s),200*(s-u)]},Y=function(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},ot=function(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29},X=function(){var t,e,n,r,i,o,c;return r=it(arguments),n=r[0],e=r[1],t=r[2],n=Y(n),e=Y(e),t=Y(t),i=ot((.4124564*n+.3575761*e+.1804375*t)/s),o=ot((.2126729*n+.7151522*e+.072175*t)/u),c=ot((.0193339*n+.119192*e+.9503041*t)/a),[i,o,c]},G=function(){var t,e,n,r,i,o,s;return o=it(arguments),i=o[0],n=o[1],e=o[2],s=K(i,n,e),r=s[0],t=s[1],e=s[2],N(r,t,e)},H=function(){var t,e,n,r;return r=it(arguments),n=r[0],e=r[1],t=r[2],(n<<16)+(e<<8)+t},nt=function(t){var e,n,r,i;return i=t/100,66>i?(r=255,n=-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*q(n),e=20>i?0:-254.76935184120902+.8274096064007395*(e=i-10)+115.67994401066147*q(e)):(r=351.97690566805693+.114206453784165*(r=i-55)-40.25366309332127*q(r),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*q(n),e=255),v([r,n,e])},J=function(){var t,e,n,r,i,o,s,u,a;for(s=it(arguments),o=s[0],n=s[1],t=s[2],i=1e3,r=4e4,e=.4;r-i>e;)a=.5*(r+i),u=nt(a),u[2]/u[0]>=t/o?r=a:i=a;return Z(a)},d.scale=function(t,e){var n,r,i,o,s,u,a,c,f,h,l,p,v,b,m,y,g,w,_,E,S;return c="rgb",f=d("#ccc"),v=0,s=!1,o=[0,1],r=[],l=!1,p=[],a=0,u=1,i=!1,h=0,n={},_=function(t,e){var n,i,o,s,u,a,c;if(null==t&&(t=["#ddd","#222"]),null!=t&&"string"===rt(t)&&null!=(null!=(s=d.brewer)?s[t]:void 0)&&(t=d.brewer[t]),"array"===rt(t)){for(t=t.slice(0),n=o=0,u=t.length-1;u>=0?u>=o:o>=u;n=u>=0?++o:--o)i=t[n],"string"===rt(i)&&(t[n]=d(i));if(null!=e)p=e;else for(p=[],n=c=0,a=t.length-1;a>=0?a>=c:c>=a;n=a>=0?++c:--c)p.push(n/(t.length-1))}return w(),r=t},E=function(t){return null==t&&(t=[]),o=t,a=t[0],u=t[t.length-1],w(),h=2===t.length?0:t.length-1},y=function(t){var e,n;if(null!=o){for(n=o.length-1,e=0;n>e&&t>=o[e];)e++;return e-1}return 0},S=function(t){return t},b=function(t){var e,n,r,i,s;return s=t,o.length>2&&(i=o.length-1,e=y(t),r=o[0]+(o[1]-o[0])*(0+.5*v),n=o[i-1]+(o[i]-o[i-1])*(1-.5*v),s=a+(o[e]+.5*(o[e+1]-o[e])-r)/(n-r)*(u-a)),s},g=function(t,e){var i,s,l,v,b,m,g,w,_;if(null==e&&(e=!1),isNaN(t))return f;if(e?_=t:o.length>2?(i=y(t),_=i/(h-1)):(_=l=a!==u?(t-a)/(u-a):0,_=l=(t-a)/(u-a),_=Math.min(1,Math.max(0,_))),e||(_=S(_)),b=Math.floor(1e4*_),n[b])s=n[b];else{if("array"===rt(r))for(v=m=0,w=p.length-1;w>=0?w>=m:m>=w;v=w>=0?++m:--m){if(g=p[v],g>=_){s=r[v];break}if(_>=g&&v===p.length-1){s=r[v];break}if(_>g&&_<p[v+1]){_=(_-g)/(p[v+1]-g),s=d.interpolate(r[v],r[v+1],_,c);break}}else"function"===rt(r)&&(s=r(_));n[b]=s}return s},w=function(){return n={}},_(t,e),m=function(t){var e;return e=g(t),l&&e[l]?e[l]():e},m.domain=function(t,e,n,r){var i;return null==n&&(n="e"),arguments.length?(null!=e&&(i=d.analyze(t,r),t=0===e?[i.min,i.max]:d.limits(i,n,e)),E(t),m):o},m.mode=function(t){return arguments.length?(c=t,w(),m):c},m.range=function(t,e){return _(t,e),m},m.out=function(t){return l=t,m},m.spread=function(t){return arguments.length?(v=t,m):v},m.correctLightness=function(t){return arguments.length?(i=t,w(),S=i?function(t){var e,n,r,i,o,s,u,a,c;for(e=g(0,!0).lab()[0],n=g(1,!0).lab()[0],u=e>n,r=g(t,!0).lab()[0],o=e+(n-e)*t,i=r-o,a=0,c=1,s=20;Math.abs(i)>.01&&s-->0;)!function(){return u&&(i*=-1),0>i?(a=t,t+=.5*(c-t)):(c=t,t+=.5*(a-t)),r=g(t,!0).lab()[0],i=r-o}();return t}:function(t){return t},m):i},m.colors=function(e){var n,r,i,s,u,a;if(null==e&&(e="hex"),t=[],u=[],o.length>2)for(n=i=1,s=o.length;s>=1?s>i:i>s;n=s>=1?++i:--i)u.push(.5*(o[n-1]+o[n]));else u=o;for(a=0,r=u.length;r>a;a++)n=u[a],t.push(m(n)[e]());return t},m},null==d.scales&&(d.scales={}),d.scales.cool=function(){return d.scale([d.hsl(180,1,.9),d.hsl(250,.7,.4)])},d.scales.hot=function(){return d.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},d.analyze=function(t,e,n){var r,i,o,s,u,a,c;if(u={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==n&&(n=function(){return!0}),r=function(t){null==t||isNaN(t)||(u.values.push(t),u.sum+=t,t<u.min&&(u.min=t),t>u.max&&(u.max=t),u.count+=1)},c=function(t,i){return n(t,i)?r(null!=e&&"function"===rt(e)?e(t):null!=e&&"string"===rt(e)||"number"===rt(e)?t[e]:t):void 0},"array"===rt(t))for(s=0,o=t.length;o>s;s++)a=t[s],c(a);else for(i in t)a=t[i],c(a,i);return u.domain=[u.min,u.max],u.limits=function(t,e){return d.limits(u,t,e)},u},d.limits=function(t,e,n){var r,i,o,s,u,a,c,f,h,l,p,v,b,m,y,g,w,_,S,x,C,k,N,D,A,O,j,$,M,z,I,R,L,W,T,F,B,U,V,K,G,H,J,X,Y,Q,Z,tt,et,nt,it,ot,st,ut,at,ct;if(null==e&&(e="equal"),null==n&&(n=7),"array"===rt(t)&&(t=d.analyze(t)),O=t.min,D=t.max,ot=t.sum,at=t.values.sort(function(t,e){return t-e}),N=[],"c"===e.substr(0,1)&&(N.push(O),N.push(D)),"e"===e.substr(0,1)){for(N.push(O),x=R=1,F=n-1;F>=1?F>=R:R>=F;x=F>=1?++R:--R)N.push(O+x/n*(D-O));N.push(D)}else if("l"===e.substr(0,1)){if(0>=O)throw"Logarithmic scales are only possible for values > 0";for(j=Math.LOG10E*q(O),A=Math.LOG10E*q(D),N.push(O),x=ct=1,B=n-1;B>=1?B>=ct:ct>=B;x=B>=1?++ct:--ct)N.push(P(10,j+x/n*(A-j)));N.push(D)}else if("q"===e.substr(0,1)){for(N.push(O),x=r=1,J=n-1;J>=1?J>=r:r>=J;x=J>=1?++r:--r)L=at.length*x/n,W=E(L),W===L?N.push(at[W]):(T=L-W,N.push(at[W]*T+at[W+1]*(1-T)));N.push(D)}else if("k"===e.substr(0,1)){for(M=at.length,m=new Array(M),_=new Array(n),it=!0,z=0,g=null,g=[],g.push(O),x=i=1,X=n-1;X>=1?X>=i:i>=X;x=X>=1?++i:--i)g.push(O+x/n*(D-O));for(g.push(D);it;){for(C=o=0,Y=n-1;Y>=0?Y>=o:o>=Y;C=Y>=0?++o:--o)_[C]=0;for(x=s=0,Q=M-1;Q>=0?Q>=s:s>=Q;x=Q>=0?++s:--s){for(ut=at[x],$=Number.MAX_VALUE,C=u=0,Z=n-1;Z>=0?Z>=u:u>=Z;C=Z>=0?++u:--u)S=abs(g[C]-ut),$>S&&($=S,y=C);_[y]++,m[x]=y}for(I=new Array(n),C=a=0,tt=n-1;tt>=0?tt>=a:a>=tt;C=tt>=0?++a:--a)I[C]=null;for(x=c=0,et=M-1;et>=0?et>=c:c>=et;x=et>=0?++c:--c)w=m[x],null===I[w]?I[w]=at[x]:I[w]+=at[x];for(C=f=0,nt=n-1;nt>=0?nt>=f:f>=nt;C=nt>=0?++f:--f)I[C]*=1/_[C];for(it=!1,C=h=0,U=n-1;U>=0?U>=h:h>=U;C=U>=0?++h:--h)if(I[C]!==g[x]){it=!0;break}g=I,z++,z>200&&(it=!1)}for(k={},C=l=0,V=n-1;V>=0?V>=l:l>=V;C=V>=0?++l:--l)k[C]=[];for(x=p=0,K=M-1;K>=0?K>=p:p>=K;x=K>=0?++p:--p)w=m[x],k[w].push(at[x]);for(st=[],C=v=0,G=n-1;G>=0?G>=v:v>=G;C=G>=0?++v:--v)st.push(k[C][0]),st.push(k[C][k[C].length-1]);for(st=st.sort(function(t,e){return t-e}),N.push(st[0]),x=b=1,H=st.length-1;H>=b;x=b+=2)isNaN(st[x])||N.push(st[x])}return N},d.brewer=l={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},d.colors=b={indigo:"#4b0082",gold:"#ffd700",hotpink:"#ff69b4",firebrick:"#b22222",indianred:"#cd5c5c",yellow:"#ffff00",mistyrose:"#ffe4e1",darkolivegreen:"#556b2f",olive:"#808000",darkseagreen:"#8fbc8f",pink:"#ffc0cb",tomato:"#ff6347",lightcoral:"#f08080",orangered:"#ff4500",navajowhite:"#ffdead",lime:"#00ff00",palegreen:"#98fb98",darkslategrey:"#2f4f4f",greenyellow:"#adff2f",burlywood:"#deb887",seashell:"#fff5ee",mediumspringgreen:"#00fa9a",fuchsia:"#ff00ff",papayawhip:"#ffefd5",blanchedalmond:"#ffebcd",chartreuse:"#7fff00",dimgray:"#696969",black:"#000000",peachpuff:"#ffdab9",springgreen:"#00ff7f",aquamarine:"#7fffd4",white:"#ffffff",orange:"#ffa500",lightsalmon:"#ffa07a",darkslategray:"#2f4f4f",brown:"#a52a2a",ivory:"#fffff0",dodgerblue:"#1e90ff",peru:"#cd853f",lawngreen:"#7cfc00",chocolate:"#d2691e",crimson:"#dc143c",forestgreen:"#228b22",darkgrey:"#a9a9a9",lightseagreen:"#20b2aa",cyan:"#00ffff",mintcream:"#f5fffa",silver:"#c0c0c0",antiquewhite:"#faebd7",mediumorchid:"#ba55d3",skyblue:"#87ceeb",gray:"#808080",darkturquoise:"#00ced1",goldenrod:"#daa520",darkgreen:"#006400",floralwhite:"#fffaf0",darkviolet:"#9400d3",darkgray:"#a9a9a9",moccasin:"#ffe4b5",saddlebrown:"#8b4513",grey:"#808080",darkslateblue:"#483d8b",lightskyblue:"#87cefa",lightpink:"#ffb6c1",mediumvioletred:"#c71585",slategrey:"#708090",red:"#ff0000",deeppink:"#ff1493",limegreen:"#32cd32",darkmagenta:"#8b008b",palegoldenrod:"#eee8aa",plum:"#dda0dd",turquoise:"#40e0d0",lightgrey:"#d3d3d3",lightgoldenrodyellow:"#fafad2",darkgoldenrod:"#b8860b",lavender:"#e6e6fa",maroon:"#800000",yellowgreen:"#9acd32",sandybrown:"#f4a460",thistle:"#d8bfd8",violet:"#ee82ee",navy:"#000080",magenta:"#ff00ff",dimgrey:"#696969",tan:"#d2b48c",rosybrown:"#bc8f8f",olivedrab:"#6b8e23",blue:"#0000ff",lightblue:"#add8e6",ghostwhite:"#f8f8ff",honeydew:"#f0fff0",cornflowerblue:"#6495ed",slateblue:"#6a5acd",linen:"#faf0e6",darkblue:"#00008b",powderblue:"#b0e0e6",seagreen:"#2e8b57",darkkhaki:"#bdb76b",snow:"#fffafa",sienna:"#a0522d",mediumblue:"#0000cd",royalblue:"#4169e1",lightcyan:"#e0ffff",green:"#008000",mediumpurple:"#9370db",midnightblue:"#191970",cornsilk:"#fff8dc",paleturquoise:"#afeeee",bisque:"#ffe4c4",slategray:"#708090",darkcyan:"#008b8b",khaki:"#f0e68c",wheat:"#f5deb3",teal:"#008080",darkorchid:"#9932cc",deepskyblue:"#00bfff",salmon:"#fa8072",darkred:"#8b0000",steelblue:"#4682b4",palevioletred:"#db7093",lightslategray:"#778899",aliceblue:"#f0f8ff",lightslategrey:"#778899",lightgreen:"#90ee90",orchid:"#da70d6",gainsboro:"#dcdcdc",mediumseagreen:"#3cb371",lightgray:"#d3d3d3",mediumturquoise:"#48d1cc",lemonchiffon:"#fffacd",cadetblue:"#5f9ea0",lightyellow:"#ffffe0",lavenderblush:"#fff0f5",coral:"#ff7f50",purple:"#800080",aqua:"#00ffff",whitesmoke:"#f5f5f5",mediumslateblue:"#7b68ee",darkorange:"#ff8c00",mediumaquamarine:"#66cdaa",darksalmon:"#e9967a",beige:"#f5f5dc",blueviolet:"#8a2be2",azure:"#f0ffff",lightsteelblue:"#b0c4de",oldlace:"#fdf5e6",rebeccapurple:"#663399"},rt=function(){var t,e,n,r,i;for(t={},i="Boolean Number String Function Array Date RegExp Undefined Null".split(" "),r=0,e=i.length;e>r;r++)n=i[r],t["[object "+n+"]"]=n.toLowerCase();return function(e){var n;return n=Object.prototype.toString.call(e),t[n]||"object"}}(),M=function(t,e,n){return null==e&&(e=0),null==n&&(n=1),e>t&&(t=e),t>n&&(t=n),t},it=function(t){return t.length>=3?t:t[0]},o=2*Math.PI,i=Math.PI/3,Z=Math.round,m=Math.cos,E=Math.floor,P=Math.pow,q=Math.log,et=Math.sin,c=function(t){var e,n,r,i,o,s,u,a,f,h,l;return t=function(){var e,n,r;for(r=[],n=0,e=t.length;e>n;n++)i=t[n],r.push(d(i));return r}(),2===t.length?(f=function(){var e,n,r;for(r=[],n=0,e=t.length;e>n;n++)i=t[n],r.push(i.lab());return r}(),o=f[0],s=f[1],e=function(t){var e,n;return n=function(){var n,r;for(r=[],e=n=0;2>=n;e=++n)r.push(o[e]+t*(s[e]-o[e]));return r}(),d.lab.apply(d,n)}):3===t.length?(h=function(){var e,n,r;for(r=[],n=0,e=t.length;e>n;n++)i=t[n],r.push(i.lab());return r}(),o=h[0],s=h[1],u=h[2],e=function(t){var e,n;return n=function(){var n,r;for(r=[],e=n=0;2>=n;e=++n)r.push((1-t)*(1-t)*o[e]+2*(1-t)*t*s[e]+t*t*u[e]);return r}(),d.lab.apply(d,n)}):4===t.length?(l=function(){var e,n,r;for(r=[],n=0,e=t.length;e>n;n++)i=t[n],r.push(i.lab());return r}(),o=l[0],s=l[1],u=l[2],a=l[3],e=function(t){var e,n;return n=function(){var n,r;for(r=[],e=n=0;2>=n;e=++n)r.push((1-t)*(1-t)*(1-t)*o[e]+3*(1-t)*(1-t)*t*s[e]+3*(1-t)*t*t*u[e]+t*t*t*a[e]);return r}(),d.lab.apply(d,n)}):5===t.length&&(n=c(t.slice(0,3)),r=c(t.slice(2,5)),e=function(t){return.5>t?n(2*t):r(2*(t-.5))}),e},d.interpolate.bezier=c,f=function(t,e,n){if(!f[n])throw"unknown blend mode "+n;return f[n](t,e)},h=function(t){return function(e,n){var r,i;return r=d(n).rgb(),i=d(e).rgb(),d(t(r,i),"rgb")}},_=function(t){return function(e,n){var r,i,o;for(o=[],r=i=0;3>=i;r=++i)o[r]=t(e[r],n[r]);return o}},L=function(t,e){return t},R=function(t,e){return t*e/255},g=function(t,e){return t>e?e:t},$=function(t,e){return t>e?t:e},tt=function(t,e){return 255*(1-(1-t/255)*(1-e/255))},T=function(t,e){return 128>e?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))},p=function(t,e){return 255*(1-(1-e/255)/(t/255))},w=function(t,e){return 255===t?255:(t=255*(e/255)/(1-t/255),t>255?255:t)},f.normal=h(_(L)),f.multiply=h(_(R)),
f.screen=h(_(tt)),f.overlay=h(_(T)),f.darken=h(_(g)),f.lighten=h(_($)),f.dodge=h(_(w)),f.burn=h(_(p)),d.blend=f,d.cubehelix=function(t,e,n,r,i){var s,u;return null==t&&(t=300),null==e&&(e=-1.5),null==n&&(n=1),null==r&&(r=1),null==i&&(i=[0,1]),u=i[1]-i[0],"array"===rt(n)?(s=n[1]-n[0],0===s&&(n=n[1])):s=0,function(a){var c,f,h,l,p,b,y,g,w;return c=o*((t+120)/360+e*a),y=P(i[0]+u*a,r),b=0!==s?n[0]+a*s:n,f=b*y*(1-y)/2,l=m(c),w=et(c),g=y+f*(-.14861*l+1.78277*w),p=y+f*(-.29227*l-.90649*w),h=y+1.97294*f*l,d(v([255*g,255*p,255*h]))}}}).call(this)},{}],61:[function(t,e,n){!function(t,r){"object"==typeof n&&"undefined"!=typeof e?e.exports=r():"function"==typeof define&&define.amd?define(r):t.Immutable=r()}(this,function(){"use strict";function t(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function e(t){return t.value=!1,t}function n(t){t&&(t.value=!0)}function r(){}function i(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),i=0;n>i;i++)r[i]=t[i+e];return r}function o(t){return void 0===t.size&&(t.size=t.__iterate(u)),t.size}function s(t,e){return e>=0?+e:o(t)+ +e}function u(){return!0}function a(t,e,n){return(0===t||void 0!==n&&-n>=t)&&(void 0===e||void 0!==n&&e>=n)}function c(t,e){return h(t,e,0)}function f(t,e){return h(t,e,e)}function h(t,e,n){return void 0===t?n:0>t?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}function l(t){return b(t)?t:A(t)}function p(t){return m(t)?t:O(t)}function d(t){return y(t)?t:j(t)}function v(t){return b(t)&&!g(t)?t:$(t)}function b(t){return!(!t||!t[vn])}function m(t){return!(!t||!t[bn])}function y(t){return!(!t||!t[mn])}function g(t){return m(t)||y(t)}function w(t){return!(!t||!t[yn])}function _(t){this.next=t}function E(t,e,n,r){var i=0===t?e:1===t?n:[e,n];return r?r.value=i:r={value:i,done:!1},r}function S(){return{value:void 0,done:!0}}function x(t){return!!N(t)}function C(t){return t&&"function"==typeof t.next}function k(t){var e=N(t);return e&&e.call(t)}function N(t){var e=t&&(En&&t[En]||t[Sn]);return"function"==typeof e?e:void 0}function D(t){return t&&"number"==typeof t.length}function A(t){return null===t||void 0===t?L():b(t)?t.toSeq():P(t)}function O(t){return null===t||void 0===t?L().toKeyedSeq():b(t)?m(t)?t.toSeq():t.fromEntrySeq():W(t)}function j(t){return null===t||void 0===t?L():b(t)?m(t)?t.entrySeq():t.toIndexedSeq():T(t)}function $(t){return(null===t||void 0===t?L():b(t)?m(t)?t.entrySeq():t:T(t)).toSetSeq()}function M(t){this._array=t,this.size=t.length}function q(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function z(t){this._iterable=t,this.size=t.length||t.size}function I(t){this._iterator=t,this._iteratorCache=[]}function R(t){return!(!t||!t[Cn])}function L(){return kn||(kn=new M([]))}function W(t){var e=Array.isArray(t)?new M(t).fromEntrySeq():C(t)?new I(t).fromEntrySeq():x(t)?new z(t).fromEntrySeq():"object"==typeof t?new q(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function T(t){var e=F(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function P(t){var e=F(t)||"object"==typeof t&&new q(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}function F(t){return D(t)?new M(t):C(t)?new I(t):x(t)?new z(t):void 0}function B(t,e,n,r){var i=t._cache;if(i){for(var o=i.length-1,s=0;o>=s;s++){var u=i[n?o-s:s];if(e(u[1],r?u[0]:s,t)===!1)return s+1}return s}return t.__iterateUncached(e,n)}function U(t,e,n,r){var i=t._cache;if(i){var o=i.length-1,s=0;return new _(function(){var t=i[n?o-s:s];return s++>o?S():E(e,r?t[0]:s-1,t[1])})}return t.__iteratorUncached(e,n)}function V(){throw TypeError("Abstract")}function K(){}function G(){}function H(){}function J(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return"function"==typeof t.equals&&"function"==typeof e.equals&&t.equals(e)?!0:!1}function X(t,e){return e?Y(e,t,"",{"":t}):Q(t)}function Y(t,e,n,r){return Array.isArray(e)?t.call(r,n,j(e).map(function(n,r){return Y(t,n,r,e)})):Z(e)?t.call(r,n,O(e).map(function(n,r){return Y(t,n,r,e)})):e}function Q(t){return Array.isArray(t)?j(t).map(Q).toList():Z(t)?O(t).map(Q).toMap():t}function Z(t){return t&&(t.constructor===Object||void 0===t.constructor)}function tt(t){return t>>>1&1073741824|3221225471&t}function et(t){if(t===!1||null===t||void 0===t)return 0;if("function"==typeof t.valueOf&&(t=t.valueOf(),t===!1||null===t||void 0===t))return 0;if(t===!0)return 1;var e=typeof t;if("number"===e){var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)t/=4294967295,n^=t;return tt(n)}return"string"===e?t.length>qn?nt(t):rt(t):"function"==typeof t.hashCode?t.hashCode():it(t)}function nt(t){var e=Rn[t];return void 0===e&&(e=rt(t),In===zn&&(In=0,Rn={}),In++,Rn[t]=e),e}function rt(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return tt(e)}function it(t){var e;if(jn&&(e=Nn.get(t),void 0!==e))return e;if(e=t[Mn],void 0!==e)return e;if(!On){if(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Mn],void 0!==e)return e;if(e=ot(t),void 0!==e)return e}if(e=++$n,1073741824&$n&&($n=0),jn)Nn.set(t,e);else{if(void 0!==An&&An(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(On)Object.defineProperty(t,Mn,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Mn]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[Mn]=e}}return e}function ot(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function st(t,e){if(!t)throw new Error(e)}function ut(t){st(t!==1/0,"Cannot perform this action with an infinite size.")}function at(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function ct(t){this._iter=t,this.size=t.size}function ft(t){this._iter=t,this.size=t.size}function ht(t){this._iter=t,this.size=t.size}function lt(t){var e=Mt(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=qt,e.__iterateUncached=function(e,n){var r=this;return t.__iterate(function(t,n){return e(n,t,r)!==!1},n)},e.__iteratorUncached=function(e,n){if(e===_n){var r=t.__iterator(e,n);return new _(function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===wn?gn:wn,n)},e}function pt(t,e,n){var r=Mt(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,i){var o=t.get(r,ln);return o===ln?i:e.call(n,o,r,t)},r.__iterateUncached=function(r,i){var o=this;return t.__iterate(function(t,i,s){return r(e.call(n,t,i,s),i,o)!==!1},i)},r.__iteratorUncached=function(r,i){var o=t.__iterator(_n,i);return new _(function(){var i=o.next();if(i.done)return i;var s=i.value,u=s[0];return E(r,u,e.call(n,s[1],u,t),i)})},r}function dt(t,e){var n=Mt(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=lt(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,r){return t.get(e?n:-1-n,r)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=qt,n.__iterate=function(e,n){var r=this;return t.__iterate(function(t,n){return e(t,n,r)},!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function vt(t,e,n,r){var i=Mt(t);return r&&(i.has=function(r){var i=t.get(r,ln);return i!==ln&&!!e.call(n,i,r,t)},i.get=function(r,i){var o=t.get(r,ln);return o!==ln&&e.call(n,o,r,t)?o:i}),i.__iterateUncached=function(i,o){var s=this,u=0;return t.__iterate(function(t,o,a){return e.call(n,t,o,a)?(u++,i(t,r?o:u-1,s)):void 0},o),u},i.__iteratorUncached=function(i,o){var s=t.__iterator(_n,o),u=0;return new _(function(){for(;;){var o=s.next();if(o.done)return o;var a=o.value,c=a[0],f=a[1];if(e.call(n,f,c,t))return E(i,r?c:u++,f,o)}})},i}function bt(t,e,n){var r=Rt().asMutable();return t.__iterate(function(i,o){r.update(e.call(n,i,o,t),0,function(t){return t+1})}),r.asImmutable()}function mt(t,e,n){var r=m(t),i=(w(t)?Se():Rt()).asMutable();t.__iterate(function(o,s){i.update(e.call(n,o,s,t),function(t){return t=t||[],t.push(r?[s,o]:o),t})});var o=$t(t);return i.map(function(e){return At(t,o(e))})}function yt(t,e,n,r){var i=t.size;if(a(e,n,i))return t;var o=c(e,i),u=f(n,i);if(o!==o||u!==u)return yt(t.toSeq().cacheResult(),e,n,r);var h,l=u-o;l===l&&(h=0>l?0:l);var p=Mt(t);return p.size=h,!r&&R(t)&&h>=0&&(p.get=function(e,n){return e=s(this,e),e>=0&&h>e?t.get(e+o,n):n}),p.__iterateUncached=function(e,n){var i=this;if(0===h)return 0;if(n)return this.cacheResult().__iterate(e,n);var s=0,u=!0,a=0;return t.__iterate(function(t,n){return u&&(u=s++<o)?void 0:(a++,e(t,r?n:a-1,i)!==!1&&a!==h)}),a},p.__iteratorUncached=function(e,n){if(0!==h&&n)return this.cacheResult().__iterator(e,n);var i=0!==h&&t.__iterator(e,n),s=0,u=0;return new _(function(){for(;s++<o;)i.next();if(++u>h)return S();var t=i.next();return r||e===wn?t:e===gn?E(e,u-1,void 0,t):E(e,u-1,t.value[1],t)})},p}function gt(t,e,n){var r=Mt(t);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var s=0;return t.__iterate(function(t,i,u){return e.call(n,t,i,u)&&++s&&r(t,i,o)}),s},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var s=t.__iterator(_n,i),u=!0;return new _(function(){if(!u)return S();var t=s.next();if(t.done)return t;var i=t.value,a=i[0],c=i[1];return e.call(n,c,a,o)?r===_n?t:E(r,a,c,t):(u=!1,S())})},r}function wt(t,e,n,r){var i=Mt(t);return i.__iterateUncached=function(i,o){var s=this;if(o)return this.cacheResult().__iterate(i,o);var u=!0,a=0;return t.__iterate(function(t,o,c){return u&&(u=e.call(n,t,o,c))?void 0:(a++,i(t,r?o:a-1,s))}),a},i.__iteratorUncached=function(i,o){var s=this;if(o)return this.cacheResult().__iterator(i,o);var u=t.__iterator(_n,o),a=!0,c=0;return new _(function(){var t,o,f;do{if(t=u.next(),t.done)return r||i===wn?t:i===gn?E(i,c++,void 0,t):E(i,c++,t.value[1],t);var h=t.value;o=h[0],f=h[1],a&&(a=e.call(n,f,o,s))}while(a);return i===_n?t:E(i,o,f,t)})},i}function _t(t,e){var n=m(t),r=[t].concat(e).map(function(t){return b(t)?n&&(t=p(t)):t=n?W(t):T(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===r.length)return t;if(1===r.length){var i=r[0];if(i===t||n&&m(i)||y(t)&&y(i))return i}var o=new M(r);return n?o=o.toKeyedSeq():y(t)||(o=o.toSetSeq()),o=o.flatten(!0),o.size=r.reduce(function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}},0),o}function Et(t,e,n){var r=Mt(t);return r.__iterateUncached=function(r,i){function o(t,a){var c=this;t.__iterate(function(t,i){return(!e||e>a)&&b(t)?o(t,a+1):r(t,n?i:s++,c)===!1&&(u=!0),!u},i)}var s=0,u=!1;return o(t,0),s},r.__iteratorUncached=function(r,i){var o=t.__iterator(r,i),s=[],u=0;return new _(function(){for(;o;){var t=o.next();if(t.done===!1){var a=t.value;if(r===_n&&(a=a[1]),e&&!(s.length<e)||!b(a))return n?t:E(r,u++,a,t);s.push(o),o=a.__iterator(r,i)}else o=s.pop()}return S()})},r}function St(t,e,n){var r=$t(t);return t.toSeq().map(function(i,o){return r(e.call(n,i,o,t))}).flatten(!0)}function xt(t,e){var n=Mt(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return t.__iterate(function(t,r){return(!o||n(e,o++,i)!==!1)&&n(t,o++,i)!==!1},r),o},n.__iteratorUncached=function(n,r){var i,o=t.__iterator(wn,r),s=0;return new _(function(){return(!i||s%2)&&(i=o.next(),i.done)?i:s%2?E(n,s++,e):E(n,s++,i.value,i)})},n}function Ct(t,e,n){e||(e=zt);var r=m(t),i=0,o=t.toSeq().map(function(e,r){return[r,e,i++,n?n(e,r,t):e]}).toArray();return o.sort(function(t,n){return e(t[3],n[3])||t[2]-n[2]}).forEach(r?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),r?O(o):y(t)?j(o):$(o)}function kt(t,e,n){if(e||(e=zt),n){var r=t.toSeq().map(function(e,r){return[e,n(e,r,t)]}).reduce(function(t,n){return Nt(e,t[1],n[1])?n:t});return r&&r[0]}return t.reduce(function(t,n){return Nt(e,t,n)?n:t})}function Nt(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(void 0===n||null===n||n!==n)||r>0}function Dt(t,e,n){var r=Mt(t);return r.size=new M(n).map(function(t){return t.size}).min(),r.__iterate=function(t,e){for(var n,r=this.__iterator(wn,e),i=0;!(n=r.next()).done&&t(n.value,i++,this)!==!1;);return i},r.__iteratorUncached=function(t,r){var i=n.map(function(t){return t=l(t),k(r?t.reverse():t)}),o=0,s=!1;return new _(function(){var n;return s||(n=i.map(function(t){return t.next()}),s=n.some(function(t){return t.done})),s?S():E(t,o++,e.apply(null,n.map(function(t){return t.value})))})},r}function At(t,e){return R(t)?e:t.constructor(e)}function Ot(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function jt(t){return ut(t.size),o(t)}function $t(t){return m(t)?p:y(t)?d:v}function Mt(t){return Object.create((m(t)?O:y(t)?j:$).prototype)}function qt(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):A.prototype.cacheResult.call(this)}function zt(t,e){return t>e?1:e>t?-1:0}function It(t){var e=k(t);if(!e){if(!D(t))throw new TypeError("Expected iterable or array-like: "+t);e=k(l(t))}return e}function Rt(t){return null===t||void 0===t?Ht():Lt(t)?t:Ht().withMutations(function(e){var n=p(t);ut(n.size),n.forEach(function(t,n){return e.set(n,t)})})}function Lt(t){return!(!t||!t[Ln])}function Wt(t,e){this.ownerID=t,this.entries=e}function Tt(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function Pt(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function Ft(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function Bt(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function Ut(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&Kt(t._root)}function Vt(t,e){return E(t,e[0],e[1])}function Kt(t,e){return{node:t,index:0,__prev:e}}function Gt(t,e,n,r){var i=Object.create(Wn);return i.size=t,i._root=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Ht(){return Tn||(Tn=Gt(0))}function Jt(t,n,r){var i,o;if(t._root){var s=e(pn),u=e(dn);if(i=Xt(t._root,t.__ownerID,0,void 0,n,r,s,u),!u.value)return t;o=t.size+(s.value?r===ln?-1:1:0)}else{if(r===ln)return t;o=1,i=new Wt(t.__ownerID,[[n,r]])}return t.__ownerID?(t.size=o,t._root=i,t.__hash=void 0,t.__altered=!0,t):i?Gt(o,i):Ht()}function Xt(t,e,r,i,o,s,u,a){return t?t.update(e,r,i,o,s,u,a):s===ln?t:(n(a),n(u),new Bt(e,i,[o,s]))}function Yt(t){return t.constructor===Bt||t.constructor===Ft}function Qt(t,e,n,r,i){if(t.keyHash===r)return new Ft(e,r,[t.entry,i]);var o,s=(0===n?t.keyHash:t.keyHash>>>n)&hn,u=(0===n?r:r>>>n)&hn,a=s===u?[Qt(t,e,n+cn,r,i)]:(o=new Bt(e,r,i),u>s?[t,o]:[o,t]);return new Tt(e,1<<s|1<<u,a)}function Zt(t,e,n,i){t||(t=new r);for(var o=new Bt(t,et(n),[n,i]),s=0;s<e.length;s++){var u=e[s];o=o.update(t,0,void 0,u[0],u[1])}return o}function te(t,e,n,r){for(var i=0,o=0,s=new Array(n),u=0,a=1,c=e.length;c>u;u++,a<<=1){var f=e[u];void 0!==f&&u!==r&&(i|=a,s[o++]=f)}return new Tt(t,i,s)}function ee(t,e,n,r,i){for(var o=0,s=new Array(fn),u=0;0!==n;u++,n>>>=1)s[u]=1&n?e[o++]:void 0;return s[r]=i,new Pt(t,o+1,s)}function ne(t,e,n){for(var r=[],i=0;i<n.length;i++){var o=n[i],s=p(o);b(o)||(s=s.map(function(t){return X(t)})),r.push(s)}return ie(t,e,r)}function re(t){return function(e,n,r){return e&&e.mergeDeepWith&&b(n)?e.mergeDeepWith(t,n):t?t(e,n,r):n}}function ie(t,e,n){return n=n.filter(function(t){return 0!==t.size}),0===n.length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations(function(t){for(var r=e?function(n,r){t.update(r,ln,function(t){return t===ln?n:e(t,n,r)})}:function(e,n){t.set(n,e)},i=0;i<n.length;i++)n[i].forEach(r)}):t.constructor(n[0])}function oe(t,e,n,r){var i=t===ln,o=e.next();if(o.done){var s=i?n:t,u=r(s);return u===s?t:u}st(i||t&&t.set,"invalid keyPath");var a=o.value,c=i?ln:t.get(a,ln),f=oe(c,e,n,r);return f===c?t:f===ln?t.remove(a):(i?Ht():t).set(a,f)}function se(t){return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,127&t}function ue(t,e,n,r){var o=r?t:i(t);return o[e]=n,o}function ae(t,e,n,r){var i=t.length+1;if(r&&e+1===i)return t[e]=n,t;for(var o=new Array(i),s=0,u=0;i>u;u++)u===e?(o[u]=n,s=-1):o[u]=t[u+s];return o}function ce(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var i=new Array(r),o=0,s=0;r>s;s++)s===e&&(o=1),i[s]=t[s+o];return i}function fe(t){var e=ve();if(null===t||void 0===t)return e;if(he(t))return t;var n=d(t),r=n.size;return 0===r?e:(ut(r),r>0&&fn>r?de(0,r,cn,null,new le(n.toArray())):e.withMutations(function(t){t.setSize(r),n.forEach(function(e,n){return t.set(n,e)})}))}function he(t){return!(!t||!t[Un])}function le(t,e){this.array=t,this.ownerID=e}function pe(t,e){function n(t,e,n){return 0===e?r(t,n):i(t,e,n)}function r(t,n){var r=n===u?a&&a.array:t&&t.array,i=n>o?0:o-n,c=s-n;return c>fn&&(c=fn),function(){if(i===c)return Gn;var t=e?--c:i++;return r&&r[t]}}function i(t,r,i){var u,a=t&&t.array,c=i>o?0:o-i>>r,f=(s-i>>r)+1;return f>fn&&(f=fn),function(){for(;;){if(u){var t=u();if(t!==Gn)return t;u=null}if(c===f)return Gn;var o=e?--f:c++;u=n(a&&a[o],r-cn,i+(o<<r))}}}var o=t._origin,s=t._capacity,u=Ee(s),a=t._tail;return n(t._root,t._level,0)}function de(t,e,n,r,i,o,s){var u=Object.create(Vn);return u.size=e-t,u._origin=t,u._capacity=e,u._level=n,u._root=r,u._tail=i,u.__ownerID=o,u.__hash=s,u.__altered=!1,u}function ve(){return Kn||(Kn=de(0,0,cn))}function be(t,n,r){if(n=s(t,n),n>=t.size||0>n)return t.withMutations(function(t){0>n?we(t,n).set(0,r):we(t,0,n+1).set(n,r)});n+=t._origin;var i=t._tail,o=t._root,u=e(dn);return n>=Ee(t._capacity)?i=me(i,t.__ownerID,0,n,r,u):o=me(o,t.__ownerID,t._level,n,r,u),u.value?t.__ownerID?(t._root=o,t._tail=i,t.__hash=void 0,t.__altered=!0,t):de(t._origin,t._capacity,t._level,o,i):t}function me(t,e,r,i,o,s){var u=i>>>r&hn,a=t&&u<t.array.length;if(!a&&void 0===o)return t;var c;if(r>0){var f=t&&t.array[u],h=me(f,e,r-cn,i,o,s);return h===f?t:(c=ye(t,e),c.array[u]=h,c)}return a&&t.array[u]===o?t:(n(s),c=ye(t,e),void 0===o&&u===c.array.length-1?c.array.pop():c.array[u]=o,c)}function ye(t,e){return e&&t&&e===t.ownerID?t:new le(t?t.array.slice():[],e)}function ge(t,e){if(e>=Ee(t._capacity))return t._tail;if(e<1<<t._level+cn){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&hn],r-=cn;return n}}function we(t,e,n){var i=t.__ownerID||new r,o=t._origin,s=t._capacity,u=o+e,a=void 0===n?s:0>n?s+n:o+n;if(u===o&&a===s)return t;if(u>=a)return t.clear();for(var c=t._level,f=t._root,h=0;0>u+h;)f=new le(f&&f.array.length?[void 0,f]:[],i),c+=cn,h+=1<<c;h&&(u+=h,o+=h,a+=h,s+=h);for(var l=Ee(s),p=Ee(a);p>=1<<c+cn;)f=new le(f&&f.array.length?[f]:[],i),c+=cn;var d=t._tail,v=l>p?ge(t,a-1):p>l?new le([],i):d;if(d&&p>l&&s>u&&d.array.length){f=ye(f,i);for(var b=f,m=c;m>cn;m-=cn){var y=l>>>m&hn;b=b.array[y]=ye(b.array[y],i)}b.array[l>>>cn&hn]=d}if(s>a&&(v=v&&v.removeAfter(i,0,a)),u>=p)u-=p,a-=p,c=cn,f=null,v=v&&v.removeBefore(i,0,u);else if(u>o||l>p){for(h=0;f;){var g=u>>>c&hn;if(g!==p>>>c&hn)break;g&&(h+=(1<<c)*g),c-=cn,f=f.array[g]}f&&u>o&&(f=f.removeBefore(i,c,u-h)),f&&l>p&&(f=f.removeAfter(i,c,p-h)),h&&(u-=h,a-=h)}return t.__ownerID?(t.size=a-u,t._origin=u,t._capacity=a,t._level=c,t._root=f,t._tail=v,t.__hash=void 0,t.__altered=!0,t):de(u,a,c,f,v)}function _e(t,e,n){for(var r=[],i=0,o=0;o<n.length;o++){var s=n[o],u=d(s);u.size>i&&(i=u.size),b(s)||(u=u.map(function(t){return X(t)})),r.push(u)}return i>t.size&&(t=t.setSize(i)),ie(t,e,r)}function Ee(t){return fn>t?0:t-1>>>cn<<cn}function Se(t){return null===t||void 0===t?ke():xe(t)?t:ke().withMutations(function(e){var n=p(t);ut(n.size),n.forEach(function(t,n){return e.set(n,t)})})}function xe(t){return Lt(t)&&w(t)}function Ce(t,e,n,r){var i=Object.create(Se.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=n,i.__hash=r,i}function ke(){return Hn||(Hn=Ce(Ht(),ve()))}function Ne(t,e,n){var r,i,o=t._map,s=t._list,u=o.get(e),a=void 0!==u;if(n===ln){if(!a)return t;s.size>=fn&&s.size>=2*o.size?(i=s.filter(function(t,e){return void 0!==t&&u!==e}),r=i.toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(r.__ownerID=i.__ownerID=t.__ownerID)):(r=o.remove(e),i=u===s.size-1?s.pop():s.set(u,void 0))}else if(a){if(n===s.get(u)[1])return t;r=o,i=s.set(u,[e,n])}else r=o.set(e,s.size),i=s.set(s.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=i,t.__hash=void 0,t):Ce(r,i)}function De(t){return null===t||void 0===t?je():Ae(t)?t:je().unshiftAll(t)}function Ae(t){return!(!t||!t[Jn])}function Oe(t,e,n,r){var i=Object.create(Xn);return i.size=t,i._head=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function je(){return Yn||(Yn=Oe(0))}function $e(t){return null===t||void 0===t?Ie():Me(t)?t:Ie().withMutations(function(e){var n=v(t);ut(n.size),n.forEach(function(t){return e.add(t)})})}function Me(t){return!(!t||!t[Qn])}function qe(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function ze(t,e){var n=Object.create(Zn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function Ie(){return tr||(tr=ze(Ht()))}function Re(t){return null===t||void 0===t?Te():Le(t)?t:Te().withMutations(function(e){var n=v(t);ut(n.size),n.forEach(function(t){return e.add(t)})})}function Le(t){return Me(t)&&w(t)}function We(t,e){var n=Object.create(er);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function Te(){return nr||(nr=We(ke()))}function Pe(t,e){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var s=Object.keys(t);Ue(i,s),i.size=s.length,i._name=e,i._keys=s,i._defaultValues=t}this._map=Rt(o)},i=r.prototype=Object.create(rr);return i.constructor=r,r}function Fe(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r.__ownerID=n,r}function Be(t){return t._name||t.constructor.name||"Record"}function Ue(t,e){try{e.forEach(Ve.bind(void 0,t))}catch(n){}}function Ve(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){st(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function Ke(t,e){if(t===e)return!0;if(!b(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||m(t)!==m(e)||y(t)!==y(e)||w(t)!==w(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!g(t);if(w(t)){var r=t.entries();return e.every(function(t,e){var i=r.next().value;return i&&J(i[1],t)&&(n||J(i[0],e))})&&r.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{i=!0;var o=t;t=e,e=o}var s=!0,u=e.__iterate(function(e,r){return(n?t.has(e):i?J(e,t.get(r,ln)):J(t.get(r,ln),e))?void 0:(s=!1,!1)});return s&&t.size===u}function Ge(t,e,n){if(!(this instanceof Ge))return new Ge(t,e,n);if(st(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),t>e&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(ir)return ir;ir=this}}function He(t,e){if(!(this instanceof He))return new He(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(or)return or;or=this}}function Je(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function Xe(t,e){return e}function Ye(t,e){return[e,t]}function Qe(t){return function(){return!t.apply(this,arguments)}}function Ze(t){return function(){return-t.apply(this,arguments)}}function tn(t){return"string"==typeof t?JSON.stringify(t):t}function en(){return i(arguments)}function nn(t,e){return e>t?1:t>e?-1:0}function rn(t){if(t.size===1/0)return 0;var e=w(t),n=m(t),r=e?1:0,i=t.__iterate(n?e?function(t,e){r=31*r+sn(et(t),et(e))|0}:function(t,e){r=r+sn(et(t),et(e))|0}:e?function(t){r=31*r+et(t)|0}:function(t){r=r+et(t)|0});return on(i,r)}function on(t,e){return e=Dn(e,3432918353),e=Dn(e<<15|e>>>-15,461845907),e=Dn(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=Dn(e^e>>>16,2246822507),e=Dn(e^e>>>13,3266489909),e=tt(e^e>>>16)}function sn(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var un=Array.prototype.slice,an="delete",cn=5,fn=1<<cn,hn=fn-1,ln={},pn={value:!1},dn={value:!1};t(p,l),t(d,l),t(v,l),l.isIterable=b,l.isKeyed=m,l.isIndexed=y,l.isAssociative=g,l.isOrdered=w,l.Keyed=p,l.Indexed=d,l.Set=v;var vn="@@__IMMUTABLE_ITERABLE__@@",bn="@@__IMMUTABLE_KEYED__@@",mn="@@__IMMUTABLE_INDEXED__@@",yn="@@__IMMUTABLE_ORDERED__@@",gn=0,wn=1,_n=2,En="function"==typeof Symbol&&Symbol.iterator,Sn="@@iterator",xn=En||Sn;_.prototype.toString=function(){return"[Iterator]"},_.KEYS=gn,_.VALUES=wn,_.ENTRIES=_n,_.prototype.inspect=_.prototype.toSource=function(){return this.toString()},_.prototype[xn]=function(){return this},t(A,l),A.of=function(){return A(arguments)},A.prototype.toSeq=function(){return this},A.prototype.toString=function(){return this.__toString("Seq {","}")},A.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},A.prototype.__iterate=function(t,e){return B(this,t,e,!0)},A.prototype.__iterator=function(t,e){return U(this,t,e,!0)},t(O,A),O.prototype.toKeyedSeq=function(){return this},t(j,A),j.of=function(){return j(arguments)},j.prototype.toIndexedSeq=function(){return this},j.prototype.toString=function(){return this.__toString("Seq [","]")},j.prototype.__iterate=function(t,e){return B(this,t,e,!1)},j.prototype.__iterator=function(t,e){return U(this,t,e,!1)},t($,A),$.of=function(){return $(arguments)},$.prototype.toSetSeq=function(){return this},A.isSeq=R,A.Keyed=O,A.Set=$,A.Indexed=j;var Cn="@@__IMMUTABLE_SEQ__@@";A.prototype[Cn]=!0,t(M,j),M.prototype.get=function(t,e){return this.has(t)?this._array[s(this,t)]:e},M.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length-1,i=0;r>=i;i++)if(t(n[e?r-i:i],i,this)===!1)return i+1;return i},M.prototype.__iterator=function(t,e){var n=this._array,r=n.length-1,i=0;return new _(function(){return i>r?S():E(t,i,n[e?r-i++:i++])})},t(q,O),q.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},q.prototype.has=function(t){return this._object.hasOwnProperty(t)},q.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,i=r.length-1,o=0;i>=o;o++){var s=r[e?i-o:o];if(t(n[s],s,this)===!1)return o+1}return o},q.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,i=r.length-1,o=0;return new _(function(){var s=r[e?i-o:o];return o++>i?S():E(t,s,n[s])})},q.prototype[yn]=!0,t(z,j),z.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=this._iterable,r=k(n),i=0;if(C(r))for(var o;!(o=r.next()).done&&t(o.value,i++,this)!==!1;);return i},z.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterable,r=k(n);if(!C(r))return new _(S);var i=0;return new _(function(){var e=r.next();return e.done?e:E(t,i++,e.value)})},t(I,j),I.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n=this._iterator,r=this._iteratorCache,i=0;i<r.length;)if(t(r[i],i++,this)===!1)return i;for(var o;!(o=n.next()).done;){var s=o.value;if(r[i]=s,t(s,i++,this)===!1)break}return i},I.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,i=0;return new _(function(){if(i>=r.length){var e=n.next();if(e.done)return e;r[i]=e.value}return E(t,i,r[i++])})};var kn;t(V,l),t(K,V),t(G,V),t(H,V),V.Keyed=K,V.Indexed=G,V.Set=H;var Nn,Dn="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){t=0|t,e=0|e;var n=65535&t,r=65535&e;return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0},An=Object.isExtensible,On=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),jn="function"==typeof WeakMap;jn&&(Nn=new WeakMap);var $n=0,Mn="__immutablehash__";"function"==typeof Symbol&&(Mn=Symbol(Mn));var qn=16,zn=255,In=0,Rn={};t(at,O),at.prototype.get=function(t,e){return this._iter.get(t,e)},at.prototype.has=function(t){return this._iter.has(t)},at.prototype.valueSeq=function(){return this._iter.valueSeq()},at.prototype.reverse=function(){var t=this,e=dt(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},at.prototype.map=function(t,e){var n=this,r=pt(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},at.prototype.__iterate=function(t,e){var n,r=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,r)}:(n=e?jt(this):0,function(i){return t(i,e?--n:n++,r)}),e)},at.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(wn,e),r=e?jt(this):0;return new _(function(){var i=n.next();return i.done?i:E(t,e?--r:r++,i.value,i)})},at.prototype[yn]=!0,t(ct,j),ct.prototype.includes=function(t){return this._iter.includes(t)},ct.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate(function(e){return t(e,r++,n)},e)},ct.prototype.__iterator=function(t,e){var n=this._iter.__iterator(wn,e),r=0;return new _(function(){var e=n.next();return e.done?e:E(t,r++,e.value,e)})},t(ft,$),ft.prototype.has=function(t){return this._iter.includes(t)},ft.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){return t(e,e,n)},e)},ft.prototype.__iterator=function(t,e){var n=this._iter.__iterator(wn,e);return new _(function(){var e=n.next();return e.done?e:E(t,e.value,e.value,e)})},t(ht,O),ht.prototype.entrySeq=function(){return this._iter.toSeq()},ht.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){if(e){Ot(e);var r=b(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}},e)},ht.prototype.__iterator=function(t,e){var n=this._iter.__iterator(wn,e);return new _(function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){Ot(r);var i=b(r);return E(t,i?r.get(0):r[0],i?r.get(1):r[1],e)}}})},ct.prototype.cacheResult=at.prototype.cacheResult=ft.prototype.cacheResult=ht.prototype.cacheResult=qt,t(Rt,K),Rt.prototype.toString=function(){return this.__toString("Map {","}")},Rt.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},Rt.prototype.set=function(t,e){return Jt(this,t,e)},Rt.prototype.setIn=function(t,e){return this.updateIn(t,ln,function(){return e})},Rt.prototype.remove=function(t){return Jt(this,t,ln)},Rt.prototype.deleteIn=function(t){return this.updateIn(t,function(){return ln})},Rt.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},Rt.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var r=oe(this,It(t),e,n);return r===ln?void 0:r},Rt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ht()},Rt.prototype.merge=function(){return ne(this,void 0,arguments)},Rt.prototype.mergeWith=function(t){var e=un.call(arguments,1);return ne(this,t,e)},Rt.prototype.mergeIn=function(t){var e=un.call(arguments,1);return this.updateIn(t,Ht(),function(t){return"function"==typeof t.merge?t.merge.apply(t,e):e[e.length-1]})},Rt.prototype.mergeDeep=function(){return ne(this,re(void 0),arguments)},Rt.prototype.mergeDeepWith=function(t){var e=un.call(arguments,1);return ne(this,re(t),e)},Rt.prototype.mergeDeepIn=function(t){var e=un.call(arguments,1);return this.updateIn(t,Ht(),function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,e):e[e.length-1]})},Rt.prototype.sort=function(t){return Se(Ct(this,t))},Rt.prototype.sortBy=function(t,e){
return Se(Ct(this,e,t))},Rt.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},Rt.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new r)},Rt.prototype.asImmutable=function(){return this.__ensureOwner()},Rt.prototype.wasAltered=function(){return this.__altered},Rt.prototype.__iterator=function(t,e){return new Ut(this,t,e)},Rt.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate(function(e){return r++,t(e[1],e[0],n)},e),r},Rt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Gt(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Rt.isMap=Lt;var Ln="@@__IMMUTABLE_MAP__@@",Wn=Rt.prototype;Wn[Ln]=!0,Wn[an]=Wn.remove,Wn.removeIn=Wn.deleteIn,Wt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,s=i.length;s>o;o++)if(J(n,i[o][0]))return i[o][1];return r},Wt.prototype.update=function(t,e,r,o,s,u,a){for(var c=s===ln,f=this.entries,h=0,l=f.length;l>h&&!J(o,f[h][0]);h++);var p=l>h;if(p?f[h][1]===s:c)return this;if(n(a),(c||!p)&&n(u),!c||1!==f.length){if(!p&&!c&&f.length>=Pn)return Zt(t,f,o,s);var d=t&&t===this.ownerID,v=d?f:i(f);return p?c?h===l-1?v.pop():v[h]=v.pop():v[h]=[o,s]:v.push([o,s]),d?(this.entries=v,this):new Wt(t,v)}},Tt.prototype.get=function(t,e,n,r){void 0===e&&(e=et(n));var i=1<<((0===t?e:e>>>t)&hn),o=this.bitmap;return 0===(o&i)?r:this.nodes[se(o&i-1)].get(t+cn,e,n,r)},Tt.prototype.update=function(t,e,n,r,i,o,s){void 0===n&&(n=et(r));var u=(0===e?n:n>>>e)&hn,a=1<<u,c=this.bitmap,f=0!==(c&a);if(!f&&i===ln)return this;var h=se(c&a-1),l=this.nodes,p=f?l[h]:void 0,d=Xt(p,t,e+cn,n,r,i,o,s);if(d===p)return this;if(!f&&d&&l.length>=Fn)return ee(t,l,c,u,d);if(f&&!d&&2===l.length&&Yt(l[1^h]))return l[1^h];if(f&&d&&1===l.length&&Yt(d))return d;var v=t&&t===this.ownerID,b=f?d?c:c^a:c|a,m=f?d?ue(l,h,d,v):ce(l,h,v):ae(l,h,d,v);return v?(this.bitmap=b,this.nodes=m,this):new Tt(t,b,m)},Pt.prototype.get=function(t,e,n,r){void 0===e&&(e=et(n));var i=(0===t?e:e>>>t)&hn,o=this.nodes[i];return o?o.get(t+cn,e,n,r):r},Pt.prototype.update=function(t,e,n,r,i,o,s){void 0===n&&(n=et(r));var u=(0===e?n:n>>>e)&hn,a=i===ln,c=this.nodes,f=c[u];if(a&&!f)return this;var h=Xt(f,t,e+cn,n,r,i,o,s);if(h===f)return this;var l=this.count;if(f){if(!h&&(l--,Bn>l))return te(t,c,l,u)}else l++;var p=t&&t===this.ownerID,d=ue(c,u,h,p);return p?(this.count=l,this.nodes=d,this):new Pt(t,l,d)},Ft.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,s=i.length;s>o;o++)if(J(n,i[o][0]))return i[o][1];return r},Ft.prototype.update=function(t,e,r,o,s,u,a){void 0===r&&(r=et(o));var c=s===ln;if(r!==this.keyHash)return c?this:(n(a),n(u),Qt(this,t,e,r,[o,s]));for(var f=this.entries,h=0,l=f.length;l>h&&!J(o,f[h][0]);h++);var p=l>h;if(p?f[h][1]===s:c)return this;if(n(a),(c||!p)&&n(u),c&&2===l)return new Bt(t,this.keyHash,f[1^h]);var d=t&&t===this.ownerID,v=d?f:i(f);return p?c?h===l-1?v.pop():v[h]=v.pop():v[h]=[o,s]:v.push([o,s]),d?(this.entries=v,this):new Ft(t,this.keyHash,v)},Bt.prototype.get=function(t,e,n,r){return J(n,this.entry[0])?this.entry[1]:r},Bt.prototype.update=function(t,e,r,i,o,s,u){var a=o===ln,c=J(i,this.entry[0]);return(c?o===this.entry[1]:a)?this:(n(u),a?void n(s):c?t&&t===this.ownerID?(this.entry[1]=o,this):new Bt(t,this.keyHash,[i,o]):(n(s),Qt(this,t,e,et(i),[i,o])))},Wt.prototype.iterate=Ft.prototype.iterate=function(t,e){for(var n=this.entries,r=0,i=n.length-1;i>=r;r++)if(t(n[e?i-r:r])===!1)return!1},Tt.prototype.iterate=Pt.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,i=n.length-1;i>=r;r++){var o=n[e?i-r:r];if(o&&o.iterate(t,e)===!1)return!1}},Bt.prototype.iterate=function(t,e){return t(this.entry)},t(Ut,_),Ut.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,r=e.node,i=e.index++;if(r.entry){if(0===i)return Vt(t,r.entry)}else if(r.entries){if(n=r.entries.length-1,n>=i)return Vt(t,r.entries[this._reverse?n-i:i])}else if(n=r.nodes.length-1,n>=i){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return Vt(t,o.entry);e=this._stack=Kt(o,e)}continue}e=this._stack=this._stack.__prev}return S()};var Tn,Pn=fn/4,Fn=fn/2,Bn=fn/4;t(fe,G),fe.of=function(){return this(arguments)},fe.prototype.toString=function(){return this.__toString("List [","]")},fe.prototype.get=function(t,e){if(t=s(this,t),0>t||t>=this.size)return e;t+=this._origin;var n=ge(this,t);return n&&n.array[t&hn]},fe.prototype.set=function(t,e){return be(this,t,e)},fe.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},fe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=cn,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):ve()},fe.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations(function(n){we(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])})},fe.prototype.pop=function(){return we(this,0,-1)},fe.prototype.unshift=function(){var t=arguments;return this.withMutations(function(e){we(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])})},fe.prototype.shift=function(){return we(this,1)},fe.prototype.merge=function(){return _e(this,void 0,arguments)},fe.prototype.mergeWith=function(t){var e=un.call(arguments,1);return _e(this,t,e)},fe.prototype.mergeDeep=function(){return _e(this,re(void 0),arguments)},fe.prototype.mergeDeepWith=function(t){var e=un.call(arguments,1);return _e(this,re(t),e)},fe.prototype.setSize=function(t){return we(this,0,t)},fe.prototype.slice=function(t,e){var n=this.size;return a(t,e,n)?this:we(this,c(t,n),f(e,n))},fe.prototype.__iterator=function(t,e){var n=0,r=pe(this,e);return new _(function(){var e=r();return e===Gn?S():E(t,n++,e)})},fe.prototype.__iterate=function(t,e){for(var n,r=0,i=pe(this,e);(n=i())!==Gn&&t(n,r++,this)!==!1;);return r},fe.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?de(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},fe.isList=he;var Un="@@__IMMUTABLE_LIST__@@",Vn=fe.prototype;Vn[Un]=!0,Vn[an]=Vn.remove,Vn.setIn=Wn.setIn,Vn.deleteIn=Vn.removeIn=Wn.removeIn,Vn.update=Wn.update,Vn.updateIn=Wn.updateIn,Vn.mergeIn=Wn.mergeIn,Vn.mergeDeepIn=Wn.mergeDeepIn,Vn.withMutations=Wn.withMutations,Vn.asMutable=Wn.asMutable,Vn.asImmutable=Wn.asImmutable,Vn.wasAltered=Wn.wasAltered,le.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0||0===this.array.length)return this;var r=n>>>e&hn;if(r>=this.array.length)return new le([],t);var i,o=0===r;if(e>0){var s=this.array[r];if(i=s&&s.removeBefore(t,e-cn,n),i===s&&o)return this}if(o&&!i)return this;var u=ye(this,t);if(!o)for(var a=0;r>a;a++)u.array[a]=void 0;return i&&(u.array[r]=i),u},le.prototype.removeAfter=function(t,e,n){if(n===e?1<<e:0||0===this.array.length)return this;var r=n-1>>>e&hn;if(r>=this.array.length)return this;var i,o=r===this.array.length-1;if(e>0){var s=this.array[r];if(i=s&&s.removeAfter(t,e-cn,n),i===s&&o)return this}if(o&&!i)return this;var u=ye(this,t);return o||u.array.pop(),i&&(u.array[r]=i),u};var Kn,Gn={};t(Se,Rt),Se.of=function(){return this(arguments)},Se.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Se.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},Se.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):ke()},Se.prototype.set=function(t,e){return Ne(this,t,e)},Se.prototype.remove=function(t){return Ne(this,t,ln)},Se.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Se.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],n)},e)},Se.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},Se.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?Ce(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},Se.isOrderedMap=xe,Se.prototype[yn]=!0,Se.prototype[an]=Se.prototype.remove;var Hn;t(De,G),De.of=function(){return this(arguments)},De.prototype.toString=function(){return this.__toString("Stack [","]")},De.prototype.get=function(t,e){var n=this._head;for(t=s(this,t);n&&t--;)n=n.next;return n?n.value:e},De.prototype.peek=function(){return this._head&&this._head.value},De.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Oe(t,e)},De.prototype.pushAll=function(t){if(t=d(t),0===t.size)return this;ut(t.size);var e=this.size,n=this._head;return t.reverse().forEach(function(t){e++,n={value:t,next:n}}),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):Oe(e,n)},De.prototype.pop=function(){return this.slice(1)},De.prototype.unshift=function(){return this.push.apply(this,arguments)},De.prototype.unshiftAll=function(t){return this.pushAll(t)},De.prototype.shift=function(){return this.pop.apply(this,arguments)},De.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):je()},De.prototype.slice=function(t,e){if(a(t,e,this.size))return this;var n=c(t,this.size),r=f(e,this.size);if(r!==this.size)return G.prototype.slice.call(this,t,e);for(var i=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):Oe(i,o)},De.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Oe(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},De.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,r=this._head;r&&t(r.value,n++,this)!==!1;)r=r.next;return n},De.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new _(function(){if(r){var e=r.value;return r=r.next,E(t,n++,e)}return S()})},De.isStack=Ae;var Jn="@@__IMMUTABLE_STACK__@@",Xn=De.prototype;Xn[Jn]=!0,Xn.withMutations=Wn.withMutations,Xn.asMutable=Wn.asMutable,Xn.asImmutable=Wn.asImmutable,Xn.wasAltered=Wn.wasAltered;var Yn;t($e,H),$e.of=function(){return this(arguments)},$e.fromKeys=function(t){return this(p(t).keySeq())},$e.prototype.toString=function(){return this.__toString("Set {","}")},$e.prototype.has=function(t){return this._map.has(t)},$e.prototype.add=function(t){return qe(this,this._map.set(t,!0))},$e.prototype.remove=function(t){return qe(this,this._map.remove(t))},$e.prototype.clear=function(){return qe(this,this._map.clear())},$e.prototype.union=function(){var t=un.call(arguments,0);return t=t.filter(function(t){return 0!==t.size}),0===t.length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(e){for(var n=0;n<t.length;n++)v(t[n]).forEach(function(t){return e.add(t)})}):this.constructor(t[0])},$e.prototype.intersect=function(){var t=un.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return v(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.every(function(t){return t.includes(e)})||n.remove(e)})})},$e.prototype.subtract=function(){var t=un.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return v(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.some(function(t){return t.includes(e)})&&n.remove(e)})})},$e.prototype.merge=function(){return this.union.apply(this,arguments)},$e.prototype.mergeWith=function(t){var e=un.call(arguments,1);return this.union.apply(this,e)},$e.prototype.sort=function(t){return Re(Ct(this,t))},$e.prototype.sortBy=function(t,e){return Re(Ct(this,e,t))},$e.prototype.wasAltered=function(){return this._map.wasAltered()},$e.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate(function(e,r){return t(r,r,n)},e)},$e.prototype.__iterator=function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},$e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},$e.isSet=Me;var Qn="@@__IMMUTABLE_SET__@@",Zn=$e.prototype;Zn[Qn]=!0,Zn[an]=Zn.remove,Zn.mergeDeep=Zn.merge,Zn.mergeDeepWith=Zn.mergeWith,Zn.withMutations=Wn.withMutations,Zn.asMutable=Wn.asMutable,Zn.asImmutable=Wn.asImmutable,Zn.__empty=Ie,Zn.__make=ze;var tr;t(Re,$e),Re.of=function(){return this(arguments)},Re.fromKeys=function(t){return this(p(t).keySeq())},Re.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Re.isOrderedSet=Le;var er=Re.prototype;er[yn]=!0,er.__empty=Te,er.__make=We;var nr;t(Pe,K),Pe.prototype.toString=function(){return this.__toString(Be(this)+" {","}")},Pe.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},Pe.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},Pe.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=Fe(this,Ht()))},Pe.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+Be(this));var n=this._map&&this._map.set(t,e);return this.__ownerID||n===this._map?this:Fe(this,n)},Pe.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:Fe(this,e)},Pe.prototype.wasAltered=function(){return this._map.wasAltered()},Pe.prototype.__iterator=function(t,e){var n=this;return p(this._defaultValues).map(function(t,e){return n.get(e)}).__iterator(t,e)},Pe.prototype.__iterate=function(t,e){var n=this;return p(this._defaultValues).map(function(t,e){return n.get(e)}).__iterate(t,e)},Pe.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?Fe(this,e,t):(this.__ownerID=t,this._map=e,this)};var rr=Pe.prototype;rr[an]=rr.remove,rr.deleteIn=rr.removeIn=Wn.removeIn,rr.merge=Wn.merge,rr.mergeWith=Wn.mergeWith,rr.mergeIn=Wn.mergeIn,rr.mergeDeep=Wn.mergeDeep,rr.mergeDeepWith=Wn.mergeDeepWith,rr.mergeDeepIn=Wn.mergeDeepIn,rr.setIn=Wn.setIn,rr.update=Wn.update,rr.updateIn=Wn.updateIn,rr.withMutations=Wn.withMutations,rr.asMutable=Wn.asMutable,rr.asImmutable=Wn.asImmutable,t(Ge,j),Ge.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},Ge.prototype.get=function(t,e){return this.has(t)?this._start+s(this,t)*this._step:e},Ge.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},Ge.prototype.slice=function(t,e){return a(t,e,this.size)?this:(t=c(t,this.size),e=f(e,this.size),t>=e?new Ge(0,0):new Ge(this.get(t,this._end),this.get(e,this._end),this._step))},Ge.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step===0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},Ge.prototype.lastIndexOf=function(t){return this.indexOf(t)},Ge.prototype.__iterate=function(t,e){for(var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;n>=o;o++){if(t(i,o,this)===!1)return o+1;i+=e?-r:r}return o},Ge.prototype.__iterator=function(t,e){var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;return new _(function(){var s=i;return i+=e?-r:r,o>n?S():E(t,o++,s)})},Ge.prototype.equals=function(t){return t instanceof Ge?this._start===t._start&&this._end===t._end&&this._step===t._step:Ke(this,t)};var ir;t(He,j),He.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},He.prototype.get=function(t,e){return this.has(t)?this._value:e},He.prototype.includes=function(t){return J(this._value,t)},He.prototype.slice=function(t,e){var n=this.size;return a(t,e,n)?this:new He(this._value,f(e,n)-c(t,n))},He.prototype.reverse=function(){return this},He.prototype.indexOf=function(t){return J(this._value,t)?0:-1},He.prototype.lastIndexOf=function(t){return J(this._value,t)?this.size:-1},He.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(t(this._value,n,this)===!1)return n+1;return n},He.prototype.__iterator=function(t,e){var n=this,r=0;return new _(function(){return r<n.size?E(t,r++,n._value):S()})},He.prototype.equals=function(t){return t instanceof He?J(this._value,t._value):Ke(t)};var or;l.Iterator=_,Je(l,{toArray:function(){ut(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate(function(e,n){t[n]=e}),t},toIndexedSeq:function(){return new ct(this)},toJS:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJS?t.toJS():t}).__toJS()},toJSON:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t}).__toJS()},toKeyedSeq:function(){return new at(this,!0)},toMap:function(){return Rt(this.toKeyedSeq())},toObject:function(){ut(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t},toOrderedMap:function(){return Se(this.toKeyedSeq())},toOrderedSet:function(){return Re(m(this)?this.valueSeq():this)},toSet:function(){return $e(m(this)?this.valueSeq():this)},toSetSeq:function(){return new ft(this)},toSeq:function(){return y(this)?this.toIndexedSeq():m(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return De(m(this)?this.valueSeq():this)},toList:function(){return fe(m(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){var t=un.call(arguments,0);return At(this,_t(this,t))},contains:function(t){return this.includes(t)},includes:function(t){return this.some(function(e){return J(e,t)})},entries:function(){return this.__iterator(_n)},every:function(t,e){ut(this.size);var n=!0;return this.__iterate(function(r,i,o){return t.call(e,r,i,o)?void 0:(n=!1,!1)}),n},filter:function(t,e){return At(this,vt(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},findEntry:function(t,e){var n;return this.__iterate(function(r,i,o){return t.call(e,r,i,o)?(n=[i,r],!1):void 0}),n},findLastEntry:function(t,e){return this.toSeq().reverse().findEntry(t,e)},forEach:function(t,e){return ut(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){ut(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate(function(r){n?n=!1:e+=t,e+=null!==r&&void 0!==r?r.toString():""}),e},keys:function(){return this.__iterator(gn)},map:function(t,e){return At(this,pt(this,t,e))},reduce:function(t,e,n){ut(this.size);var r,i;return arguments.length<2?i=!0:r=e,this.__iterate(function(e,o,s){i?(i=!1,r=e):r=t.call(n,r,e,o,s)}),r},reduceRight:function(t,e,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return At(this,dt(this,!0))},slice:function(t,e){return At(this,yt(this,t,e,!0))},some:function(t,e){return!this.every(Qe(t),e)},sort:function(t){return At(this,Ct(this,t))},values:function(){return this.__iterator(wn)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return o(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return bt(this,t,e)},equals:function(t){return Ke(this,t)},entrySeq:function(){var t=this;if(t._cache)return new M(t._cache);var e=t.toSeq().map(Ye).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(Qe(t),e)},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},first:function(){return this.find(u)},flatMap:function(t,e){return At(this,St(this,t,e))},flatten:function(t){return At(this,Et(this,t,!0))},fromEntrySeq:function(){return new ht(this)},get:function(t,e){return this.find(function(e,n){return J(n,t)},void 0,e)},getIn:function(t,e){for(var n,r=this,i=It(t);!(n=i.next()).done;){var o=n.value;if(r=r&&r.get?r.get(o,ln):ln,r===ln)return e}return r},groupBy:function(t,e){return mt(this,t,e)},has:function(t){return this.get(t,ln)!==ln},hasIn:function(t){return this.getIn(t,ln)!==ln},isSubset:function(t){return t="function"==typeof t.includes?t:l(t),this.every(function(e){return t.includes(e)})},isSuperset:function(t){return t.isSubset(this)},keySeq:function(){return this.toSeq().map(Xe).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(t){return kt(this,t)},maxBy:function(t,e){return kt(this,e,t)},min:function(t){return kt(this,t?Ze(t):nn)},minBy:function(t,e){return kt(this,e?Ze(e):nn,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return At(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return At(this,wt(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(Qe(t),e)},sortBy:function(t,e){return At(this,Ct(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return At(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return At(this,gt(this,t,e))},takeUntil:function(t,e){return this.takeWhile(Qe(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=rn(this))}});var sr=l.prototype;sr[vn]=!0,sr[xn]=sr.values,sr.__toJS=sr.toArray,sr.__toStringMapper=tn,sr.inspect=sr.toSource=function(){return this.toString()},sr.chain=sr.flatMap,function(){try{Object.defineProperty(sr,"length",{get:function(){if(!l.noLengthWarning){var t;try{throw new Error}catch(e){t=e.stack}if(-1===t.indexOf("_wrapObject"))return console&&console.warn&&void 0,this.size}}})}catch(t){}}(),Je(p,{flip:function(){return At(this,lt(this))},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLastKey:function(t,e){return this.toSeq().reverse().findKey(t,e)},keyOf:function(t){return this.findKey(function(e){return J(e,t)})},lastKeyOf:function(t){return this.findLastKey(function(e){return J(e,t)})},mapEntries:function(t,e){var n=this,r=0;return At(this,this.toSeq().map(function(i,o){return t.call(e,[o,i],r++,n)}).fromEntrySeq())},mapKeys:function(t,e){var n=this;return At(this,this.toSeq().flip().map(function(r,i){return t.call(e,r,i,n)}).flip())}});var ur=p.prototype;ur[bn]=!0,ur[xn]=sr.entries,ur.__toJS=sr.toObject,ur.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+tn(t)},Je(d,{toKeyedSeq:function(){return new at(this,!1)},filter:function(t,e){return At(this,vt(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.toKeyedSeq().keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){return this.toSeq().reverse().indexOf(t)},reverse:function(){return At(this,dt(this,!1))},slice:function(t,e){return At(this,yt(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=c(t,this.size);var r=this.slice(0,t);return At(this,1===n?r:r.concat(i(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.toKeyedSeq().findLastKey(t,e);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(t){return At(this,Et(this,t,!1))},get:function(t,e){return t=s(this,t),0>t||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find(function(e,n){return n===t},void 0,e)},has:function(t){return t=s(this,t),t>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return At(this,xt(this,t))},interleave:function(){var t=[this].concat(i(arguments)),e=Dt(this.toSeq(),j.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),At(this,n)},last:function(){return this.get(-1)},skipWhile:function(t,e){return At(this,wt(this,t,e,!1))},zip:function(){var t=[this].concat(i(arguments));return At(this,Dt(this,en,t))},zipWith:function(t){var e=i(arguments);return e[0]=this,At(this,Dt(this,t,e))}}),d.prototype[mn]=!0,d.prototype[yn]=!0,Je(v,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),v.prototype.has=sr.includes,Je(O,p.prototype),Je(j,d.prototype),Je($,v.prototype),Je(K,p.prototype),Je(G,d.prototype),Je(H,v.prototype);var ar={Iterable:l,Seq:A,Collection:V,Map:Rt,OrderedMap:Se,List:fe,Stack:De,Set:$e,OrderedSet:Re,Record:Pe,Range:Ge,Repeat:He,is:J,fromJS:X};return ar})},{}],62:[function(t,e,n){(function(r){(function(i){var o={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},s=o[typeof window]&&window||this,u=o[typeof n]&&n&&!n.nodeType&&n,a=o[typeof e]&&e&&!e.nodeType&&e,c=(a&&a.exports===u&&u,o[typeof r]&&r);!c||c.global!==c&&c.window!==c||(s=c),"function"==typeof define&&define.amd?define(["rx","exports"],function(t,e){return s.Rx=i(s,e,t),s.Rx}):"object"==typeof e&&e&&e.exports===u?e.exports=i(s,e.exports,t("rx")):s.Rx=i(s,{},s.Rx)}).call(this,function(t,e,n,r){function i(t,e,n,r){if(t.addEventListener)return t.addEventListener(e,n,r),p(function(){t.removeEventListener(e,n,r)});throw new Error("No listener found")}function o(t,e,n,r){var s=new d,u=Object.prototype.toString;if("[object NodeList]"===u.call(t)||"[object HTMLCollection]"===u.call(t))for(var a=0,c=t.length;c>a;a++)s.add(o(t.item(a),e,n,r));else t&&s.add(i(t,e,n,r));return s}function s(){if(t.XMLHttpRequest)return new t.XMLHttpRequest;var e;try{for(var n=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=0;3>r;r++)try{if(e=n[r],new t.ActiveXObject(e))break}catch(i){}return new t.ActiveXObject(e)}catch(i){throw new Error("XMLHttpRequest is not supported by your browser")}}function u(){var e=new t.XMLHttpRequest;if("withCredentials"in e)return e;if(t.XDomainRequest)return new XDomainRequest;throw new Error("CORS is not supported by your browser")}function a(t,e,n){var r="response"in e?e.response:e.responseText;return r="json"===n.responseType?JSON.parse(r):r,{response:r,status:e.status,responseType:e.responseType,xhr:e,originalEvent:t}}function c(t,e,n){return{type:n,status:e.status,xhr:e,originalEvent:t}}var f=n.Observable,h=(f.prototype,n.AnonymousObservable),l=n.Observer.create,p=n.Disposable.create,d=n.CompositeDisposable,v=n.SingleAssignmentDisposable,b=n.AsyncSubject,m=n.Subject,y=n.Scheduler,g=function(){return Date.now?Date.now:function(){return+new Date}}(),w=n.DOM={},_={}.hasOwnProperty,E=(n.helpers.noop,n.helpers.isFunction),S=w.fromEvent=function(t,e,n,r){var i=E(n)?n:null;return"boolean"==typeof n&&(r=n),"undefined"==typeof r&&(r=!1),new h(function(n){return o(t,e,function(){var t=arguments[0];if(i){var t=tryCatch(i).apply(null,arguments);if(t===errorObj)return n.onError(t.e)}n.onNext(t)},r)}).publish().refCount()};!function(){var e="blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu";t.PointerEvent&&(e+=" pointerdown pointerup pointermove pointerover pointerout pointerenter pointerleave"),t.TouchEvent&&(e+=" touchstart touchend touchmove touchcancel"),e=e.split(" ");for(var n=0,r=e.length;r>n;n++)!function(t){w[t]=function(e,n,r){return S(e,t,n,r)}}(e[n])}(),w.ready=function(){return new h(function(e){function n(){e.onNext(),e.onCompleted()}var r=!1;return"complete"===document.readyState?setTimeout(n,0):(r=!0,document.addEventListener("DOMContentLoaded",n,!1),t.addEventListener("load",n,!1)),function(){r&&(document.removeEventListener("DOMContentLoaded",n,!1),t.removeEventListener("load",n,!1))}})};var x=w.ajax=function(e){var n={method:"GET",crossDomain:!1,contentType:"application/x-www-form-urlencoded; charset=UTF-8",async:!0,headers:{},responseType:"text"};if("string"==typeof e)n.url=e;else for(var i in e)_.call(e,i)&&(n[i]=e[i]);return n.crossDomain||n.headers["X-Requested-With"]||(n.headers["X-Requested-With"]="XMLHttpRequest"),n.hasContent=n.body!==r,new h(function(e){var r=!1;try{var i=n.crossDomain?u():s()}catch(o){e.onError(o)}try{n.user?i.open(n.method,n.url,n.async,n.user,n.password):i.open(n.method,n.url,n.async);var f=n.headers;for(var h in f)_.call(f,h)&&i.setRequestHeader(h,f[h]);i.upload||!("withCredentials"in i)&&t.XDomainRequest?(i.onload=function(t){n.progressObserver&&(n.progressObserver.onNext(t),n.progressObserver.onCompleted()),e.onNext(a(t,i,n)),e.onCompleted(),r=!0},n.progressObserver&&(i.onprogress=function(t){n.progressObserver.onNext(t)}),i.onerror=function(t){n.progressObserver&&n.progressObserver.onError(t),e.onError(c(t,i,"error")),r=!0},i.onabort=function(t){n.progressObserver&&n.progressObserver.onError(t),e.onError(c(t,i,"abort")),r=!0}):i.onreadystatechange=function(t){if(4===i.readyState){var o=1223==i.status?204:i.status;o>=200&&300>=o||0===o||""===o?(e.onNext(a(t,i,n)),e.onCompleted()):e.onError(c(t,i,"error")),r=!0}},i.send(n.hasContent&&n.body||null)}catch(l){e.onError(l)}return function(){r||4===i.readyState||i.abort()}})};w.post=function(t,e){return x({url:t,body:e,method:"POST"})};w.get=function(t){return x({url:t})};w.getJSON=function(e){if(!t.JSON&&"function"!=typeof t.JSON.parse)throw new TypeError("JSON is not supported in your runtime.");return x({url:e,responseType:"json"}).map(function(t){return t.response})};var C=function(){var t=document.createElement("div");return function(e){t.appendChild(e),t.innerHTML=""}}();w.jsonpRequest=function(){var e=0;return function(n){return new h(function(r){var i="callback_"+(e++).toString(36),o={jsonp:"JSONPCallback",async:!0,jsonpCallback:"rxjsjsonpCallbacks"+i};if("string"==typeof n)o.url=n;else for(var s in n)_.call(n,s)&&(o[s]=n[s]);var u=document.createElement("script");u.type="text/javascript",u.async=o.async,u.src=o.url.replace(o.jsonp,o.jsonpCallback),t[o.jsonpCallback]=function(e){t[o.jsonpCallback].called=!0,t[o.jsonpCallback].data=e};var a=function(e){"load"!==e.type||t[o.jsonpCallback].called||(e={type:"error"});var n="error"===e.type?400:200,i=t[o.jsonpCallback].data;200===n?(r.onNext({status:n,responseType:"jsonp",response:i,originalEvent:e}),r.onCompleted()):r.onError({type:"error",status:n,originalEvent:e})};u.onload=u.onreadystatechanged=u.onerror=a;var c=document.getElementsByTagName("head")[0]||document.documentElement;return c.insertBefore(u,c.firstChild),function(){u.onload=u.onreadystatechanged=u.onerror=null,C(u),u=null}})}}(),w.fromWebSocket=function(t,e,n,r){function i(t,e){o&&(r&&(r.onNext(),r.onCompleted()),t?o.close(t,e):o.close())}if(!WebSocket)throw new TypeError("WebSocket not implemented in your runtime.");var o,s=new h(function(r){function s(t){n.onNext(t),n.onCompleted(),o.removeEventListener("open",s,!1)}function u(t){r.onNext(t)}function a(t){r.onError(t)}function c(t){return 1e3===t.code&&t.wasClean?void r.onCompleted():r.onError(t)}return o=e?new WebSocket(t,e):new WebSocket(t),n&&o.addEventListener("open",s,!1),o.addEventListener("message",u,!1),o.addEventListener("error",a,!1),o.addEventListener("close",c,!1),function(){i(),o.removeEventListener("message",u,!1),o.removeEventListener("error",a,!1),o.removeEventListener("close",c,!1)}}),u=l(function(t){o&&o.readyState===WebSocket.OPEN&&o.send(t)},function(t){if(!t.code)throw new Error('no code specified. be sure to pass { code: ###, reason: "" } to onError()');i(t.code,t.reason||"")},function(){i(1e3,"")});return m.create(u,s)},w.fromWebWorker=function(e){if(!t.Worker)throw new TypeError("Worker not implemented in your runtime.");var n=new t.Worker(e),r=new h(function(t){function e(e){t.onNext(e)}function r(e){t.onError(e)}return n.addEventListener("message",e,!1),n.addEventListener("error",r,!1),function(){
n.close(),n.removeEventListener("message",e,!1),n.removeEventListener("error",r,!1)}}),i=l(function(t){n.postMessage(t)});return m.create(i,r)},w.fromEventSource=function(e,n){if(!t.EventSource)throw new TypeError("EventSource not implemented in your runtime.");return new h(function(r){function i(t){n.onNext(t),n.onCompleted(),u.removeEventListener("open",i,!1)}function o(t){t.readyState===EventSource.CLOSED?r.onCompleted():r.onError(t)}function s(t){r.onNext(t)}var u=new t.EventSource(e);return n&&u.addEventListener("open",i,!1),u.addEventListener("error",o,!1),u.addEventListener("message",s,!1),function(){u.removeEventListener("error",o,!1),u.removeEventListener("message",s,!1),u.close()}})},w.fromMutationObserver=function(e,n){var r=t.MutationObserver||t.WebKitMutationObserver;if(!r)throw new TypeError("MutationObserver not implemented in your runtime.");return observableCreate(function(t){var i=new r(t.onNext.bind(t));return i.observe(e,n),i.disconnect.bind(i)})};var k,N;return t.requestAnimationFrame?(k=t.requestAnimationFrame,N=t.cancelAnimationFrame):t.mozRequestAnimationFrame?(k=t.mozRequestAnimationFrame,N=t.mozCancelAnimationFrame):t.webkitRequestAnimationFrame?(k=t.webkitRequestAnimationFrame,N=t.webkitCancelAnimationFrame):t.msRequestAnimationFrame?(k=t.msRequestAnimationFrame,N=t.msCancelAnimationFrame):t.oRequestAnimationFrame?(k=t.oRequestAnimationFrame,N=t.oCancelAnimationFrame):(k=function(e){t.setTimeout(e,1e3/60)},N=t.clearTimeout),y.requestAnimationFrame=function(){function e(t,e){var n=this,r=new v,i=k(function(){!r.isDisposed&&r.setDisposable(e(n,t))});return new d(r,p(function(){N(i)}))}function n(e,n,r){var i=this,o=y.normalize(n);if(0===o)return i.scheduleWithState(e,r);var s=new v,u=t.setTimeout(function(){s.isDisposed||s.setDisposable(r(i,e))},o);return new d(s,p(function(){t.clearTimeout(u)}))}function r(t,e,n){return this.scheduleWithRelativeAndState(t,e-this.now(),n)}return new y(g,e,n,r)}(),y.microtask=function(){function e(t){delete f[t]}function n(r){if(h)t.setTimeout(function(){n(r)},0);else{var i=f[r];if(i){h=!0;try{i()}catch(o){throw o}finally{e(r),h=!1}}}}function r(){if(!t.postMessage||t.importScripts)return!1;var e=!1,n=t.onmessage;return t.onmessage=function(){e=!0},t.postMessage("","*"),t.onmessage=n,e}function i(t){"string"==typeof t.data&&t.data.substring(0,_.length)===_&&n(t.data.substring(_.length))}function o(t,n){var r=this,i=new v,o=a(function(){!i.isDisposed&&i.setDisposable(n(r,t))});return new d(i,p(function(){e(o)}))}function s(e,n,r){var i=this,o=y.normalize(n);if(0===o)return i.scheduleWithState(e,r);var s=new v,u=t.setTimeout(function(){s.isDisposed||s.setDisposable(r(i,e))},o);return new d(s,p(function(){t.clearTimeout(u)}))}function u(t,e,n){return this.scheduleWithRelativeAndState(t,e-this.now(),n)}var a,c=1,f={},h=!1,l=t.MutationObserver||t.WebKitMutationObserver;if(l){var b="drainqueue_",m=new l(function(t){t.forEach(function(t){n(t.attributeName.substring(b.length))})}),w=document.createElement("div");m.observe(w,{attributes:!0}),t.addEventListener("unload",function(){m.disconnect(),m=null},!1),a=function(t){var e=c++;return f[e]=t,w.setAttribute(b+e,"drainQueue"),e}}else if("function"==typeof t.setImmediate)a=function(e){var r=c++;return f[r]=e,t.setImmediate(function(){n(r)}),r};else if(r()){var _="ms.rx.schedule"+Math.random();t.addEventListener?t.addEventListener("message",i,!1):t.attachEvent&&t.attachEvent("onmessage",i),a=function(e){var n=c++;return f[currentId]=e,t.postMessage(_+currentId,"*"),n}}else if(t.MessageChannel){var E=new t.MessageChannel;E.port1.onmessage=function(t){n(t.data)},a=function(t){var e=c++;return f[e]=t,E.port2.postMessage(e),e}}else a="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(e){var r=t.document.createElement("script"),i=c++;return f[i]=e,r.onreadystatechange=function(){n(i),r.onreadystatechange=null,r.parentNode.removeChild(r),r=null},t.document.documentElement.appendChild(r),i}:function(e){var r=c++;return f[r]=e,t.setTimeout(function(){n(r)},0),r};return new y(g,o,s,u)}(),n.DOM.geolocation={getCurrentPosition:function(e){if(!t.navigator&&!t.navigation.geolocation)throw new TypeError("geolocation not available");return new h(function(n){t.navigator.geolocation.getCurrentPosition(function(t){n.onNext(t),n.onCompleted()},n.onError.bind(n),e)})},watchPosition:function(e){if(!t.navigator&&!t.navigation.geolocation)throw new TypeError("geolocation not available");return new h(function(n){var r=t.navigator.geolocation.watchPosition(n.onNext.bind(n),n.onError.bind(n),e);return function(){t.navigator.geolocation.clearWatch(r)}}).publish().refCount()}},w.fromReader=function(e,n){function r(e,r,i){return new h(function(o){function s(t){n&&n.onCompleted(),f.onNext(t.target.result),f.onCompleted()}function u(t){f.onError(t.target.error)}function a(t){n.onNext(t)}var c=new t.FileReader,f=new b;return c.addEventListener("load",s,!1),c.addEventListener("error",u,!1),n&&c.addEventListener("progress",a,!1),c[e](r,i),new d(f.subscribe(o),p(function(){c.readyState==t.FileReader.LOADING&&c.abort(),c.removeEventListener("load",s,!1),c.removeEventListener("error",u,!1),n&&c.removeEventListener("progress",a,!1)}))})}if(!t.FileReader)throw new TypeError("FileReader not implemented in your runtime.");return{asArrayBuffer:function(){return r("readAsArrayBuffer",e)},asBinaryString:function(){return r("readAsBinaryString",e)},asDataURL:function(){return r("readAsDataURL",e)},asText:function(t){return r("readAsText",e,t)}}},n})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{rx:64}],63:[function(t,e,n){var r=t("rx");t("./dist/rx.dom"),e.exports=r},{"./dist/rx.dom":62,rx:64}],64:[function(t,e,n){(function(t,r){(function(i){function o(t){for(var e=[],n=0,r=t.length;r>n;n++)e.push(t[n]);return e}function u(t,e){if(Ft&&e.stack&&"object"==typeof t&&null!==t&&t.stack&&-1===t.stack.indexOf(Kt)){for(var n=[],r=e;r;r=r.source)r.stack&&n.unshift(r.stack);n.unshift(t.stack);var i=n.join("\n"+Kt+"\n");t.stack=a(i)}}function a(t){for(var e=t.split("\n"),n=[],r=0,i=e.length;i>r;r++){var o=e[r];c(o)||f(o)||!o||n.push(o)}return n.join("\n")}function c(t){var e=l(t);if(!e)return!1;var n=e[0],r=e[1];return n===Ut&&r>=Vt&&Ur>=r}function f(t){return-1!==t.indexOf("(module.js:")||-1!==t.indexOf("(node.js:")}function h(){if(Ft)try{throw new Error}catch(t){var e=t.stack.split("\n"),n=e[0].indexOf("@")>0?e[1]:e[2],r=l(n);if(!r)return;return Ut=r[0],r[1]}}function l(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(t);return r?[r[1],Number(r[2])]:void 0}function p(t){var e=[];if(!Ne(t))return e;ke.nonEnumArgs&&t.length&&De(t)&&(t=je.call(t));var n=ke.enumPrototypes&&"function"==typeof t,r=ke.enumErrorProps&&(t===_e||t instanceof Error);for(var i in t)n&&"prototype"==i||r&&("message"==i||"name"==i)||e.push(i);if(ke.nonEnumShadows&&t!==Ee){var o=t.constructor,s=-1,u=ue;if(t===(o&&o.prototype))var a=t===Se?me:t===_e?le:ye.call(t),c=Ce[a];for(;++s<u;)i=se[s],c&&c[i]||!ge.call(t,i)||e.push(i)}return e}function d(t,e,n){for(var r=-1,i=n(t),o=i.length;++r<o;){var s=i[r];if(e(t[s],s,t)===!1)break}return t}function v(t,e){return d(t,e,p)}function b(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}function m(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;var i=typeof t,o=typeof e;if(t===t&&(null==t||null==e||"function"!=i&&"object"!=i&&"function"!=o&&"object"!=o))return!1;var s=ye.call(t),u=ye.call(e);if(s==ae&&(s=ve),u==ae&&(u=ve),s!=u)return!1;switch(s){case fe:case he:return+t==+e;case de:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case be:case me:return t==String(e)}var a=s==ce;if(!a){if(s!=ve||!ke.nodeClass&&(b(t)||b(e)))return!1;var c=!ke.argsObject&&De(t)?Object:t.constructor,f=!ke.argsObject&&De(e)?Object:e.constructor;if(!(c==f||ge.call(t,"constructor")&&ge.call(e,"constructor")||Pt(c)&&c instanceof c&&Pt(f)&&f instanceof f||!("constructor"in t&&"constructor"in e)))return!1}n||(n=[]),r||(r=[]);for(var h=n.length;h--;)if(n[h]==t)return r[h]==e;var l=0,p=!0;if(n.push(t),r.push(e),a){if(h=t.length,l=e.length,p=l==h)for(;l--;){var d=e[l];if(!(p=m(t[l],d,n,r)))break}}else v(e,function(e,i,o){return ge.call(o,i)?(l++,p=ge.call(t,i)&&m(t[i],e,n,r)):void 0}),p&&v(t,function(t,e,n){return ge.call(n,e)?p=--l>-1:void 0});return n.pop(),r.pop(),p}function y(t,e){for(var n=new Array(t),r=0;t>r;r++)n[r]=e();return n}function g(){try{return Ae.apply(this,arguments)}catch(t){return ze.e=t,ze}}function w(t){if(!Pt(t))throw new TypeError("fn must be a function");return Ae=t,g}function _(t){throw t}function E(t,e){this.id=t,this.value=e}function S(t,e){this.scheduler=t,this.disposable=e,this.isDisposed=!1}function x(t,e){e.isDisposed||(e.isDisposed=!0,e.disposable.dispose())}function C(t){this._s=s}function k(t){this._s=s,this._l=s.length,this._i=0}function N(t){this._a=t}function D(t){this._a=t,this._l=$(t),this._i=0}function A(t){return"number"==typeof t&&Nt.isFinite(t)}function O(t){var e,n=t[te];if(!n&&"string"==typeof t)return e=new C(t),e[te]();if(!n&&t.length!==i)return e=new N(t),e[te]();if(!n)throw new TypeError("Object is not iterable");return t[te]()}function j(t){var e=+t;return 0===e?e:isNaN(e)?e:0>e?-1:1}function $(t){var e=+t.length;return isNaN(e)?0:0!==e&&A(e)?(e=j(e)*Math.floor(Math.abs(e)),0>=e?0:e>Ln?Ln:e):e}function M(t,e){this.observer=t,this.parent=e}function q(t,e){return Ye(t)||(t=nn),new Tn(e,t)}function z(t,e){this.observer=t,this.parent=e}function I(t,e){this.observer=t,this.parent=e}function R(t,e){return new Lr(function(n){var r=new Ve,i=new Ke;return i.setDisposable(r),r.setDisposable(t.subscribe(function(t){n.onNext(t)},function(t){try{var r=e(t)}catch(o){return n.onError(o)}Wt(r)&&(r=jn(r));var s=new Ve;i.setDisposable(s),s.setDisposable(r.subscribe(n))},function(t){n.onCompleted(t)})),i},t)}function L(){return!1}function W(t,e){var n=this;return new Lr(function(r){var i=0,o=t.length;return n.subscribe(function(n){if(o>i){var s=t[i++],u=w(e)(n,s);if(u===ze)return r.onError(u.e);r.onNext(u)}else r.onCompleted()},function(t){r.onError(t)},function(){r.onCompleted()})},n)}function L(){return!1}function T(){return[]}function L(){return!1}function P(){return[]}function F(t,e){this.observer=t,this.accumulator=e.accumulator,this.hasSeed=e.hasSeed,this.seed=e.seed,this.hasAccumulation=!1,this.accumulation=null,this.hasValue=!1,this.isStopped=!1}function B(t,e,n){var r=oe(e,n,3);return t.map(function(e,n){var i=r(e,n,t);return Wt(i)&&(i=jn(i)),(re(i)||ne(i))&&(i=Wn(i)),i}).concatAll()}function U(t,e,n){for(var r=0,i=t.length;i>r;r++)if(n(t[r],e))return r;return-1}function V(t){this.comparer=t,this.set=[]}function K(t,e,n){var r=oe(e,n,3);return t.map(function(e,n){var i=r(e,n,t);return Wt(i)&&(i=jn(i)),(re(i)||ne(i))&&(i=Wn(i)),i}).mergeAll()}function G(t,e,n){return new Lr(function(r){var i=!1,o=null,s=[];return t.subscribe(function(t){var u,a;try{a=e(t)}catch(c){return void r.onError(c)}if(u=0,i)try{u=n(a,o)}catch(f){return void r.onError(f)}else i=!0,o=a;u>0&&(o=a,s=[]),u>=0&&s.push(t)},function(t){r.onError(t)},function(){r.onNext(s),r.onCompleted()})},t)}function H(t){if(0===t.length)throw new Gt;return t[0]}function J(t,e,n,r){if(0>e)throw new Jt;return new Lr(function(i){var o=e;return t.subscribe(function(t){0===o--&&(i.onNext(t),i.onCompleted())},function(t){i.onError(t)},function(){n?(i.onNext(r),i.onCompleted()):i.onError(new Jt)})},t)}function X(t,e,n){return new Lr(function(r){var i=n,o=!1;return t.subscribe(function(t){o?r.onError(new Error("Sequence contains more than one element")):(i=t,o=!0)},function(t){r.onError(t)},function(){o||e?(r.onNext(i),r.onCompleted()):r.onError(new Gt)})},t)}function Y(t,e,n){return new Lr(function(r){return t.subscribe(function(t){r.onNext(t),r.onCompleted()},function(t){r.onError(t)},function(){e?(r.onNext(n),r.onCompleted()):r.onError(new Gt)})},t)}function Q(t,e,n){return new Lr(function(r){var i=n,o=!1;return t.subscribe(function(t){i=t,o=!0},function(t){r.onError(t)},function(){o||e?(r.onNext(i),r.onCompleted()):r.onError(new Gt)})},t)}function Z(t,e,n,r){var o=oe(e,n,3);return new Lr(function(e){var n=0;return t.subscribe(function(i){var s;try{s=o(i,n,t)}catch(u){return void e.onError(u)}s?(e.onNext(r?n:i),e.onCompleted()):n++},function(t){e.onError(t)},function(){e.onNext(r?-1:i),e.onCompleted()})},t)}function tt(t,e){return Array.isArray(t)?et.call(e,t):ot(t)?yr(t.call(e)):st(t)?yr(t):it(t)?nt(t):Wt(t)?rt(t):typeof t===br?t:Ne(t)||Array.isArray(t)?et.call(e,t):t}function et(t){var e=this;return function(n){function r(t,r){if(!i)try{if(t=tt(t,e),typeof t!==br)return u[r]=t,--s||n(null,u);t.call(e,function(t,e){if(!i){if(t)return i=!0,n(t);u[r]=e,--s||n(null,u)}})}catch(o){i=!0,n(o)}}var i,o=Object.keys(t),s=o.length,u=new t.constructor;if(!s)return void un.schedule(function(){n(null,u)});for(var a=0,c=o.length;c>a;a++)r(t[o[a]],o[a])}}function nt(t){return function(e){var n,r=!1;t.subscribe(function(t){n=t,r=!0},e,function(){r&&e(null,n)})}}function rt(t){return function(e){t.then(function(t){e(null,t)},e)}}function it(t){return t&&typeof t.subscribe===br}function ot(t){return t&&t.constructor&&"GeneratorFunction"===t.constructor.name}function st(t){return t&&typeof t.next===br&&typeof t[mr]===br}function ut(t){t&&un.schedule(function(){throw t})}function at(t,e,n){if(t.addEventListener)return t.addEventListener(e,n,!1),Pe(function(){t.removeEventListener(e,n,!1)});throw new Error("No listener found")}function ct(t,e,n){var r=new Le,i=Object.prototype.toString;if("[object NodeList]"===i.call(t)||"[object HTMLCollection]"===i.call(t))for(var o=0,s=t.length;s>o;o++)r.add(ct(t.item(o),e,n));else t&&r.add(at(t,e,n));return r}function ft(t,e,n){return new Lr(function(r){function i(t,e){if(c[e]=t,s[e]=!0,u||(u=s.every(qt))){if(o)return r.onError(o);var i=w(n).apply(null,c);if(i===ze)return r.onError(i.e);r.onNext(i)}a&&c[1]&&r.onCompleted()}var o,s=[!1,!1],u=!1,a=!1,c=new Array(2);return new Le(t.subscribe(function(t){i(t,0)},function(t){c[1]?r.onError(t):o=t},function(){a=!0,c[1]&&r.onCompleted()}),e.subscribe(function(t){i(t,1)},function(t){r.onError(t)},function(){a=!0,i(!0,1)}))},t)}function ht(t,e){return t.groupJoin(this,e,zn,function(t,e){return e})}function lt(t){var e=this;return new Lr(function(n){var r=new Pr,i=new Le,o=new Ge(i);return n.onNext(qe(r,o)),i.add(e.subscribe(function(t){r.onNext(t)},function(t){r.onError(t),n.onError(t)},function(){r.onCompleted(),n.onCompleted()})),Wt(t)&&(t=jn(t)),i.add(t.subscribe(function(t){r.onCompleted(),r=new Pr,n.onNext(qe(r,o))},function(t){r.onError(t),n.onError(t)},function(){r.onCompleted(),n.onCompleted()})),o},e)}function pt(t){var e=this;return new Lr(function(n){function r(){var e;try{e=t()}catch(o){return void n.onError(o)}Wt(e)&&(e=jn(e));var a=new Ve;i.setDisposable(a),a.setDisposable(e.take(1).subscribe(Mt,function(t){u.onError(t),n.onError(t)},function(){u.onCompleted(),u=new Pr,n.onNext(qe(u,s)),r()}))}var i=new Ke,o=new Le(i),s=new Ge(o),u=new Pr;return n.onNext(qe(u,s)),o.add(e.subscribe(function(t){u.onNext(t)},function(t){u.onError(t),n.onError(t)},function(){u.onCompleted(),n.onCompleted()})),r(),s},e)}function dt(t,e){return new $r(t,e)}function vt(t){this.patterns=t}function bt(t,e){this.expression=t,this.selector=e}function mt(t,e,n){var r=t.get(e);if(!r){var i=new Ir(e,n);return t.set(e,i),i}return r}function yt(t,e,n){this.joinObserverArray=t,this.onNext=e,this.onCompleted=n,this.joinObservers=new zr;for(var r=0,i=this.joinObserverArray.length;i>r;r++){var o=this.joinObserverArray[r];this.joinObservers.set(o,o)}}function gt(t,e){return new Lr(function(n){return e.scheduleWithAbsolute(t,function(){n.onNext(0),n.onCompleted()})})}function wt(t,e,n){return new Lr(function(r){var i=t,o=Xe(e);return n.scheduleRecursiveWithAbsoluteAndState(0,i,function(t,e){if(o>0){var s=n.now();i+=o,s>=i&&(i=s+o)}r.onNext(t),e(t+1,i)})})}function _t(t,e){return new Lr(function(n){return e.scheduleWithRelative(Xe(t),function(){n.onNext(0),n.onCompleted()})})}function Et(t,e,n){return t===e?new Lr(function(t){return n.schedulePeriodicWithState(0,e,function(e){return t.onNext(e),e+1})}):Mn(function(){return wt(n.now()+t,e,n)})}function St(t,e,n){return new Lr(function(r){var i,o=!1,s=new Ke,u=null,a=[],c=!1;return i=t.materialize().timestamp(n).subscribe(function(t){var i,f;"E"===t.value.kind?(a=[],a.push(t),u=t.value.exception,f=!c):(a.push({value:t.value,timestamp:t.timestamp+e}),f=!o,o=!0),f&&(null!==u?r.onError(u):(i=new Ve,s.setDisposable(i),i.setDisposable(n.scheduleRecursiveWithRelative(e,function(t){var e,i,s,f;if(null===u){c=!0;do s=null,a.length>0&&a[0].timestamp-n.now()<=0&&(s=a.shift().value),null!==s&&s.accept(r);while(null!==s);f=!1,i=0,a.length>0?(f=!0,i=Math.max(0,a[0].timestamp-n.now())):o=!1,e=u,c=!1,null!==e?r.onError(e):f&&t(i)}}))))}),new Le(i,s)},t)}function xt(t,e,n){return Mn(function(){return St(t,e-n.now(),n)})}function Ct(t,e){return new Lr(function(n){function r(){s&&(s=!1,n.onNext(i)),o&&n.onCompleted()}var i,o=!1,s=!1,u=new Ve;return u.setDisposable(t.subscribe(function(t){s=!0,i=t},function(t){n.onError(t)},function(){o=!0,u.dispose()})),new Le(u,e.subscribe(r,function(t){n.onError(t)},r))},t)}var kt={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},Nt=kt[typeof window]&&window||this,Dt=kt[typeof n]&&n&&!n.nodeType&&n,At=kt[typeof e]&&e&&!e.nodeType&&e,Ot=At&&At.exports===Dt&&Dt,jt=kt[typeof r]&&r;!jt||jt.global!==jt&&jt.window!==jt||(Nt=jt);var $t={internals:{},config:{Promise:Nt.Promise},helpers:{}},Mt=$t.helpers.noop=function(){},qt=($t.helpers.notDefined=function(t){return"undefined"==typeof t},$t.helpers.identity=function(t){return t}),zt=($t.helpers.pluck=function(t){return function(e){return e[t]}},$t.helpers.just=function(t){return function(){return t}},$t.helpers.defaultNow=Date.now),It=$t.helpers.defaultComparer=function(t,e){return Oe(t,e)},Rt=$t.helpers.defaultSubComparer=function(t,e){return t>e?1:e>t?-1:0},Lt=($t.helpers.defaultKeySerializer=function(t){return t.toString()},$t.helpers.defaultError=function(t){throw t}),Wt=$t.helpers.isPromise=function(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then},Tt=($t.helpers.asArray=function(){return Array.prototype.slice.call(arguments)},$t.helpers.not=function(t){return!t}),Pt=$t.helpers.isFunction=function(){var t=function(t){return"function"==typeof t||!1};return t(/x/)&&(t=function(t){return"function"==typeof t&&"[object Function]"==ye.call(t)}),t}();$t.config.longStackSupport=!1;var Ft=!1;try{throw new Error}catch(Bt){Ft=!!Bt.stack}var Ut,Vt=h(),Kt="From previous event:",Gt=$t.EmptyError=function(){this.message="Sequence contains no elements.",Error.call(this)};Gt.prototype=Error.prototype;var Ht=$t.ObjectDisposedError=function(){this.message="Object has been disposed",Error.call(this)};Ht.prototype=Error.prototype;var Jt=$t.ArgumentOutOfRangeError=function(){this.message="Argument out of range",Error.call(this)};Jt.prototype=Error.prototype;var Xt=$t.NotSupportedError=function(t){this.message=t||"This operation is not supported",Error.call(this)};Xt.prototype=Error.prototype;var Yt=$t.NotImplementedError=function(t){this.message=t||"This operation is not implemented",Error.call(this)};Yt.prototype=Error.prototype;var Qt=$t.helpers.notImplemented=function(){throw new Yt},Zt=$t.helpers.notSupported=function(){throw new Xt},te="function"==typeof Symbol&&Symbol.iterator||"_es6shim_iterator_";Nt.Set&&"function"==typeof(new Nt.Set)["@@iterator"]&&(te="@@iterator");var ee=$t.doneEnumerator={done:!0,value:i},ne=$t.helpers.isIterable=function(t){return t[te]!==i},re=$t.helpers.isArrayLike=function(t){return t&&t.length!==i};$t.helpers.iterator=te;var ie,oe=$t.internals.bindCallback=function(t,e,n){if("undefined"==typeof e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},se=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ue=se.length,ae="[object Arguments]",ce="[object Array]",fe="[object Boolean]",he="[object Date]",le="[object Error]",pe="[object Function]",de="[object Number]",ve="[object Object]",be="[object RegExp]",me="[object String]",ye=Object.prototype.toString,ge=Object.prototype.hasOwnProperty,we=ye.call(arguments)==ae,_e=Error.prototype,Ee=Object.prototype,Se=String.prototype,xe=Ee.propertyIsEnumerable;try{ie=!(ye.call(document)==ve&&!({toString:0}+""))}catch(Bt){ie=!0}var Ce={};Ce[ce]=Ce[he]=Ce[de]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},Ce[fe]=Ce[me]={constructor:!0,toString:!0,valueOf:!0},Ce[le]=Ce[pe]=Ce[be]={constructor:!0,toString:!0},Ce[ve]={constructor:!0};var ke={};!function(){var t=function(){this.x=1},e=[];t.prototype={valueOf:1,y:1};for(var n in new t)e.push(n);for(n in arguments);ke.enumErrorProps=xe.call(_e,"message")||xe.call(_e,"name"),ke.enumPrototypes=xe.call(t,"prototype"),ke.nonEnumArgs=0!=n,ke.nonEnumShadows=!/valueOf/.test(e)}(1);var Ne=$t.internals.isObject=function(t){var e=typeof t;return t&&("function"==e||"object"==e)||!1},De=function(t){return t&&"object"==typeof t?ye.call(t)==ae:!1};we||(De=function(t){return t&&"object"==typeof t?ge.call(t,"callee"):!1});var Ae,Oe=$t.internals.isEqual=function(t,e){return m(t,e,[],[])},je=({}.hasOwnProperty,Array.prototype.slice),$e=this.inherits=$t.internals.inherits=function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n},Me=$t.internals.addProperties=function(t){for(var e=[],n=1,r=arguments.length;r>n;n++)e.push(arguments[n]);for(var i=0,o=e.length;o>i;i++){var s=e[i];for(var u in s)t[u]=s[u]}},qe=$t.internals.addRef=function(t,e){return new Lr(function(n){return new Le(e.getDisposable(),t.subscribe(n))})},ze={e:{}};E.prototype.compareTo=function(t){var e=this.value.compareTo(t.value);return 0===e&&(e=this.id-t.id),e};var Ie=$t.internals.PriorityQueue=function(t){this.items=new Array(t),this.length=0},Re=Ie.prototype;Re.isHigherPriority=function(t,e){return this.items[t].compareTo(this.items[e])<0},Re.percolate=function(t){if(!(t>=this.length||0>t)){var e=t-1>>1;if(!(0>e||e===t)&&this.isHigherPriority(t,e)){var n=this.items[t];this.items[t]=this.items[e],this.items[e]=n,this.percolate(e)}}},Re.heapify=function(t){if(+t||(t=0),!(t>=this.length||0>t)){var e=2*t+1,n=2*t+2,r=t;if(e<this.length&&this.isHigherPriority(e,r)&&(r=e),n<this.length&&this.isHigherPriority(n,r)&&(r=n),r!==t){var i=this.items[t];this.items[t]=this.items[r],this.items[r]=i,this.heapify(r)}}},Re.peek=function(){return this.items[0].value},Re.removeAt=function(t){this.items[t]=this.items[--this.length],this.items[this.length]=i,this.heapify()},Re.dequeue=function(){var t=this.peek();return this.removeAt(0),t},Re.enqueue=function(t){var e=this.length++;this.items[e]=new E(Ie.count++,t),this.percolate(e)},Re.remove=function(t){for(var e=0;e<this.length;e++)if(this.items[e].value===t)return this.removeAt(e),!0;return!1},Ie.count=0;var Le=$t.CompositeDisposable=function(){var t,e,n=[];if(Array.isArray(arguments[0]))n=arguments[0],e=n.length;else for(e=arguments.length,n=new Array(e),t=0;e>t;t++)n[t]=arguments[t];for(t=0;e>t;t++)if(!Be(n[t]))throw new TypeError("Not a disposable");this.disposables=n,this.isDisposed=!1,this.length=n.length},We=Le.prototype;We.add=function(t){this.isDisposed?t.dispose():(this.disposables.push(t),this.length++)},We.remove=function(t){var e=!1;if(!this.isDisposed){var n=this.disposables.indexOf(t);-1!==n&&(e=!0,this.disposables.splice(n,1),this.length--,t.dispose())}return e},We.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var t=this.disposables.length,e=new Array(t),n=0;t>n;n++)e[n]=this.disposables[n];for(this.disposables=[],this.length=0,n=0;t>n;n++)e[n].dispose()}};var Te=$t.Disposable=function(t){this.isDisposed=!1,this.action=t||Mt};Te.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)};var Pe=Te.create=function(t){return new Te(t)},Fe=Te.empty={dispose:Mt},Be=Te.isDisposable=function(t){return t&&Pt(t.dispose)},Ue=Te.checkDisposed=function(t){if(t.isDisposed)throw new Ht},Ve=$t.SingleAssignmentDisposable=function(){this.isDisposed=!1,this.current=null};Ve.prototype.getDisposable=function(){return this.current},Ve.prototype.setDisposable=function(t){if(this.current)throw new Error("Disposable has already been assigned");var e=this.isDisposed;!e&&(this.current=t),e&&t&&t.dispose()},Ve.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this.current;this.current=null}t&&t.dispose()};var Ke=$t.SerialDisposable=function(){this.isDisposed=!1,this.current=null};Ke.prototype.getDisposable=function(){return this.current},Ke.prototype.setDisposable=function(t){var e=this.isDisposed;if(!e){var n=this.current;this.current=t}n&&n.dispose(),e&&t&&t.dispose()},Ke.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this.current;this.current=null}t&&t.dispose()};var Ge=$t.RefCountDisposable=function(){function t(t){this.disposable=t,this.disposable.count++,this.isInnerDisposed=!1}function e(t){this.underlyingDisposable=t,this.isDisposed=!1,this.isPrimaryDisposed=!1,this.count=0}return t.prototype.dispose=function(){this.disposable.isDisposed||this.isInnerDisposed||(this.isInnerDisposed=!0,this.disposable.count--,0===this.disposable.count&&this.disposable.isPrimaryDisposed&&(this.disposable.isDisposed=!0,this.disposable.underlyingDisposable.dispose()))},e.prototype.dispose=function(){this.isDisposed||this.isPrimaryDisposed||(this.isPrimaryDisposed=!0,0===this.count&&(this.isDisposed=!0,this.underlyingDisposable.dispose()))},e.prototype.getDisposable=function(){return this.isDisposed?Fe:new t(this)},e}();S.prototype.dispose=function(){this.scheduler.scheduleWithState(this,x)};var He=$t.internals.ScheduledItem=function(t,e,n,r,i){this.scheduler=t,this.state=e,this.action=n,this.dueTime=r,this.comparer=i||Rt,this.disposable=new Ve};He.prototype.invoke=function(){this.disposable.setDisposable(this.invokeCore())},He.prototype.compareTo=function(t){return this.comparer(this.dueTime,t.dueTime)},He.prototype.isCancelled=function(){return this.disposable.isDisposed},He.prototype.invokeCore=function(){return this.action(this.scheduler,this.state)};var Je=$t.Scheduler=function(){function t(t,e,n,r){this.now=t,this._schedule=e,this._scheduleRelative=n,this._scheduleAbsolute=r}function e(t,e){return e(),Fe}t.isScheduler=function(e){return e instanceof t};var n=t.prototype;return n.schedule=function(t){return this._schedule(t,e)},n.scheduleWithState=function(t,e){return this._schedule(t,e)},n.scheduleWithRelative=function(t,n){return this._scheduleRelative(n,t,e)},n.scheduleWithRelativeAndState=function(t,e,n){return this._scheduleRelative(t,e,n)},n.scheduleWithAbsolute=function(t,n){return this._scheduleAbsolute(n,t,e)},n.scheduleWithAbsoluteAndState=function(t,e,n){return this._scheduleAbsolute(t,e,n)},t.now=zt,t.normalize=function(t){return 0>t&&(t=0),t},t}(),Xe=Je.normalize,Ye=Je.isScheduler;!function(t){function e(t,e){function n(e){i(e,function(e){var r=!1,i=!1,s=t.scheduleWithState(e,function(t,e){return r?o.remove(s):i=!0,n(e),Fe});i||(o.add(s),r=!0)})}var r=e[0],i=e[1],o=new Le;return n(r),o}function n(t,e,n){function r(e){o(e,function(e,i){var o=!1,u=!1,a=t[n](e,i,function(t,e){return o?s.remove(a):u=!0,r(e),Fe});u||(s.add(a),o=!0)})}var i=e[0],o=e[1],s=new Le;return r(i),s}function r(t,e){t(function(n){e(t,n)})}t.scheduleRecursive=function(t){return this.scheduleRecursiveWithState(t,r)},t.scheduleRecursiveWithState=function(t,n){return this.scheduleWithState([t,n],e)},t.scheduleRecursiveWithRelative=function(t,e){return this.scheduleRecursiveWithRelativeAndState(e,t,r)},t.scheduleRecursiveWithRelativeAndState=function(t,e,r){return this._scheduleRelative([t,r],e,function(t,e){return n(t,e,"scheduleWithRelativeAndState")})},t.scheduleRecursiveWithAbsolute=function(t,e){return this.scheduleRecursiveWithAbsoluteAndState(e,t,r)},t.scheduleRecursiveWithAbsoluteAndState=function(t,e,r){return this._scheduleAbsolute([t,r],e,function(t,e){return n(t,e,"scheduleWithAbsoluteAndState")})}}(Je.prototype),function(t){Je.prototype.schedulePeriodic=function(t,e){return this.schedulePeriodicWithState(null,t,e)},Je.prototype.schedulePeriodicWithState=function(t,e,n){if("undefined"==typeof Nt.setInterval)throw new Xt;e=Xe(e);var r=t,i=Nt.setInterval(function(){r=n(r)},e);return Pe(function(){Nt.clearInterval(i)})}}(Je.prototype),function(t){t.catchError=t["catch"]=function(t){return new an(this,t)}}(Je.prototype);var Qe,Ze,tn=$t.internals.SchedulePeriodicRecursive=function(){function t(t,e){e(0,this._period);try{this._state=this._action(this._state)}catch(n){throw this._cancel.dispose(),n}}function e(t,e,n,r){this._scheduler=t,this._state=e,this._period=n,this._action=r}return e.prototype.start=function(){var e=new Ve;return this._cancel=e,e.setDisposable(this._scheduler.scheduleRecursiveWithRelativeAndState(0,this._period,t.bind(this))),e},e}(),en=Je.immediate=function(){function t(t,e){return e(this,t)}return new Je(zt,t,Zt,Zt)}(),nn=Je.currentThread=function(){function t(){for(;n.length>0;){var t=n.dequeue();!t.isCancelled()&&t.invoke()}}function e(e,r){var i=new He(this,e,r,this.now());if(n)n.enqueue(i);else{n=new Ie(4),n.enqueue(i);var o=w(t)();if(n=null,o===ze)return _(o.e)}return i.disposable}var n,r=new Je(zt,e,Zt,Zt);return r.scheduleRequired=function(){return!n},r}(),rn=function(){var t,e=Mt;if(Nt.setTimeout)t=Nt.setTimeout,e=Nt.clearTimeout;else{if(!Nt.WScript)throw new Xt;t=function(t,e){Nt.WScript.Sleep(e),t()}}return{setTimeout:t,clearTimeout:e}}(),on=rn.setTimeout,sn=rn.clearTimeout;!function(){function e(t){if(s)on(function(){e(t)},0);else{var n=o[t];if(n){s=!0;var r=w(n)();if(Ze(t),s=!1,r===ze)return _(r.e)}}}function n(){if(!Nt.postMessage||Nt.importScripts)return!1;var t=!1,e=Nt.onmessage;return Nt.onmessage=function(){t=!0},Nt.postMessage("","*"),Nt.onmessage=e,t}function r(t){"string"==typeof t.data&&t.data.substring(0,c.length)===c&&e(t.data.substring(c.length))}var i=1,o={},s=!1;Ze=function(t){delete o[t]};var u=RegExp("^"+String(ye).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),a="function"==typeof(a=jt&&Ot&&jt.setImmediate)&&!u.test(a)&&a;if(Pt(a))Qe=function(t){var n=i++;return o[n]=t,a(function(){e(n)}),n};else if("undefined"!=typeof t&&"[object process]"==={}.toString.call(t))Qe=function(n){var r=i++;return o[r]=n,t.nextTick(function(){e(r)}),r};else if(n()){var c="ms.rx.schedule"+Math.random();Nt.addEventListener?Nt.addEventListener("message",r,!1):Nt.attachEvent?Nt.attachEvent("onmessage",r):Nt.onmessage=r,Qe=function(t){var e=i++;return o[e]=t,Nt.postMessage(c+currentId,"*"),e}}else if(Nt.MessageChannel){var f=new Nt.MessageChannel;f.port1.onmessage=function(t){e(t.data)},Qe=function(t){var e=i++;return o[e]=t,f.port2.postMessage(e),e}}else Qe="document"in Nt&&"onreadystatechange"in Nt.document.createElement("script")?function(t){var n=Nt.document.createElement("script"),r=i++;return o[r]=t,n.onreadystatechange=function(){e(r),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},Nt.document.documentElement.appendChild(n),r}:function(t){var n=i++;return o[n]=t,on(function(){e(n)},0),n}}();var un=Je.timeout=Je["default"]=function(){function t(t,e){var n=this,r=new Ve,i=Qe(function(){!r.isDisposed&&r.setDisposable(e(n,t))});return new Le(r,Pe(function(){Ze(i)}))}function e(t,e,n){var r=this,i=Je.normalize(e),o=new Ve;if(0===i)return r.scheduleWithState(t,n);var s=on(function(){!o.isDisposed&&o.setDisposable(n(r,t))},i);return new Le(o,Pe(function(){sn(s)}))}function n(t,e,n){return this.scheduleWithRelativeAndState(t,e-this.now(),n)}return new Je(zt,t,e,n)}(),an=function(t){
function e(t,e){return this._scheduler.scheduleWithState(t,this._wrap(e))}function n(t,e,n){return this._scheduler.scheduleWithRelativeAndState(t,e,this._wrap(n))}function r(t,e,n){return this._scheduler.scheduleWithAbsoluteAndState(t,e,this._wrap(n))}function i(i,o){this._scheduler=i,this._handler=o,this._recursiveOriginal=null,this._recursiveWrapper=null,t.call(this,this._scheduler.now.bind(this._scheduler),e,n,r)}return $e(i,t),i.prototype._clone=function(t){return new i(t,this._handler)},i.prototype._wrap=function(t){var e=this;return function(n,r){try{return t(e._getRecursiveWrapper(n),r)}catch(i){if(!e._handler(i))throw i;return Fe}}},i.prototype._getRecursiveWrapper=function(t){if(this._recursiveOriginal!==t){this._recursiveOriginal=t;var e=this._clone(t);e._recursiveOriginal=t,e._recursiveWrapper=e,this._recursiveWrapper=e}return this._recursiveWrapper},i.prototype.schedulePeriodicWithState=function(t,e,n){var r=this,i=!1,o=new Ve;return o.setDisposable(this._scheduler.schedulePeriodicWithState(t,e,function(t){if(i)return null;try{return n(t)}catch(e){if(i=!0,!r._handler(e))throw e;return o.dispose(),null}})),o},i}(Je),cn=$t.Notification=function(){function t(t,e,n,r,i,o){this.kind=t,this.value=e,this.exception=n,this._accept=r,this._acceptObservable=i,this.toString=o}return t.prototype.accept=function(t,e,n){return t&&"object"==typeof t?this._acceptObservable(t):this._accept(t,e,n)},t.prototype.toObservable=function(t){var e=this;return Ye(t)||(t=en),new Lr(function(n){return t.scheduleWithState(e,function(t,e){e._acceptObservable(n),"N"===e.kind&&n.onCompleted()})})},t}(),fn=cn.createOnNext=function(){function t(t){return t(this.value)}function e(t){return t.onNext(this.value)}function n(){return"OnNext("+this.value+")"}return function(r){return new cn("N",r,null,t,e,n)}}(),hn=cn.createOnError=function(){function t(t,e){return e(this.exception)}function e(t){return t.onError(this.exception)}function n(){return"OnError("+this.exception+")"}return function(r){return new cn("E",null,r,t,e,n)}}(),ln=cn.createOnCompleted=function(){function t(t,e,n){return n()}function e(t){return t.onCompleted()}function n(){return"OnCompleted()"}return function(){return new cn("C",null,null,t,e,n)}}(),pn=$t.Observer=function(){};pn.prototype.toNotifier=function(){var t=this;return function(e){return e.accept(t)}},pn.prototype.asObserver=function(){return new mn(this.onNext.bind(this),this.onError.bind(this),this.onCompleted.bind(this))},pn.prototype.checked=function(){return new yn(this)};var dn=pn.create=function(t,e,n){return t||(t=Mt),e||(e=Lt),n||(n=Mt),new mn(t,e,n)};pn.fromNotifier=function(t,e){return new mn(function(n){return t.call(e,fn(n))},function(n){return t.call(e,hn(n))},function(){return t.call(e,ln())})},pn.prototype.notifyOn=function(t){return new wn(t,this)},pn.prototype.makeSafe=function(t){return new AnonymousSafeObserver(this._onNext,this._onError,this._onCompleted,t)};var vn,bn=$t.internals.AbstractObserver=function(t){function e(){this.isStopped=!1,t.call(this)}return $e(e,t),e.prototype.next=Qt,e.prototype.error=Qt,e.prototype.completed=Qt,e.prototype.onNext=function(t){this.isStopped||this.next(t)},e.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.error(t))},e.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.completed())},e.prototype.dispose=function(){this.isStopped=!0},e.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.error(t),!0)},e}(pn),mn=$t.AnonymousObserver=function(t){function e(e,n,r){t.call(this),this._onNext=e,this._onError=n,this._onCompleted=r}return $e(e,t),e.prototype.next=function(t){this._onNext(t)},e.prototype.error=function(t){this._onError(t)},e.prototype.completed=function(){this._onCompleted()},e}(bn),yn=function(t){function e(e){t.call(this),this._observer=e,this._state=0}$e(e,t);var n=e.prototype;return n.onNext=function(t){this.checkAccess();var e=w(this._observer.onNext).call(this._observer,t);this._state=0,e===ze&&_(e.e)},n.onError=function(t){this.checkAccess();var e=w(this._observer.onError).call(this._observer,t);this._state=2,e===ze&&_(e.e)},n.onCompleted=function(){this.checkAccess();var t=w(this._observer.onCompleted).call(this._observer);this._state=2,t===ze&&_(t.e)},n.checkAccess=function(){if(1===this._state)throw new Error("Re-entrancy detected");if(2===this._state)throw new Error("Observer completed");0===this._state&&(this._state=1)},e}(pn),gn=$t.internals.ScheduledObserver=function(t){function e(e,n){t.call(this),this.scheduler=e,this.observer=n,this.isAcquired=!1,this.hasFaulted=!1,this.queue=[],this.disposable=new Ke}return $e(e,t),e.prototype.next=function(t){var e=this;this.queue.push(function(){e.observer.onNext(t)})},e.prototype.error=function(t){var e=this;this.queue.push(function(){e.observer.onError(t)})},e.prototype.completed=function(){var t=this;this.queue.push(function(){t.observer.onCompleted()})},e.prototype.ensureActive=function(){var t=!1,e=this;!this.hasFaulted&&this.queue.length>0&&(t=!this.isAcquired,this.isAcquired=!0),t&&this.disposable.setDisposable(this.scheduler.scheduleRecursive(function(t){var n;if(!(e.queue.length>0))return void(e.isAcquired=!1);n=e.queue.shift();try{n()}catch(r){throw e.queue=[],e.hasFaulted=!0,r}t()}))},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.disposable.dispose()},e}(bn),wn=function(t){function e(e,n,r){t.call(this,e,n),this._cancel=r}return $e(e,t),e.prototype.next=function(e){t.prototype.next.call(this,e),this.ensureActive()},e.prototype.error=function(e){t.prototype.error.call(this,e),this.ensureActive()},e.prototype.completed=function(){t.prototype.completed.call(this),this.ensureActive()},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._cancel&&this._cancel.dispose(),this._cancel=null},e}(gn),_n=$t.Observable=function(){function t(t){if($t.config.longStackSupport&&Ft){try{throw new Error}catch(e){this.stack=e.stack.substring(e.stack.indexOf("\n")+1)}var n=this;this._subscribe=function(e){var r=e.onError.bind(e);return e.onError=function(t){u(t,n),r(t)},t.call(n,e)}}else this._subscribe=t}return vn=t.prototype,vn.subscribe=vn.forEach=function(t,e,n){return this._subscribe("object"==typeof t?t:dn(t,e,n))},vn.subscribeOnNext=function(t,e){return this._subscribe(dn("undefined"!=typeof e?function(n){t.call(e,n)}:t))},vn.subscribeOnError=function(t,e){return this._subscribe(dn(null,"undefined"!=typeof e?function(n){t.call(e,n)}:t))},vn.subscribeOnCompleted=function(t,e){return this._subscribe(dn(null,null,"undefined"!=typeof e?function(){t.call(e)}:t))},t}(),En=$t.ObservableBase=function(t){function e(t){return t&&Pt(t.dispose)?t:Pt(t)?Pe(t):Fe}function n(t,n){var r=n[0],i=n[1],o=w(i.subscribeCore).call(i,r);return o!==ze||r.fail(ze.e)?void r.setDisposable(e(o)):_(ze.e)}function r(t){var e=new Wr(t),r=[e,this];return nn.scheduleRequired()?nn.scheduleWithState(r,n):n(null,r),e}function i(){t.call(this,r)}return $e(i,t),i.prototype.subscribeCore=Qt,i}(_n),Sn=$t.internals.Enumerable=function(){},xn=function(t){function e(e){this.sources=e,t.call(this)}function n(t,e,n){this.o=t,this.s=e,this.e=n,this.isStopped=!1}return $e(e,t),e.prototype.subscribeCore=function(t){var e,r=new Ke,i=en.scheduleRecursiveWithState(this.sources[te](),function(i,o){if(!e){var s=w(i.next).call(i);if(s===ze)return t.onError(s.e);if(s.done)return t.onCompleted();var u=s.value;Wt(u)&&(u=jn(u));var a=new Ve;r.setDisposable(a),a.setDisposable(u.subscribe(new n(t,o,i)))}});return new Le(r,i,Pe(function(){e=!0}))},n.prototype.onNext=function(t){this.isStopped||this.o.onNext(t)},n.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.s(this.e))},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(t),!0)},e}(En);Sn.prototype.concat=function(){return new xn(this)};var Cn=function(t){function e(e){this.sources=e,t.call(this)}return $e(e,t),e.prototype.subscribeCore=function(t){var e,n=this.sources[te](),r=new Ke,i=en.scheduleRecursiveWithState(null,function(i,o){if(!e){var s=w(n.next).call(n);if(s===ze)return t.onError(s.e);if(s.done)return null!==i?t.onError(i):t.onCompleted();var u=s.value;Wt(u)&&(u=jn(u));var a=new Ve;r.setDisposable(a),a.setDisposable(u.subscribe(function(e){t.onNext(e)},o,function(){t.onCompleted()}))}});return new Le(r,i,Pe(function(){e=!0}))},e}(En);Sn.prototype.catchError=function(){return new Cn(this)},Sn.prototype.catchErrorWhen=function(t){var e=this;return new Lr(function(n){var r,i,o=new Pr,s=new Pr,u=t(o),a=u.subscribe(s),c=e[te](),f=new Ke,h=en.scheduleRecursive(function(t){if(!r){var e=w(c.next).call(c);if(e===ze)return n.onError(e.e);if(e.done)return void(i?n.onError(i):n.onCompleted());var u=e.value;Wt(u)&&(u=jn(u));var a=new Ve,h=new Ve;f.setDisposable(new Le(h,a)),a.setDisposable(u.subscribe(function(t){n.onNext(t)},function(e){h.setDisposable(s.subscribe(t,function(t){n.onError(t)},function(){n.onCompleted()})),o.onNext(e)},function(){n.onCompleted()}))}});return new Le(a,f,h,Pe(function(){r=!0}))})};var kn=function(t){function e(t,e){this.v=t,this.c=null==e?-1:e}function n(t){this.v=t.v,this.l=t.c}return $e(e,t),e.prototype[te]=function(){return new n(this)},n.prototype.next=function(){return 0===this.l?ee:(this.l>0&&this.l--,{done:!1,value:this.v})},e}(Sn),Nn=Sn.repeat=function(t,e){return new kn(t,e)},Dn=function(t){function e(t,e,n){this.s=t,this.fn=e?oe(e,n,3):null}function n(t){this.i=-1,this.s=t.s,this.l=this.s.length,this.fn=t.fn}return $e(e,t),e.prototype[te]=function(){return new n(this)},n.prototype.next=function(){return++this.i<this.l?{done:!1,value:this.fn?this.fn(this.s[this.i],this.i,this.s):this.s[this.i]}:ee},e}(Sn),An=Sn.of=function(t,e,n){return new Dn(t,e,n)};vn.observeOn=function(t){var e=this;return new Lr(function(n){return e.subscribe(new wn(t,n))},e)},vn.subscribeOn=function(t){var e=this;return new Lr(function(n){var r=new Ve,i=new Ke;return i.setDisposable(r),r.setDisposable(t.schedule(function(){i.setDisposable(new S(t,e.subscribe(n)))})),i},e)};var On=function(t){function e(e){this.p=e,t.call(this)}return $e(e,t),e.prototype.subscribeCore=function(t){return this.p.then(function(e){t.onNext(e),t.onCompleted()},function(e){t.onError(e)}),Fe},e}(En),jn=_n.fromPromise=function(t){return new On(t)};vn.toPromise=function(t){if(t||(t=$t.config.Promise),!t)throw new Xt("Promise type not provided nor in Rx.config.Promise");var e=this;return new t(function(t,n){var r,i=!1;e.subscribe(function(t){r=t,i=!0},n,function(){i&&t(r)})})};var $n=function(t){function e(e){this.source=e,t.call(this)}function n(t){this.o=t,this.a=[],this.isStopped=!1}return $e(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t))},n.prototype.onNext=function(t){this.isStopped||this.a.push(t)},n.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onNext(this.a),this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(t),!0)},e}(En);vn.toArray=function(){return new $n(this)},_n.create=_n.createWithDisposable=function(t,e){return new Lr(t,e)};var Mn=_n.defer=function(t){return new Lr(function(e){var n;try{n=t()}catch(r){return Xn(r).subscribe(e)}return Wt(n)&&(n=jn(n)),n.subscribe(e)})},qn=function(t){function e(e){this.scheduler=e,t.call(this)}function n(t,e){this.observer=t,this.parent=e}function r(t,e){e.onCompleted()}return $e(e,t),e.prototype.subscribeCore=function(t){var e=new n(t,this);return e.run()},n.prototype.run=function(){return this.parent.scheduler.scheduleWithState(this.observer,r)},e}(En),zn=_n.empty=function(t){return Ye(t)||(t=en),new qn(t)},In=function(t){function e(e,n,r){this.iterable=e,this.mapper=n,this.scheduler=r,t.call(this)}return $e(e,t),e.prototype.subscribeCore=function(t){var e=new Rn(t,this);return e.run()},e}(En),Rn=function(){function t(t,e){this.observer=t,this.parent=e}return t.prototype.run=function(){function t(t,e){try{var o=n.next()}catch(s){return r.onError(s)}if(o.done)return r.onCompleted();var u=o.value;if(i)try{u=i(u,t)}catch(s){return r.onError(s)}r.onNext(u),e(t+1)}var e=Object(this.parent.iterable),n=O(e),r=this.observer,i=this.parent.mapper;return this.parent.scheduler.scheduleRecursiveWithState(0,t)},t}(),Ln=Math.pow(2,53)-1;C.prototype[te]=function(){return new k(this._s)},k.prototype[te]=function(){return this},k.prototype.next=function(){return this._i<this._l?{done:!1,value:this._s.charAt(this._i++)}:ee},N.prototype[te]=function(){return new D(this._a)},D.prototype[te]=function(){return this},D.prototype.next=function(){return this._i<this._l?{done:!1,value:this._a[this._i++]}:ee};var Wn=_n.from=function(t,e,n,r){if(null==t)throw new Error("iterable cannot be null.");if(e&&!Pt(e))throw new Error("mapFn when provided must be a function");if(e)var i=oe(e,n,2);return Ye(r)||(r=nn),new In(t,i,r)},Tn=function(t){function e(e,n){this.args=e,this.scheduler=n,t.call(this)}return $e(e,t),e.prototype.subscribeCore=function(t){var e=new M(t,this);return e.run()},e}(En);M.prototype.run=function(){function t(t,i){r>t?(e.onNext(n[t]),i(t+1)):e.onCompleted()}var e=this.observer,n=this.parent.args,r=n.length;return this.parent.scheduler.scheduleRecursiveWithState(0,t)};var Pn=_n.fromArray=function(t,e){return Ye(e)||(e=nn),new Tn(t,e)};_n.generate=function(t,e,n,r,i){return Ye(i)||(i=nn),new Lr(function(o){var s=!0;return i.scheduleRecursiveWithState(t,function(t,i){var u,a;try{s?s=!1:t=n(t),u=e(t),u&&(a=r(t))}catch(c){return o.onError(c)}u?(o.onNext(a),i(t)):o.onCompleted()})})},_n.of=function(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];return new Tn(e,nn)},_n.ofWithScheduler=function(t){for(var e=arguments.length,n=new Array(e-1),r=1;e>r;r++)n[r-1]=arguments[r];return new Tn(n,t)},_n.ofArrayChanges=function(t){if(!Array.isArray(t))throw new TypeError("Array.observe only accepts arrays.");if("function"!=typeof Array.observe&&"function"!=typeof Array.unobserve)throw new TypeError("Array.observe is not supported on your platform");return new Lr(function(e){function n(t){for(var n=0,r=t.length;r>n;n++)e.onNext(t[n])}return Array.observe(t,n),function(){Array.unobserve(t,n)}})},_n.ofObjectChanges=function(t){if(null==t)throw new TypeError("object must not be null or undefined.");if("function"!=typeof Object.observe&&"function"!=typeof Object.unobserve)throw new TypeError("Object.observe is not supported on your platform");return new Lr(function(e){function n(t){for(var n=0,r=t.length;r>n;n++)e.onNext(t[n])}return Object.observe(t,n),function(){Object.unobserve(t,n)}})};var Fn=function(t){function e(){t.call(this)}return $e(e,t),e.prototype.subscribeCore=function(t){return Fe},e}(En),Bn=_n.never=function(){return new Fn},Un=function(t){function e(e,n){this.obj=e,this.keys=Object.keys(e),this.scheduler=n,t.call(this)}return $e(e,t),e.prototype.subscribeCore=function(t){var e=new z(t,this);return e.run()},e}(En);z.prototype.run=function(){function t(t,o){if(i>t){var s=r[t];e.onNext([s,n[s]]),o(t+1)}else e.onCompleted()}var e=this.observer,n=this.parent.obj,r=this.parent.keys,i=r.length;return this.parent.scheduler.scheduleRecursiveWithState(0,t)},_n.pairs=function(t,e){return e||(e=nn),new Un(t,e)};var Vn=function(t){function e(e,n,r){this.start=e,this.rangeCount=n,this.scheduler=r,t.call(this)}return $e(e,t),e.prototype.subscribeCore=function(t){var e=new Kn(t,this);return e.run()},e}(En),Kn=function(){function t(t,e){this.observer=t,this.parent=e}return t.prototype.run=function(){function t(t,i){n>t?(r.onNext(e+t),i(t+1)):r.onCompleted()}var e=this.parent.start,n=this.parent.rangeCount,r=this.observer;return this.parent.scheduler.scheduleRecursiveWithState(0,t)},t}();_n.range=function(t,e,n){return Ye(n)||(n=nn),new Vn(t,e,n)};var Gn=function(t){function e(e,n,r){this.value=e,this.repeatCount=null==n?-1:n,this.scheduler=r,t.call(this)}return $e(e,t),e.prototype.subscribeCore=function(t){var e=new I(t,this);return e.run()},e}(En);I.prototype.run=function(){function t(t,r){return(-1===t||t>0)&&(e.onNext(n),t>0&&t--),0===t?e.onCompleted():void r(t)}var e=this.observer,n=this.parent.value;return this.parent.scheduler.scheduleRecursiveWithState(this.parent.repeatCount,t)},_n.repeat=function(t,e,n){return Ye(n)||(n=nn),new Gn(t,e,n)};var Hn=function(t){function e(e,n){this.value=e,this.scheduler=n,t.call(this)}function n(t,e){this.observer=t,this.parent=e}function r(t,e){var n=e[0],r=e[1];r.onNext(n),r.onCompleted()}return $e(e,t),e.prototype.subscribeCore=function(t){var e=new n(t,this);return e.run()},n.prototype.run=function(){return this.parent.scheduler.scheduleWithState([this.parent.value,this.observer],r)},e}(En),Jn=(_n["return"]=_n.just=_n.returnValue=function(t,e){return Ye(e)||(e=en),new Hn(t,e)},function(t){function e(e,n){this.error=e,this.scheduler=n,t.call(this)}function n(t,e){this.o=t,this.p=e}function r(t,e){var n=e[0],r=e[1];r.onError(n)}return $e(e,t),e.prototype.subscribeCore=function(t){var e=new n(t,this);return e.run()},n.prototype.run=function(){return this.p.scheduler.scheduleWithState([this.p.error,this.o],r)},e}(En)),Xn=_n["throw"]=_n.throwError=_n.throwException=function(t,e){return Ye(e)||(e=en),new Jn(t,e)};_n.using=function(t,e){return new Lr(function(n){var r,i,o=Fe;try{r=t(),r&&(o=r),i=e(r)}catch(s){return new Le(Xn(s).subscribe(n),o)}return new Le(i.subscribe(n),o)})},vn.amb=function(t){var e=this;return new Lr(function(n){function r(){o||(o=s,c.dispose())}function i(){o||(o=u,a.dispose())}var o,s="L",u="R",a=new Ve,c=new Ve;return Wt(t)&&(t=jn(t)),a.setDisposable(e.subscribe(function(t){r(),o===s&&n.onNext(t)},function(t){r(),o===s&&n.onError(t)},function(){r(),o===s&&n.onCompleted()})),c.setDisposable(t.subscribe(function(t){i(),o===u&&n.onNext(t)},function(t){i(),o===u&&n.onError(t)},function(){i(),o===u&&n.onCompleted()})),new Le(a,c)})},_n.amb=function(){function t(t,e){return t.amb(e)}var e=Bn(),n=[];if(Array.isArray(arguments[0]))n=arguments[0];else for(var r=0,i=arguments.length;i>r;r++)n.push(arguments[r]);for(var r=0,i=n.length;i>r;r++)e=t(e,n[r]);return e},vn["catch"]=vn.catchError=vn.catchException=function(t){return"function"==typeof t?R(this,t):Yn([this,t])};var Yn=_n.catchError=_n["catch"]=_n.catchException=function(){var t=[];if(Array.isArray(arguments[0]))t=arguments[0];else for(var e=0,n=arguments.length;n>e;e++)t.push(arguments[e]);return An(t).catchError()};vn.combineLatest=function(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];return Array.isArray(e[0])?e[0].unshift(this):e.unshift(this),Qn.apply(this,e)};var Qn=_n.combineLatest=function(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];var r=e.pop();return Array.isArray(e[0])&&(e=e[0]),new Lr(function(t){function n(e){if(u[e]=!0,a||(a=u.every(qt))){try{var n=r.apply(null,f)}catch(i){return t.onError(i)}t.onNext(n)}else c.filter(function(t,n){return n!==e}).every(qt)&&t.onCompleted()}function i(e){c[e]=!0,c.every(qt)&&t.onCompleted()}for(var o=e.length,s=function(){return!1},u=y(o,s),a=!1,c=y(o,s),f=new Array(o),h=new Array(o),l=0;o>l;l++)!function(r){var o=e[r],s=new Ve;Wt(o)&&(o=jn(o)),s.setDisposable(o.subscribe(function(t){f[r]=t,n(r)},function(e){t.onError(e)},function(){i(r)})),h[r]=s}(l);return new Le(h)},this)};vn.concat=function(){for(var t=[],e=0,n=arguments.length;n>e;e++)t.push(arguments[e]);return t.unshift(this),tr.apply(null,t)};var Zn=function(t){function e(e){this.sources=e,t.call(this)}function n(t,e){this.sources=t,this.o=e}return $e(e,t),e.prototype.subscribeCore=function(t){var e=new n(this.sources,t);return e.run()},n.prototype.run=function(){var t,e=new Ke,n=this.sources,r=n.length,i=this.o,o=en.scheduleRecursiveWithState(0,function(o,s){if(!t){if(o===r)return i.onCompleted();var u=n[o];Wt(u)&&(u=jn(u));var a=new Ve;e.setDisposable(a),a.setDisposable(u.subscribe(function(t){i.onNext(t)},function(t){i.onError(t)},function(){s(o+1)}))}});return new Le(e,o,Pe(function(){t=!0}))},e}(En),tr=_n.concat=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(arguments.length);for(var e=0,n=arguments.length;n>e;e++)t[e]=arguments[e]}return new Zn(t)};vn.concatAll=vn.concatObservable=function(){return this.merge(1)};var er=function(t){function e(e,n){this.source=e,this.maxConcurrent=n,t.call(this)}return $e(e,t),e.prototype.subscribeCore=function(t){var e=new Le;return e.add(this.source.subscribe(new nr(t,this.maxConcurrent,e))),e},e}(En),nr=function(){function t(t,e,n){this.o=t,this.max=e,this.g=n,this.done=!1,this.q=[],this.activeCount=0,this.isStopped=!1}function e(t,e){this.parent=t,this.sad=e,this.isStopped=!1}return t.prototype.handleSubscribe=function(t){var n=new Ve;this.g.add(n),Wt(t)&&(t=jn(t)),n.setDisposable(t.subscribe(new e(this,n)))},t.prototype.onNext=function(t){this.isStopped||(this.activeCount<this.max?(this.activeCount++,this.handleSubscribe(t)):this.q.push(t))},t.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},t.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.done=!0,0===this.activeCount&&this.o.onCompleted())},t.prototype.dispose=function(){this.isStopped=!0},t.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(t),!0)},e.prototype.onNext=function(t){this.isStopped||this.parent.o.onNext(t)},e.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.parent.o.onError(t))},e.prototype.onCompleted=function(){if(!this.isStopped){this.isStopped=!0;var t=this.parent;t.g.remove(this.sad),t.q.length>0?t.handleSubscribe(t.q.shift()):(t.activeCount--,t.done&&0===t.activeCount&&t.o.onCompleted())}},e.prototype.dispose=function(){this.isStopped=!0},e.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.parent.o.onError(t),!0)},t}();vn.merge=function(t){return"number"!=typeof t?rr(this,t):new er(this,t)};var rr=_n.merge=function(){var t,e,n=[],r=arguments.length;if(arguments[0])if(Ye(arguments[0]))for(t=arguments[0],e=1;r>e;e++)n.push(arguments[e]);else for(t=en,e=0;r>e;e++)n.push(arguments[e]);else for(t=en,e=1;r>e;e++)n.push(arguments[e]);return Array.isArray(n[0])&&(n=n[0]),q(t,n).mergeAll()},ir=function(t){function e(e){this.source=e,t.call(this)}function n(t,e){this.o=t,this.g=e,this.isStopped=!1,this.done=!1}function r(t,e,n){this.parent=t,this.g=e,this.sad=n,this.isStopped=!1}return $e(e,t),e.prototype.subscribeCore=function(t){var e=new Le,r=new Ve;return e.add(r),r.setDisposable(this.source.subscribe(new n(t,e))),e},n.prototype.onNext=function(t){if(!this.isStopped){var e=new Ve;this.g.add(e),Wt(t)&&(t=jn(t)),e.setDisposable(t.subscribe(new r(this,this.g,e)))}},n.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.done=!0,1===this.g.length&&this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(t),!0)},r.prototype.onNext=function(t){this.isStopped||this.parent.o.onNext(t)},r.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.parent.o.onError(t))},r.prototype.onCompleted=function(){if(!this.isStopped){var t=this.parent;this.isStopped=!0,t.g.remove(this.sad),t.done&&1===t.g.length&&t.o.onCompleted()}},r.prototype.dispose=function(){this.isStopped=!0},r.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.parent.o.onError(t),!0)},e}(En);vn.mergeAll=vn.mergeObservable=function(){return new ir(this)};var or=$t.CompositeError=function(t){this.name="NotImplementedError",this.innerErrors=t,this.message="This contains multiple errors. Check the innerErrors",Error.call(this)};or.prototype=Error.prototype,_n.mergeDelayError=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{var e=arguments.length;t=new Array(e);for(var n=0;e>n;n++)t[n]=arguments[n]}var r=q(null,t);return new Lr(function(t){function e(){0===s.length?t.onCompleted():t.onError(1===s.length?s[0]:new or(s))}var n=new Le,i=new Ve,o=!1,s=[];return n.add(i),i.setDisposable(r.subscribe(function(r){var i=new Ve;n.add(i),Wt(r)&&(r=jn(r)),i.setDisposable(r.subscribe(function(e){t.onNext(e)},function(t){s.push(t),n.remove(i),o&&1===n.length&&e()},function(){n.remove(i),o&&1===n.length&&e()}))},function(t){s.push(t),o=!0,1===n.length&&e()},function(){o=!0,1===n.length&&e()})),n})},vn.onErrorResumeNext=function(t){if(!t)throw new Error("Second observable is required");return sr([this,t])};var sr=_n.onErrorResumeNext=function(){var t=[];if(Array.isArray(arguments[0]))t=arguments[0];else for(var e=0,n=arguments.length;n>e;e++)t.push(arguments[e]);return new Lr(function(e){var n=0,r=new Ke,i=en.scheduleRecursive(function(i){var o,s;n<t.length?(o=t[n++],Wt(o)&&(o=jn(o)),s=new Ve,r.setDisposable(s),s.setDisposable(o.subscribe(e.onNext.bind(e),i,i))):e.onCompleted()});return new Le(r,i)})};vn.skipUntil=function(t){var e=this;return new Lr(function(n){var r=!1,i=new Le(e.subscribe(function(t){r&&n.onNext(t)},function(t){n.onError(t)},function(){r&&n.onCompleted()}));Wt(t)&&(t=jn(t));var o=new Ve;return i.add(o),o.setDisposable(t.subscribe(function(){r=!0,o.dispose()},function(t){n.onError(t)},function(){o.dispose()})),i},e)};var ur=function(t){function e(e){this.source=e,t.call(this)}function n(t,e){this.o=t,this.inner=e,this.stopped=!1,this.latest=0,this.hasLatest=!1,this.isStopped=!1}function r(t,e){this.parent=t,this.id=e,this.isStopped=!1}return $e(e,t),e.prototype.subscribeCore=function(t){var e=new Ke,r=this.source.subscribe(new n(t,e));return new Le(r,e)},n.prototype.onNext=function(t){if(!this.isStopped){var e=new Ve,n=++this.latest;this.hasLatest=!0,this.inner.setDisposable(e),Wt(t)&&(t=jn(t)),e.setDisposable(t.subscribe(new r(this,n)))}},n.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.stopped=!0,!this.hasLatest&&this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(t),!0)},r.prototype.onNext=function(t){this.isStopped||this.parent.latest===this.id&&this.parent.o.onNext(t)},r.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.parent.latest===this.id&&this.parent.o.onError(t))},r.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.parent.latest===this.id&&(this.parent.hasLatest=!1,this.parent.isStopped&&this.parent.o.onCompleted()))},r.prototype.dispose=function(){this.isStopped=!0},r.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.parent.o.onError(t),!0)},e}(En);vn["switch"]=vn.switchLatest=function(){return new ur(this)};var ar=function(t){function e(e,n){this.source=e,this.other=Wt(n)?jn(n):n,t.call(this)}function n(t){this.o=t,this.isStopped=!1}return $e(e,t),e.prototype.subscribeCore=function(t){return new Le(this.source.subscribe(t),this.other.subscribe(new n(t)))},n.prototype.onNext=function(t){this.isStopped||this.o.onCompleted()},n.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},n.prototype.onCompleted=function(){!this.isStopped&&(this.isStopped=!0)},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(t),!0)},e}(En);vn.takeUntil=function(t){return new ar(this,t)},vn.withLatestFrom=function(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];var r=e.pop(),i=this;return Array.isArray(e[0])&&(e=e[0]),new Lr(function(t){for(var n=e.length,o=y(n,L),s=!1,u=new Array(n),a=new Array(n+1),c=0;n>c;c++)!function(n){var r=e[n],i=new Ve;Wt(r)&&(r=jn(r)),i.setDisposable(r.subscribe(function(t){u[n]=t,o[n]=!0,s=o.every(qt)},function(e){t.onError(e)},Mt)),a[n]=i}(c);var f=new Ve;return f.setDisposable(i.subscribe(function(e){var n=[e].concat(u);if(s){var i=w(r).apply(null,n);return i===ze?t.onError(i.e):void t.onNext(i)}},function(e){t.onError(e)},function(){t.onCompleted()})),a[n]=f,new Le(a)},this)},vn.zip=function(){if(Array.isArray(arguments[0]))return W.apply(this,arguments);for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];var r=this,i=e.pop();return e.unshift(r),new Lr(function(t){for(var n=e.length,o=y(n,T),s=y(n,L),u=new Array(n),a=0;n>a;a++)!function(n){var a=e[n],c=new Ve;Wt(a)&&(a=jn(a)),c.setDisposable(a.subscribe(function(e){if(o[n].push(e),o.every(function(t){return t.length>0})){var u=o.map(function(t){return t.shift()}),a=w(i).apply(r,u);if(a===ze)return t.onError(a.e);t.onNext(a)}else s.filter(function(t,e){return e!==n}).every(qt)&&t.onCompleted()},function(e){t.onError(e)},function(){s[n]=!0,s.every(qt)&&t.onCompleted()})),u[n]=c}(a);return new Le(u)},r)},_n.zip=function(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];var r=e.shift();return r.zip.apply(r,e)},_n.zipArray=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{var e=arguments.length;t=new Array(e);for(var n=0;e>n;n++)t[n]=arguments[n]}return new Lr(function(e){for(var n=t.length,r=y(n,P),i=y(n,L),o=new Array(n),s=0;n>s;s++)!function(n){o[n]=new Ve,o[n].setDisposable(t[n].subscribe(function(t){if(r[n].push(t),r.every(function(t){return t.length>0})){var o=r.map(function(t){return t.shift()});e.onNext(o)}else if(i.filter(function(t,e){return e!==n}).every(qt))return e.onCompleted()},function(t){e.onError(t)},function(){i[n]=!0,i.every(qt)&&e.onCompleted()}))}(s);return new Le(o)})},vn.asObservable=function(){var t=this;return new Lr(function(e){return t.subscribe(e)},t)},vn.bufferWithCount=function(t,e){return"number"!=typeof e&&(e=t),this.windowWithCount(t,e).selectMany(function(t){return t.toArray()}).where(function(t){return t.length>0})},vn.dematerialize=function(){var t=this;return new Lr(function(e){return t.subscribe(function(t){return t.accept(e)},function(t){e.onError(t)},function(){e.onCompleted()})},this)},vn.distinctUntilChanged=function(t,e){var n=this;return e||(e=It),new Lr(function(r){var i,o=!1;return n.subscribe(function(n){var s=n;if(t&&(s=w(t)(n),s===ze))return r.onError(s.e);if(o){var u=w(e)(i,s);if(u===ze)return r.onError(u.e)}o&&u||(o=!0,i=s,r.onNext(n))},function(t){r.onError(t)},function(){r.onCompleted()})},this)};var cr=function(t){function e(e,n,r,i){this.source=e,this.t=!n||Pt(n)?dn(n||Mt,r||Mt,i||Mt):n,t.call(this)}function n(t,e){this.o=t,this.t=e,this.isStopped=!1}return $e(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this.t))},n.prototype.onNext=function(t){if(!this.isStopped){var e=w(this.t.onNext).call(this.t,t);e===ze&&this.o.onError(e.e),this.o.onNext(t)}},n.prototype.onError=function(t){if(!this.isStopped){this.isStopped=!0;var e=w(this.t.onError).call(this.t,t);if(e===ze)return this.o.onError(e.e);this.o.onError(t)}},n.prototype.onCompleted=function(){if(!this.isStopped){this.isStopped=!0;var t=w(this.t.onCompleted).call(this.t);if(t===ze)return this.o.onError(t.e);this.o.onCompleted()}},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(t),!0)},e}(En);vn["do"]=vn.tap=vn.doAction=function(t,e,n){return new cr(this,t,e,n)},vn.doOnNext=vn.tapOnNext=function(t,e){return this.tap("undefined"!=typeof e?function(n){t.call(e,n)}:t)},vn.doOnError=vn.tapOnError=function(t,e){return this.tap(Mt,"undefined"!=typeof e?function(n){t.call(e,n)}:t)},vn.doOnCompleted=vn.tapOnCompleted=function(t,e){return this.tap(Mt,null,"undefined"!=typeof e?function(){t.call(e)}:t)},vn["finally"]=vn.ensure=function(t){var e=this;return new Lr(function(n){
var r;try{r=e.subscribe(n)}catch(i){throw t(),i}return Pe(function(){try{r.dispose()}catch(e){throw e}finally{t()}})},this)},vn.finallyAction=function(t){return this.ensure(t)};var fr=function(t){function e(e){this.source=e,t.call(this)}function n(t){this.o=t,this.isStopped=!1}return $e(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t))},n.prototype.onNext=Mt,n.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.observer.onError(t),!0)},e}(En);vn.ignoreElements=function(){return new fr(this)},vn.materialize=function(){var t=this;return new Lr(function(e){return t.subscribe(function(t){e.onNext(fn(t))},function(t){e.onNext(hn(t)),e.onCompleted()},function(){e.onNext(ln()),e.onCompleted()})},t)},vn.repeat=function(t){return Nn(this,t).concat()},vn.retry=function(t){return Nn(this,t).catchError()},vn.retryWhen=function(t){return Nn(this).catchErrorWhen(t)};var hr=function(t){function e(e,n,r,i){this.source=e,this.accumulator=n,this.hasSeed=r,this.seed=i,t.call(this)}return $e(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new F(t,this))},e}(En);F.prototype.onNext=function(t){if(!this.isStopped){!this.hasValue&&(this.hasValue=!0);try{this.hasAccumulation?this.accumulation=this.accumulator(this.accumulation,t):(this.accumulation=this.hasSeed?this.accumulator(this.seed,t):t,this.hasAccumulation=!0)}catch(e){return this.observer.onError(e)}this.observer.onNext(this.accumulation)}},F.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.observer.onError(t))},F.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,!this.hasValue&&this.hasSeed&&this.observer.onNext(this.seed),this.observer.onCompleted())},F.prototype.dispose=function(){this.isStopped=!0},F.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.observer.onError(t),!0)},vn.scan=function(){var t,e,n=!1;return 2===arguments.length?(n=!0,t=arguments[0],e=arguments[1]):e=arguments[0],new hr(this,e,n,t)},vn.skipLast=function(t){if(0>t)throw new Jt;var e=this;return new Lr(function(n){var r=[];return e.subscribe(function(e){r.push(e),r.length>t&&n.onNext(r.shift())},function(t){n.onError(t)},function(){n.onCompleted()})},e)},vn.startWith=function(){var t,e=0;arguments.length&&Ye(arguments[0])?(t=arguments[0],e=1):t=en;for(var n=[],r=e,i=arguments.length;i>r;r++)n.push(arguments[r]);return An([Pn(n,t),this]).concat()},vn.takeLast=function(t){if(0>t)throw new Jt;var e=this;return new Lr(function(n){var r=[];return e.subscribe(function(e){r.push(e),r.length>t&&r.shift()},function(t){n.onError(t)},function(){for(;r.length>0;)n.onNext(r.shift());n.onCompleted()})},e)},vn.takeLastBuffer=function(t){var e=this;return new Lr(function(n){var r=[];return e.subscribe(function(e){r.push(e),r.length>t&&r.shift()},function(t){n.onError(t)},function(){n.onNext(r),n.onCompleted()})},e)},vn.windowWithCount=function(t,e){var n=this;if(+t||(t=0),Math.abs(t)===1/0&&(t=0),0>=t)throw new Jt;if(null==e&&(e=t),+e||(e=0),Math.abs(e)===1/0&&(e=0),0>=e)throw new Jt;return new Lr(function(r){function i(){var t=new Pr;a.push(t),r.onNext(qe(t,s))}var o=new Ve,s=new Ge(o),u=0,a=[];return i(),o.setDisposable(n.subscribe(function(n){for(var r=0,o=a.length;o>r;r++)a[r].onNext(n);var s=u-t+1;s>=0&&s%e===0&&a.shift().onCompleted(),++u%e===0&&i()},function(t){for(;a.length>0;)a.shift().onError(t);r.onError(t)},function(){for(;a.length>0;)a.shift().onCompleted();r.onCompleted()})),s},n)},vn.selectConcat=vn.concatMap=function(t,e,n){return Pt(t)&&Pt(e)?this.concatMap(function(n,r){var i=t(n,r);return Wt(i)&&(i=jn(i)),(re(i)||ne(i))&&(i=Wn(i)),i.map(function(t,i){return e(n,t,r,i)})}):Pt(t)?B(this,t,n):B(this,function(){return t})},vn.concatMapObserver=vn.selectConcatObserver=function(t,e,n,r){var i=this,o=oe(t,r,2),s=oe(e,r,1),u=oe(n,r,0);return new Lr(function(t){var e=0;return i.subscribe(function(n){var r;try{r=o(n,e++)}catch(i){return void t.onError(i)}Wt(r)&&(r=jn(r)),t.onNext(r)},function(e){var n;try{n=s(e)}catch(r){return void t.onError(r)}Wt(n)&&(n=jn(n)),t.onNext(n),t.onCompleted()},function(){var e;try{e=u()}catch(n){return void t.onError(n)}Wt(e)&&(e=jn(e)),t.onNext(e),t.onCompleted()})},this).concatAll()},vn.defaultIfEmpty=function(t){var e=this;return t===i&&(t=null),new Lr(function(n){var r=!1;return e.subscribe(function(t){r=!0,n.onNext(t)},function(t){n.onError(t)},function(){!r&&n.onNext(t),n.onCompleted()})},e)},V.prototype.push=function(t){var e=-1===U(this.set,t,this.comparer);return e&&this.set.push(t),e},vn.distinct=function(t,e){var n=this;return e||(e=It),new Lr(function(r){var i=new V(e);return n.subscribe(function(e){var n=e;if(t)try{n=t(e)}catch(o){return void r.onError(o)}i.push(n)&&r.onNext(e)},function(t){r.onError(t)},function(){r.onCompleted()})},this)},vn.groupBy=function(t,e,n){return this.groupByUntil(t,e,Bn,n)},vn.groupByUntil=function(t,e,n,r){var i=this;return e||(e=qt),r||(r=It),new Lr(function(o){function s(t){return function(e){e.onError(t)}}var u=new jr(0,r),a=new Le,c=new Ge(a);return a.add(i.subscribe(function(r){var i;try{i=t(r)}catch(f){return u.getValues().forEach(s(f)),void o.onError(f)}var h=!1,l=u.tryGetValue(i);if(l||(l=new Pr,u.set(i,l),h=!0),h){var p=new Tr(i,l,c),d=new Tr(i,l);try{duration=n(d)}catch(f){return u.getValues().forEach(s(f)),void o.onError(f)}o.onNext(p);var v=new Ve;a.add(v);var b=function(){u.remove(i)&&l.onCompleted(),a.remove(v)};v.setDisposable(duration.take(1).subscribe(Mt,function(t){u.getValues().forEach(s(t)),o.onError(t)},b))}var m;try{m=e(r)}catch(f){return u.getValues().forEach(s(f)),void o.onError(f)}l.onNext(m)},function(t){u.getValues().forEach(s(t)),o.onError(t)},function(){u.getValues().forEach(function(t){t.onCompleted()}),o.onCompleted()})),c},i)};var lr=function(t){function e(e,n,r){this.source=e,this.selector=oe(n,r,3),t.call(this)}function n(t,e){return function(n,r,i){return t.call(this,e.selector(n,r,i),r,i)}}function r(t,e,n){this.o=t,this.selector=e,this.source=n,this.i=0,this.isStopped=!1}return $e(e,t),e.prototype.internalMap=function(t,r){return new e(this.source,n(t,this),r)},e.prototype.subscribeCore=function(t){return this.source.subscribe(new r(t,this.selector,this))},r.prototype.onNext=function(t){if(!this.isStopped){var e=w(this.selector)(t,this.i++,this.source);return e===ze?this.o.onError(e.e):void this.o.onNext(e)}},r.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},r.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},r.prototype.dispose=function(){this.isStopped=!0},r.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(t),!0)},e}(En);vn.map=vn.select=function(t,e){var n="function"==typeof t?t:function(){return t};return this instanceof lr?this.internalMap(n,e):new lr(this,n,e)},vn.pluck=function(){var t=arguments,e=arguments.length;if(0===e)throw new Error("List of properties cannot be empty.");return this.map(function(n){for(var r=n,o=0;e>o;o++){var s=r[t[o]];if("undefined"==typeof s)return i;r=s}return r})},vn.selectMany=vn.flatMap=function(t,e,n){return Pt(t)&&Pt(e)?this.flatMap(function(n,r){var i=t(n,r);return Wt(i)&&(i=jn(i)),(re(i)||ne(i))&&(i=Wn(i)),i.map(function(t,i){return e(n,t,r,i)})},n):Pt(t)?K(this,t,n):K(this,function(){return t})},vn.flatMapObserver=vn.selectManyObserver=function(t,e,n,r){var i=this;return new Lr(function(o){var s=0;return i.subscribe(function(e){var n;try{n=t.call(r,e,s++)}catch(i){return void o.onError(i)}Wt(n)&&(n=jn(n)),o.onNext(n)},function(t){var n;try{n=e.call(r,t)}catch(i){return void o.onError(i)}Wt(n)&&(n=jn(n)),o.onNext(n),o.onCompleted()},function(){var t;try{t=n.call(r)}catch(e){return void o.onError(e)}Wt(t)&&(t=jn(t)),o.onNext(t),o.onCompleted()})},i).mergeAll()},vn.selectSwitch=vn.flatMapLatest=vn.switchMap=function(t,e){return this.select(t,e).switchLatest()};var pr=function(t){function e(e,n){this.source=e,this.skipCount=n,t.call(this)}function n(t,e){this.c=e,this.r=e,this.o=t,this.isStopped=!1}return $e(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this.skipCount))},n.prototype.onNext=function(t){this.isStopped||(this.r<=0?this.o.onNext(t):this.r--)},n.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(t),!0)},e}(En);vn.skip=function(t){if(0>t)throw new Jt;return new pr(this,t)},vn.skipWhile=function(t,e){var n=this,r=oe(t,e,3);return new Lr(function(t){var e=0,i=!1;return n.subscribe(function(o){if(!i)try{i=!r(o,e++,n)}catch(s){return void t.onError(s)}i&&t.onNext(o)},function(e){t.onError(e)},function(){t.onCompleted()})},n)},vn.take=function(t,e){if(0>t)throw new Jt;if(0===t)return zn(e);var n=this;return new Lr(function(e){var r=t;return n.subscribe(function(t){r-->0&&(e.onNext(t),0>=r&&e.onCompleted())},function(t){e.onError(t)},function(){e.onCompleted()})},n)},vn.takeWhile=function(t,e){var n=this,r=oe(t,e,3);return new Lr(function(t){var e=0,i=!0;return n.subscribe(function(o){if(i){try{i=r(o,e++,n)}catch(s){return void t.onError(s)}i?t.onNext(o):t.onCompleted()}},function(e){t.onError(e)},function(){t.onCompleted()})},n)};var dr=function(t){function e(e,n,r){this.source=e,this.predicate=oe(n,r,3),t.call(this)}function n(t,e){return function(n,r,i){return e.predicate(n,r,i)&&t.call(this,n,r,i)}}function r(t,e,n){this.o=t,this.predicate=e,this.source=n,this.i=0,this.isStopped=!1}return $e(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new r(t,this.predicate,this))},e.prototype.internalFilter=function(t,r){return new e(this.source,n(t,this),r)},r.prototype.onNext=function(t){if(!this.isStopped){var e=w(this.predicate)(t,this.i++,this.source);return e===ze?this.o.onError(e.e):void(e&&this.o.onNext(t))}},r.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},r.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},r.prototype.dispose=function(){this.isStopped=!0},r.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(t),!0)},e}(En);vn.filter=vn.where=function(t,e){return this instanceof dr?this.internalFilter(t,e):new dr(this,t,e)},vn.aggregate=function(){var t,e,n=!1,r=this;return 2===arguments.length?(n=!0,e=arguments[0],t=arguments[1]):t=arguments[0],new Lr(function(i){var o,s,u;return r.subscribe(function(r){!u&&(u=!0);try{o?s=t(s,r):(s=n?t(e,r):r,o=!0)}catch(a){return i.onError(a)}},function(t){i.onError(t)},function(){u&&i.onNext(s),!u&&n&&i.onNext(e),!u&&!n&&i.onError(new Gt),i.onCompleted()})},r)};var vr=function(t){function e(e,n,r,i){this.source=e,this.acc=n,this.hasSeed=r,this.seed=i,t.call(this)}function n(t,e){this.o=t,this.acc=e.acc,this.hasSeed=e.hasSeed,this.seed=e.seed,this.hasAccumulation=!1,this.result=null,this.hasValue=!1,this.isStopped=!1}return $e(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this))},n.prototype.onNext=function(t){this.isStopped||(!this.hasValue&&(this.hasValue=!0),this.hasAccumulation?this.result=w(this.acc)(this.result,t):(this.result=this.hasSeed?w(this.acc)(this.seed,t):t,this.hasAccumulation=!0),this.result===ze&&this.o.onError(this.result.e))},n.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.hasValue&&this.o.onNext(this.result),!this.hasValue&&this.hasSeed&&this.o.onNext(this.seed),!this.hasValue&&!this.hasSeed&&this.o.onError(new Gt),this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(t),!0)},e}(En);vn.reduce=function(t){var e=!1;if(2===arguments.length){e=!0;var n=arguments[1]}return new vr(this,t,e,n)},vn.some=function(t,e){var n=this;return t?n.filter(t,e).some():new Lr(function(t){return n.subscribe(function(){t.onNext(!0),t.onCompleted()},function(e){t.onError(e)},function(){t.onNext(!1),t.onCompleted()})},n)},vn.any=function(){return this.some.apply(this,arguments)},vn.isEmpty=function(){return this.any().map(Tt)},vn.every=function(t,e){return this.filter(function(e){return!t(e)},e).some().map(Tt)},vn.all=function(){return this.every.apply(this,arguments)},vn.includes=function(t,e){function n(t,e){return 0===t&&0===e||t===e||isNaN(t)&&isNaN(e)}var r=this;return new Lr(function(i){var o=0,s=+e||0;return Math.abs(s)===1/0&&(s=0),0>s?(i.onNext(!1),i.onCompleted(),Fe):r.subscribe(function(e){o++>=s&&n(e,t)&&(i.onNext(!0),i.onCompleted())},function(t){i.onError(t)},function(){i.onNext(!1),i.onCompleted()})},this)},vn.contains=function(t,e){vn.includes(t,e)},vn.count=function(t,e){return t?this.filter(t,e).count():this.reduce(function(t){return t+1},0)},vn.indexOf=function(t,e){var n=this;return new Lr(function(r){var i=0,o=+e||0;return Math.abs(o)===1/0&&(o=0),0>o?(r.onNext(-1),r.onCompleted(),Fe):n.subscribe(function(e){i>=o&&e===t&&(r.onNext(i),r.onCompleted()),i++},function(t){r.onError(t)},function(){r.onNext(-1),r.onCompleted()})},n)},vn.sum=function(t,e){return t&&Pt(t)?this.map(t,e).sum():this.reduce(function(t,e){return t+e},0)},vn.minBy=function(t,e){return e||(e=Rt),G(this,t,function(t,n){return-1*e(t,n)})},vn.min=function(t){return this.minBy(qt,t).map(function(t){return H(t)})},vn.maxBy=function(t,e){return e||(e=Rt),G(this,t,e)},vn.max=function(t){return this.maxBy(qt,t).map(function(t){return H(t)})},vn.average=function(t,e){return t&&Pt(t)?this.map(t,e).average():this.reduce(function(t,e){return{sum:t.sum+e,count:t.count+1}},{sum:0,count:0}).map(function(t){if(0===t.count)throw new Gt;return t.sum/t.count})},vn.sequenceEqual=function(t,e){var n=this;return e||(e=It),new Lr(function(r){var i=!1,o=!1,s=[],u=[],a=n.subscribe(function(t){var n,i;if(u.length>0){i=u.shift();try{n=e(i,t)}catch(a){return void r.onError(a)}n||(r.onNext(!1),r.onCompleted())}else o?(r.onNext(!1),r.onCompleted()):s.push(t)},function(t){r.onError(t)},function(){i=!0,0===s.length&&(u.length>0?(r.onNext(!1),r.onCompleted()):o&&(r.onNext(!0),r.onCompleted()))});(re(t)||ne(t))&&(t=Wn(t)),Wt(t)&&(t=jn(t));var c=t.subscribe(function(t){var n;if(s.length>0){var o=s.shift();try{n=e(o,t)}catch(a){return void r.onError(a)}n||(r.onNext(!1),r.onCompleted())}else i?(r.onNext(!1),r.onCompleted()):u.push(t)},function(t){r.onError(t)},function(){o=!0,0===u.length&&(s.length>0?(r.onNext(!1),r.onCompleted()):i&&(r.onNext(!0),r.onCompleted()))});return new Le(a,c)},n)},vn.elementAt=function(t){return J(this,t,!1)},vn.elementAtOrDefault=function(t,e){return J(this,t,!0,e)},vn.single=function(t,e){return t&&Pt(t)?this.where(t,e).single():X(this,!1)},vn.singleOrDefault=function(t,e,n){return t&&Pt(t)?this.filter(t,n).singleOrDefault(null,e):X(this,!0,e)},vn.first=function(t,e){return t?this.where(t,e).first():Y(this,!1)},vn.firstOrDefault=function(t,e,n){return t?this.where(t).firstOrDefault(null,e):Y(this,!0,e)},vn.last=function(t,e){return t?this.where(t,e).last():Q(this,!1)},vn.lastOrDefault=function(t,e,n){return t?this.where(t,n).lastOrDefault(null,e):Q(this,!0,e)},vn.find=function(t,e){return Z(this,t,e,!1)},vn.findIndex=function(t,e){return Z(this,t,e,!0)},vn.toSet=function(){if("undefined"==typeof Nt.Set)throw new TypeError;var t=this;return new Lr(function(e){var n=new Nt.Set;return t.subscribe(function(t){n.add(t)},function(t){e.onError(t)},function(){e.onNext(n),e.onCompleted()})},t)},vn.toMap=function(t,e){if("undefined"==typeof Nt.Map)throw new TypeError;var n=this;return new Lr(function(r){var i=new Nt.Map;return n.subscribe(function(n){var o;try{o=t(n)}catch(s){return void r.onError(s)}var u=n;if(e)try{u=e(n)}catch(s){return void r.onError(s)}i.set(o,u)},function(t){r.onError(t)},function(){r.onNext(i),r.onCompleted()})},n)};var br="function",mr="throw",Ne=$t.internals.isObject,yr=$t.spawn=function(t){var e=ot(t);return function(n){function r(t,e){un.schedule(n.bind(o,t,e))}function i(t,e){var n;if(arguments.length>2)for(var e=[],u=1,a=arguments.length;a>u;u++)e.push(arguments[u]);if(t)try{n=s[mr](t)}catch(c){return r(c)}if(!t)try{n=s.next(e)}catch(c){return r(c)}if(n.done)return r(null,n.value);if(n.value=tt(n.value,o),typeof n.value!==br)i(new TypeError("Rx.spawn only supports a function, Promise, Observable, Object or Array."));else{var f=!1;try{n.value.call(o,function(){f||(f=!0,i.apply(o,arguments))})}catch(c){un.schedule(function(){f||(f=!0,i.call(o,c))})}}}var o=this,s=t;if(e){for(var u=[],a=0,c=arguments.length;c>a;a++)u.push(arguments[a]);var c=u.length,f=c&&typeof u[c-1]===br;n=f?u.pop():ut,s=t.apply(this,u)}else n=n||ut;i()}};_n.start=function(t,e,n){return gr(t,e,n)()};var gr=_n.toAsync=function(t,e,n){return Ye(n)||(n=un),function(){var r=arguments,i=new Fr;return n.schedule(function(){var n;try{n=t.apply(e,r)}catch(o){return void i.onError(o)}i.onNext(n),i.onCompleted()}),i.asObservable()}};_n.fromCallback=function(t,e,n){return function(){for(var r=arguments.length,i=new Array(r),o=0;r>o;o++)i[o]=arguments[o];return new Lr(function(r){function o(){for(var t=arguments.length,i=new Array(t),o=0;t>o;o++)i[o]=arguments[o];if(n){try{i=n.apply(e,i)}catch(s){return r.onError(s)}r.onNext(i)}else i.length<=1?r.onNext.apply(r,i):r.onNext(i);r.onCompleted()}i.push(o),t.apply(e,i)}).publishLast().refCount()}},_n.fromNodeCallback=function(t,e,n){return function(){for(var r=arguments.length,i=new Array(r),o=0;r>o;o++)i[o]=arguments[o];return new Lr(function(r){function o(t){if(t)return void r.onError(t);for(var i=arguments.length,o=[],s=1;i>s;s++)o[s-1]=arguments[s];if(n){try{o=n.apply(e,o)}catch(u){return r.onError(u)}r.onNext(o)}else o.length<=1?r.onNext.apply(r,o):r.onNext(o);r.onCompleted()}i.push(o),t.apply(e,i)}).publishLast().refCount()}},$t.config.useNativeEvents=!1,_n.fromEvent=function(t,e,n){return t.addListener?wr(function(n){t.addListener(e,n)},function(n){t.removeListener(e,n)},n):$t.config.useNativeEvents||"function"!=typeof t.on||"function"!=typeof t.off?new Lr(function(r){return ct(t,e,function(t){var e=t;if(n)try{e=n(arguments)}catch(i){return r.onError(i)}r.onNext(e)})}).publish().refCount():wr(function(n){t.on(e,n)},function(n){t.off(e,n)},n)};var wr=_n.fromEventPattern=function(t,e,n){return new Lr(function(r){function i(t){var e=t;if(n)try{e=n(arguments)}catch(i){return r.onError(i)}r.onNext(e)}var o=t(i);return Pe(function(){e&&e(i,o)})}).publish().refCount()};_n.startAsync=function(t){var e;try{e=t()}catch(n){return Xn(n)}return jn(e)};var _r=function(t){function e(t){var e=this.source.publish(),n=e.subscribe(t),r=Fe,i=this.pauser.distinctUntilChanged().subscribe(function(t){t?r=e.connect():(r.dispose(),r=Fe)});return new Le(n,r,i)}function n(n,r){this.source=n,this.controller=new Pr,this.pauser=r&&r.subscribe?this.controller.merge(r):this.controller,t.call(this,e,n)}return $e(n,t),n.prototype.pause=function(){this.controller.onNext(!1)},n.prototype.resume=function(){this.controller.onNext(!0)},n}(_n);vn.pausable=function(t){return new _r(this,t)};var Er=function(t){function e(t){function e(){for(;r.length>0;)t.onNext(r.shift())}var n,r=[],o=ft(this.source,this.pauser.distinctUntilChanged().startWith(!1),function(t,e){return{data:t,shouldFire:e}}).subscribe(function(o){n!==i&&o.shouldFire!=n?(n=o.shouldFire,o.shouldFire&&e()):(n=o.shouldFire,o.shouldFire?t.onNext(o.data):r.push(o.data))},function(n){e(),t.onError(n)},function(){e(),t.onCompleted()});return o}function n(n,r){this.source=n,this.controller=new Pr,this.pauser=r&&r.subscribe?this.controller.merge(r):this.controller,t.call(this,e,n)}return $e(n,t),n.prototype.pause=function(){this.controller.onNext(!1)},n.prototype.resume=function(){this.controller.onNext(!0)},n}(_n);vn.pausableBuffered=function(t){return new Er(this,t)};var Sr=function(t){function e(t){return this.source.subscribe(t)}function n(n,r,i){t.call(this,e,n),this.subject=new xr(r,i),this.source=n.multicast(this.subject).refCount()}return $e(n,t),n.prototype.request=function(t){return this.subject.request(null==t?-1:t)},n}(_n),xr=function(t){function e(t){return this.subject.subscribe(t)}function n(n,r){null==n&&(n=!0),t.call(this,e),this.subject=new Pr,this.enableQueue=n,this.queue=n?[]:null,this.requestedCount=0,this.requestedDisposable=Fe,this.error=null,this.hasFailed=!1,this.hasCompleted=!1,this.scheduler=r||nn}return $e(n,t),Me(n.prototype,pn,{onCompleted:function(){this.hasCompleted=!0,this.enableQueue&&0!==this.queue.length?this.queue.push(cn.createOnCompleted()):this.subject.onCompleted()},onError:function(t){this.hasFailed=!0,this.error=t,this.enableQueue&&0!==this.queue.length?this.queue.push(cn.createOnError(t)):this.subject.onError(t)},onNext:function(t){var e=!1;0===this.requestedCount?this.enableQueue&&this.queue.push(cn.createOnNext(t)):(-1!==this.requestedCount&&0===this.requestedCount--&&this.disposeCurrentRequest(),e=!0),e&&this.subject.onNext(t)},_processRequest:function(t){if(this.enableQueue){for(;this.queue.length>=t&&t>0||this.queue.length>0&&"N"!==this.queue[0].kind;){var e=this.queue.shift();e.accept(this.subject),"N"===e.kind?t--:(this.disposeCurrentRequest(),this.queue=[])}return{numberOfItems:t,returnValue:0!==this.queue.length}}return{numberOfItems:t,returnValue:!1}},request:function(t){this.disposeCurrentRequest();var e=this;return this.requestedDisposable=this.scheduler.scheduleWithState(t,function(t,n){var r=e._processRequest(n),i=r.numberOfItems;r.returnValue||(e.requestedCount=i,e.requestedDisposable=Pe(function(){e.requestedCount=0}))}),this.requestedDisposable},disposeCurrentRequest:function(){this.requestedDisposable.dispose(),this.requestedDisposable=Fe}}),n}(_n);vn.controlled=function(t,e){return t&&Ye(t)&&(e=t,t=!0),null==t&&(t=!0),new Sr(this,t,e)};var Cr=function(t){function e(t){this.subscription=this.source.subscribe(new r(t,this,this.subscription));var e=this;return un.schedule(function(){e.source.request(1)}),this.subscription}function n(n){t.call(this,e,n),this.source=n}$e(n,t);var r=function(t){function e(e,n,r){t.call(this),this.observer=e,this.observable=n,this.cancel=r}$e(e,t);var n=e.prototype;return n.completed=function(){this.observer.onCompleted(),this.dispose()},n.error=function(t){this.observer.onError(t),this.dispose()},n.next=function(t){this.observer.onNext(t);var e=this;un.schedule(function(){e.observable.source.request(1)})},n.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),t.prototype.dispose.call(this)},e}(bn);return n}(_n);Sr.prototype.stopAndWait=function(){return new Cr(this)};var kr=function(t){function e(t){this.subscription=this.source.subscribe(new r(t,this,this.subscription));var e=this;return un.schedule(function(){e.source.request(e.windowSize)}),this.subscription}function n(n,r){t.call(this,e,n),this.source=n,this.windowSize=r}$e(n,t);var r=function(t){function e(t,e,n){this.observer=t,this.observable=e,this.cancel=n,this.received=0}$e(e,t);var n=e.prototype;return n.completed=function(){this.observer.onCompleted(),this.dispose()},n.error=function(t){this.observer.onError(t),this.dispose()},n.next=function(t){if(this.observer.onNext(t),this.received=++this.received%this.observable.windowSize,0===this.received){var e=this;un.schedule(function(){e.observable.source.request(e.observable.windowSize)})}},n.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),t.prototype.dispose.call(this)},e}(bn);return n}(_n);Sr.prototype.windowed=function(t){return new kr(this,t)},vn.pipe=function(t){function e(){n.resume()}var n=this.pausableBuffered();return t.addListener("drain",e),n.subscribe(function(e){!t.write(String(e))&&n.pause()},function(e){t.emit("error",e)},function(){!t._isStdio&&t.end(),t.removeListener("drain",e)}),n.resume(),t},vn.multicast=function(t,e){var n=this;return"function"==typeof t?new Lr(function(r){var i=n.multicast(t());return new Le(e(i).subscribe(r),i.connect())},n):new Or(n,t)},vn.publish=function(t){return t&&Pt(t)?this.multicast(function(){return new Pr},t):this.multicast(new Pr)},vn.share=function(){return this.publish().refCount()},vn.publishLast=function(t){return t&&Pt(t)?this.multicast(function(){return new Fr},t):this.multicast(new Fr)},vn.publishValue=function(t,e){return 2===arguments.length?this.multicast(function(){return new Dr(e)},t):this.multicast(new Dr(t))},vn.shareValue=function(t){return this.publishValue(t).refCount()},vn.replay=function(t,e,n,r){return t&&Pt(t)?this.multicast(function(){return new Ar(e,n,r)},t):this.multicast(new Ar(e,n,r))},vn.shareReplay=function(t,e,n){return this.replay(null,t,e,n).refCount()};var Nr=function(t,e){this.subject=t,this.observer=e};Nr.prototype.dispose=function(){if(!this.subject.isDisposed&&null!==this.observer){var t=this.subject.observers.indexOf(this.observer);this.subject.observers.splice(t,1),this.observer=null}};var Dr=$t.BehaviorSubject=function(t){function e(t){return Ue(this),this.isStopped?(this.hasError?t.onError(this.error):t.onCompleted(),Fe):(this.observers.push(t),t.onNext(this.value),new Nr(this,t))}function n(n){t.call(this,e),this.value=n,this.observers=[],this.isDisposed=!1,this.isStopped=!1,this.hasError=!1}return $e(n,t),Me(n.prototype,pn,{getValue:function(){if(Ue(this),this.hasError)throw this.error;return this.value},hasObservers:function(){return this.observers.length>0},onCompleted:function(){if(Ue(this),!this.isStopped){this.isStopped=!0;for(var t=0,e=o(this.observers),n=e.length;n>t;t++)e[t].onCompleted();this.observers.length=0}},onError:function(t){if(Ue(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=t;for(var e=0,n=o(this.observers),r=n.length;r>e;e++)n[e].onError(t);this.observers.length=0}},onNext:function(t){if(Ue(this),!this.isStopped){this.value=t;for(var e=0,n=o(this.observers),r=n.length;r>e;e++)n[e].onNext(t)}},dispose:function(){this.isDisposed=!0,this.observers=null,this.value=null,this.exception=null}}),n}(_n),Ar=$t.ReplaySubject=function(t){function e(t,e){return Pe(function(){e.dispose(),!t.isDisposed&&t.observers.splice(t.observers.indexOf(e),1)})}function n(t){var n=new gn(this.scheduler,t),r=e(this,n);Ue(this),this._trim(this.scheduler.now()),this.observers.push(n);for(var i=0,o=this.q.length;o>i;i++)n.onNext(this.q[i].value);return this.hasError?n.onError(this.error):this.isStopped&&n.onCompleted(),n.ensureActive(),r}function r(e,r,o){this.bufferSize=null==e?i:e,this.windowSize=null==r?i:r,this.scheduler=o||nn,this.q=[],this.observers=[],this.isStopped=!1,this.isDisposed=!1,this.hasError=!1,this.error=null,t.call(this,n)}var i=Math.pow(2,53)-1;return $e(r,t),Me(r.prototype,pn.prototype,{hasObservers:function(){return this.observers.length>0},_trim:function(t){for(;this.q.length>this.bufferSize;)this.q.shift();for(;this.q.length>0&&t-this.q[0].interval>this.windowSize;)this.q.shift()},onNext:function(t){if(Ue(this),!this.isStopped){var e=this.scheduler.now();this.q.push({interval:e,value:t}),this._trim(e);for(var n=0,r=o(this.observers),i=r.length;i>n;n++){var s=r[n];s.onNext(t),s.ensureActive()}}},onError:function(t){if(Ue(this),!this.isStopped){this.isStopped=!0,this.error=t,this.hasError=!0;var e=this.scheduler.now();this._trim(e);for(var n=0,r=o(this.observers),i=r.length;i>n;n++){var s=r[n];s.onError(t),s.ensureActive()}this.observers.length=0}},onCompleted:function(){if(Ue(this),!this.isStopped){this.isStopped=!0;var t=this.scheduler.now();this._trim(t);for(var e=0,n=o(this.observers),r=n.length;r>e;e++){var i=n[e];i.onCompleted(),i.ensureActive()}this.observers.length=0}},dispose:function(){this.isDisposed=!0,this.observers=null}}),r}(_n),Or=$t.ConnectableObservable=function(t){function e(e,n){var r,i=!1,o=e.asObservable();this.connect=function(){return i||(i=!0,r=new Le(o.subscribe(n),Pe(function(){i=!1}))),r},t.call(this,function(t){return n.subscribe(t)})}return $e(e,t),e.prototype.refCount=function(){var t,e=0,n=this;return new Lr(function(r){var i=1===++e,o=n.subscribe(r);return i&&(t=n.connect()),function(){o.dispose(),0===--e&&t.dispose()}})},e}(_n);vn.singleInstance=function(){function t(){return r||(r=!0,e=n["finally"](function(){r=!1}).publish().refCount()),e}var e,n=this,r=!1;return new Lr(function(e){return t().subscribe(e)})};var jr=function(){function t(t){if(0===(1&t))return 2===t;for(var e=Math.sqrt(t),n=3;e>=n;){if(t%n===0)return!1;n+=2}return!0}function e(e){var n,r,i;for(n=0;n<u.length;++n)if(r=u[n],r>=e)return r;for(i=1|e;i<u[u.length-1];){if(t(i))return i;i+=2}return e}function n(t){var e=757602046;if(!t.length)return e;for(var n=0,r=t.length;r>n;n++){var i=t.charCodeAt(n);e=(e<<5)-e+i,e&=e}return e}function r(t){var e=668265261;return t=61^t^t>>>16,t+=t<<3,t^=t>>>4,t*=e,t^=t>>>15}function o(){return{key:null,value:null,next:0,hashCode:0}}function s(t,e){if(0>t)throw new Jt;t>0&&this._initialize(t),this.comparer=e||It,this.freeCount=0,this.size=0,this.freeList=-1}var u=[1,3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143,4194301,8388593,16777213,33554393,67108859,134217689,268435399,536870909,1073741789,2147483647],a="no such key",c="duplicate key",f=function(){var t=0;return function(e){if(null==e)throw new Error(a);if("string"==typeof e)return n(e);if("number"==typeof e)return r(e);if("boolean"==typeof e)return e===!0?1:0;if(e instanceof Date)return r(e.valueOf());if(e instanceof RegExp)return n(e.toString());if("function"==typeof e.valueOf){var i=e.valueOf();if("number"==typeof i)return r(i);if("string"==typeof i)return n(i)}if(e.hashCode)return e.hashCode();var o=17*t++;return e.hashCode=function(){return o},o}}(),h=s.prototype;return h._initialize=function(t){var n,r=e(t);for(this.buckets=new Array(r),this.entries=new Array(r),n=0;r>n;n++)this.buckets[n]=-1,this.entries[n]=o();this.freeList=-1},h.add=function(t,e){this._insert(t,e,!0)},h._insert=function(t,e,n){this.buckets||this._initialize(0);for(var r,i=2147483647&f(t),o=i%this.buckets.length,s=this.buckets[o];s>=0;s=this.entries[s].next)if(this.entries[s].hashCode===i&&this.comparer(this.entries[s].key,t)){if(n)throw new Error(c);return void(this.entries[s].value=e)}this.freeCount>0?(r=this.freeList,this.freeList=this.entries[r].next,--this.freeCount):(this.size===this.entries.length&&(this._resize(),o=i%this.buckets.length),r=this.size,++this.size),this.entries[r].hashCode=i,this.entries[r].next=this.buckets[o],this.entries[r].key=t,this.entries[r].value=e,this.buckets[o]=r},h._resize=function(){var t=e(2*this.size),n=new Array(t);for(i=0;i<n.length;++i)n[i]=-1;var r=new Array(t);for(i=0;i<this.size;++i)r[i]=this.entries[i];for(var i=this.size;t>i;++i)r[i]=o();for(var s=0;s<this.size;++s){var u=r[s].hashCode%t;r[s].next=n[u],n[u]=s}this.buckets=n,this.entries=r},h.remove=function(t){if(this.buckets)for(var e=2147483647&f(t),n=e%this.buckets.length,r=-1,i=this.buckets[n];i>=0;i=this.entries[i].next){if(this.entries[i].hashCode===e&&this.comparer(this.entries[i].key,t))return 0>r?this.buckets[n]=this.entries[i].next:this.entries[r].next=this.entries[i].next,this.entries[i].hashCode=-1,this.entries[i].next=this.freeList,this.entries[i].key=null,this.entries[i].value=null,this.freeList=i,++this.freeCount,!0;r=i}return!1},h.clear=function(){var t,e;if(!(this.size<=0)){for(t=0,e=this.buckets.length;e>t;++t)this.buckets[t]=-1;for(t=0;t<this.size;++t)this.entries[t]=o();this.freeList=-1,this.size=0}},h._findEntry=function(t){if(this.buckets)for(var e=2147483647&f(t),n=this.buckets[e%this.buckets.length];n>=0;n=this.entries[n].next)if(this.entries[n].hashCode===e&&this.comparer(this.entries[n].key,t))return n;

return-1},h.count=function(){return this.size-this.freeCount},h.tryGetValue=function(t){var e=this._findEntry(t);return e>=0?this.entries[e].value:i},h.getValues=function(){var t=0,e=[];if(this.entries)for(var n=0;n<this.size;n++)this.entries[n].hashCode>=0&&(e[t++]=this.entries[n].value);return e},h.get=function(t){var e=this._findEntry(t);if(e>=0)return this.entries[e].value;throw new Error(a)},h.set=function(t,e){this._insert(t,e,!1)},h.containskey=function(t){return this._findEntry(t)>=0},s}();vn.join=function(t,e,n,r){var i=this;return new Lr(function(o){var s=new Le,u=!1,a=!1,c=0,f=0,h=new jr,l=new jr;return s.add(i.subscribe(function(t){var n=c++,i=new Ve;h.add(n,t),s.add(i);var a,f=function(){h.remove(n)&&0===h.count()&&u&&o.onCompleted(),s.remove(i)};try{a=e(t)}catch(p){return void o.onError(p)}i.setDisposable(a.take(1).subscribe(Mt,o.onError.bind(o),f)),l.getValues().forEach(function(e){var n;try{n=r(t,e)}catch(i){return void o.onError(i)}o.onNext(n)})},o.onError.bind(o),function(){u=!0,(a||0===h.count())&&o.onCompleted()})),s.add(t.subscribe(function(t){var e=f++,i=new Ve;l.add(e,t),s.add(i);var u,c=function(){l.remove(e)&&0===l.count()&&a&&o.onCompleted(),s.remove(i)};try{u=n(t)}catch(p){return void o.onError(p)}i.setDisposable(u.take(1).subscribe(Mt,o.onError.bind(o),c)),h.getValues().forEach(function(e){var n;try{n=r(e,t)}catch(i){return void o.onError(i)}o.onNext(n)})},o.onError.bind(o),function(){a=!0,(u||0===l.count())&&o.onCompleted()})),s},i)},vn.groupJoin=function(t,e,n,r){var i=this;return new Lr(function(o){function s(t){return function(e){e.onError(t)}}var u=new Le,a=new Ge(u),c=new jr,f=new jr,h=0,l=0;return u.add(i.subscribe(function(t){var n=new Pr,i=h++;c.add(i,n);var l;try{l=r(t,qe(n,a))}catch(p){return c.getValues().forEach(s(p)),void o.onError(p)}o.onNext(l),f.getValues().forEach(function(t){n.onNext(t)});var d=new Ve;u.add(d);var v,b=function(){c.remove(i)&&n.onCompleted(),u.remove(d)};try{v=e(t)}catch(p){return c.getValues().forEach(s(p)),void o.onError(p)}d.setDisposable(v.take(1).subscribe(Mt,function(t){c.getValues().forEach(s(t)),o.onError(t)},b))},function(t){c.getValues().forEach(s(t)),o.onError(t)},o.onCompleted.bind(o))),u.add(t.subscribe(function(t){var e=l++;f.add(e,t);var r=new Ve;u.add(r);var i,a=function(){f.remove(e),u.remove(r)};try{i=n(t)}catch(h){return c.getValues().forEach(s(h)),void o.onError(h)}r.setDisposable(i.take(1).subscribe(Mt,function(t){c.getValues().forEach(s(t)),o.onError(t)},a)),c.getValues().forEach(function(e){e.onNext(t)})},function(t){c.getValues().forEach(s(t)),o.onError(t)})),a},i)},vn.buffer=function(t,e){return this.window.apply(this,arguments).selectMany(function(t){return t.toArray()})},vn.window=function(t,e){return 1===arguments.length&&"function"!=typeof arguments[0]?lt.call(this,t):"function"==typeof t?pt.call(this,t):ht.call(this,t,e)},vn.pairwise=function(){var t=this;return new Lr(function(e){var n,r=!1;return t.subscribe(function(t){r?e.onNext([n,t]):r=!0,n=t},e.onError.bind(e),e.onCompleted.bind(e))},t)},vn.partition=function(t,e){return[this.filter(t,e),this.filter(function(n,r,i){return!t.call(e,n,r,i)})]};var $r=function(t){function e(t,e){this.c=t,this.s=e}return $e(e,t),e.prototype[te]=function(){var t=this;return{next:function(){return t.c()?{done:!1,value:t.s}:{done:!0,value:void 0}}}},e}(Sn);vn.letBind=vn.let=function(t){return t(this)},_n["if"]=_n.ifThen=function(t,e,n){return Mn(function(){return n||(n=zn()),Wt(e)&&(e=jn(e)),Wt(n)&&(n=jn(n)),"function"==typeof n.now&&(n=zn(n)),t()?e:n})},_n["for"]=_n.forIn=function(t,e,n){return An(t,e,n).concat()};var Mr=_n["while"]=_n.whileDo=function(t,e){return Wt(e)&&(e=jn(e)),dt(t,e).concat()};vn.doWhile=function(t){return tr([this,Mr(t,this)])},_n["case"]=_n.switchCase=function(t,e,n){return Mn(function(){Wt(n)&&(n=jn(n)),n||(n=zn()),"function"==typeof n.now&&(n=zn(n));var r=e[t()];return Wt(r)&&(r=jn(r)),r||n})},vn.expand=function(t,e){Ye(e)||(e=en);var n=this;return new Lr(function(r){var i=[],o=new Ke,s=new Le(o),u=0,a=!1,c=function(){var n=!1;i.length>0&&(n=!a,a=!0),n&&o.setDisposable(e.scheduleRecursive(function(e){var n;if(!(i.length>0))return void(a=!1);n=i.shift();var o=new Ve;s.add(o),o.setDisposable(n.subscribe(function(e){r.onNext(e);var n=null;try{n=t(e)}catch(o){r.onError(o)}i.push(n),u++,c()},r.onError.bind(r),function(){s.remove(o),u--,0===u&&r.onCompleted()})),e()}))};return i.push(n),u++,c(),s},this)},_n.forkJoin=function(){var t=[];if(Array.isArray(arguments[0]))t=arguments[0];else for(var e=0,n=arguments.length;n>e;e++)t.push(arguments[e]);return new Lr(function(e){var n=t.length;if(0===n)return e.onCompleted(),Fe;for(var r=new Le,i=!1,o=new Array(n),s=new Array(n),u=new Array(n),a=0;n>a;a++)!function(a){var c=t[a];Wt(c)&&(c=jn(c)),r.add(c.subscribe(function(t){i||(o[a]=!0,u[a]=t)},function(t){i=!0,e.onError(t),r.dispose()},function(){if(!i){if(!o[a])return void e.onCompleted();s[a]=!0;for(var t=0;n>t;t++)if(!s[t])return;i=!0,e.onNext(u),e.onCompleted()}}))}(a);return r})},vn.forkJoin=function(t,e){var n=this;return new Lr(function(r){var i,o,s=!1,u=!1,a=!1,c=!1,f=new Ve,h=new Ve;return Wt(t)&&(t=jn(t)),f.setDisposable(n.subscribe(function(t){a=!0,i=t},function(t){h.dispose(),r.onError(t)},function(){if(s=!0,u)if(a)if(c){var t;try{t=e(i,o)}catch(n){return void r.onError(n)}r.onNext(t),r.onCompleted()}else r.onCompleted();else r.onCompleted()})),h.setDisposable(t.subscribe(function(t){c=!0,o=t},function(t){f.dispose(),r.onError(t)},function(){if(u=!0,s)if(a)if(c){var t;try{t=e(i,o)}catch(n){return void r.onError(n)}r.onNext(t),r.onCompleted()}else r.onCompleted();else r.onCompleted()})),new Le(f,h)},n)},vn.manySelect=vn.extend=function(t,e){Ye(e)||(e=en);var n=this;return Mn(function(){var r;return n.map(function(t){var e=new qr(t);return r&&r.onNext(t),r=e,e}).tap(Mt,function(t){r&&r.onError(t)},function(){r&&r.onCompleted()}).observeOn(e).map(t)},n)};var qr=function(t){function e(t){var e=this,n=new Le;return n.add(nn.schedule(function(){t.onNext(e.head),n.add(e.tail.mergeAll().subscribe(t))})),n}function n(n){t.call(this,e),this.head=n,this.tail=new Fr}return $e(n,t),Me(n.prototype,pn,{onCompleted:function(){this.onNext(_n.empty())},onError:function(t){this.onNext(_n.throwError(t))},onNext:function(t){this.tail.onNext(t),this.tail.onCompleted()}}),n}(_n),zr=Nt.Map||function(){function t(){this._keys=[],this._values=[]}return t.prototype.get=function(t){var e=this._keys.indexOf(t);return-1!==e?this._values[e]:i},t.prototype.set=function(t,e){var n=this._keys.indexOf(t);-1!==n&&(this._values[n]=e),this._values[this._keys.push(t)-1]=e},t.prototype.forEach=function(t,e){for(var n=0,r=this._keys.length;r>n;n++)t.call(e,this._values[n],this._keys[n])},t}();vt.prototype.and=function(t){return new vt(this.patterns.concat(t))},vt.prototype.thenDo=function(t){return new bt(this,t)},bt.prototype.activate=function(t,e,n){for(var r=this,i=[],o=0,s=this.expression.patterns.length;s>o;o++)i.push(mt(t,this.expression.patterns[o],e.onError.bind(e)));var u=new yt(i,function(){var t;try{t=r.selector.apply(r,arguments)}catch(n){return void e.onError(n)}e.onNext(t)},function(){for(var t=0,e=i.length;e>t;t++)i[t].removeActivePlan(u);n(u)});for(o=0,s=i.length;s>o;o++)i[o].addActivePlan(u);return u},yt.prototype.dequeue=function(){this.joinObservers.forEach(function(t){t.queue.shift()})},yt.prototype.match=function(){var t,e,n=!0;for(t=0,e=this.joinObserverArray.length;e>t;t++)if(0===this.joinObserverArray[t].queue.length){n=!1;break}if(n){var r=[],i=!1;for(t=0,e=this.joinObserverArray.length;e>t;t++)r.push(this.joinObserverArray[t].queue[0]),"C"===this.joinObserverArray[t].queue[0].kind&&(i=!0);if(i)this.onCompleted();else{this.dequeue();var o=[];for(t=0,e=r.length;t<r.length;t++)o.push(r[t].value);this.onNext.apply(this,o)}}};var Ir=function(t){function e(e,n){t.call(this),this.source=e,this.onError=n,this.queue=[],this.activePlans=[],this.subscription=new Ve,this.isDisposed=!1}$e(e,t);var n=e.prototype;return n.next=function(t){if(!this.isDisposed){if("E"===t.kind)return this.onError(t.exception);this.queue.push(t);for(var e=this.activePlans.slice(0),n=0,r=e.length;r>n;n++)e[n].match()}},n.error=Mt,n.completed=Mt,n.addActivePlan=function(t){this.activePlans.push(t)},n.subscribe=function(){this.subscription.setDisposable(this.source.materialize().subscribe(this))},n.removeActivePlan=function(t){this.activePlans.splice(this.activePlans.indexOf(t),1),0===this.activePlans.length&&this.dispose()},n.dispose=function(){t.prototype.dispose.call(this),this.isDisposed||(this.isDisposed=!0,this.subscription.dispose())},e}(bn);vn.and=function(t){return new vt([this,t])},vn.thenDo=function(t){return new vt([this]).thenDo(t)},_n.when=function(){var t,e=arguments.length;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(e);for(var n=0;e>n;n++)t[n]=arguments[n]}return new Lr(function(e){var n=[],r=new zr,i=dn(function(t){e.onNext(t)},function(t){r.forEach(function(e){e.onError(t)}),e.onError(t)},function(t){e.onCompleted()});try{for(var o=0,s=t.length;s>o;o++)n.push(t[o].activate(r,i,function(t){var r=n.indexOf(t);n.splice(r,1),0===n.length&&e.onCompleted()}))}catch(u){Xn(u).subscribe(e)}var a=new Le;return r.forEach(function(t){t.subscribe(),a.add(t)}),a})};{var Rr=_n.interval=function(t,e){return Et(t,t,Ye(e)?e:un)};_n.timer=function(t,e,n){var r;return Ye(n)||(n=un),e!==i&&"number"==typeof e?r=e:Ye(e)&&(n=e),t instanceof Date&&r===i?gt(t.getTime(),n):t instanceof Date&&r!==i?(r=e,wt(t.getTime(),r,n)):r===i?_t(t,n):Et(t,r,n)}}vn.delay=function(t,e){return Ye(e)||(e=un),t instanceof Date?xt(this,t.getTime(),e):St(this,t,e)},vn.debounce=vn.throttleWithTimeout=function(t,e){Ye(e)||(e=un);var n=this;return new Lr(function(r){var i,o=new Ke,s=!1,u=0,a=n.subscribe(function(n){s=!0,i=n,u++;var a=u,c=new Ve;o.setDisposable(c),c.setDisposable(e.scheduleWithRelative(t,function(){s&&u===a&&r.onNext(i),s=!1}))},function(t){o.dispose(),r.onError(t),s=!1,u++},function(){o.dispose(),s&&r.onNext(i),r.onCompleted(),s=!1,u++});return new Le(a,o)},this)},vn.throttle=function(t,e){return this.debounce(t,e)},vn.windowWithTime=function(t,e,n){var r,i=this;return null==e&&(r=t),Ye(n)||(n=un),"number"==typeof e?r=e:Ye(e)&&(r=t,n=e),new Lr(function(e){function o(){var t=new Ve,i=!1,s=!1;h.setDisposable(t),c===a?(i=!0,s=!0):a>c?i=!0:s=!0;var p=i?c:a,d=p-l;l=p,i&&(c+=r),s&&(a+=r),t.setDisposable(n.scheduleWithRelative(d,function(){if(s){var t=new Pr;f.push(t),e.onNext(qe(t,u))}i&&f.shift().onCompleted(),o()}))}var s,u,a=r,c=t,f=[],h=new Ke,l=0;return s=new Le(h),u=new Ge(s),f.push(new Pr),e.onNext(qe(f[0],u)),o(),s.add(i.subscribe(function(t){for(var e=0,n=f.length;n>e;e++)f[e].onNext(t)},function(t){for(var n=0,r=f.length;r>n;n++)f[n].onError(t);e.onError(t)},function(){for(var t=0,n=f.length;n>t;t++)f[t].onCompleted();e.onCompleted()})),u},i)},vn.windowWithTimeOrCount=function(t,e,n){var r=this;return Ye(n)||(n=un),new Lr(function(i){function o(e){var r=new Ve;s.setDisposable(r),r.setDisposable(n.scheduleWithRelative(t,function(){if(e===f){c=0;var t=++f;h.onCompleted(),h=new Pr,i.onNext(qe(h,a)),o(t)}}))}var s=new Ke,u=new Le(s),a=new Ge(u),c=0,f=0,h=new Pr;return i.onNext(qe(h,a)),o(0),u.add(r.subscribe(function(t){var n=0,r=!1;h.onNext(t),++c===e&&(r=!0,c=0,n=++f,h.onCompleted(),h=new Pr,i.onNext(qe(h,a))),r&&o(n)},function(t){h.onError(t),i.onError(t)},function(){h.onCompleted(),i.onCompleted()})),a},r)},vn.bufferWithTime=function(t,e,n){return this.windowWithTime.apply(this,arguments).selectMany(function(t){return t.toArray()})},vn.bufferWithTimeOrCount=function(t,e,n){return this.windowWithTimeOrCount(t,e,n).selectMany(function(t){return t.toArray()})},vn.timeInterval=function(t){var e=this;return Ye(t)||(t=un),Mn(function(){var n=t.now();return e.map(function(e){var r=t.now(),i=r-n;return n=r,{value:e,interval:i}})})},vn.timestamp=function(t){return Ye(t)||(t=un),this.map(function(e){return{value:e,timestamp:t.now()}})},vn.sample=vn.throttleLatest=function(t,e){return Ye(e)||(e=un),"number"==typeof t?Ct(this,Rr(t,e)):Ct(this,t)},vn.timeout=function(t,e,n){(null==e||"string"==typeof e)&&(e=Xn(new Error(e||"Timeout"))),Ye(n)||(n=un);var r=this,i=t instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative";return new Lr(function(o){function s(){var r=u;h.setDisposable(n[i](t,function(){u===r&&(Wt(e)&&(e=jn(e)),c.setDisposable(e.subscribe(o)))}))}var u=0,a=new Ve,c=new Ke,f=!1,h=new Ke;return c.setDisposable(a),s(),a.setDisposable(r.subscribe(function(t){f||(u++,o.onNext(t),s())},function(t){f||(u++,o.onError(t))},function(){f||(u++,o.onCompleted())})),new Le(c,h)},r)},_n.generateWithAbsoluteTime=function(t,e,n,r,i,o){return Ye(o)||(o=un),new Lr(function(s){var u=!0,a=!1;return o.scheduleRecursiveWithAbsoluteAndState(t,o.now(),function(t,o){a&&s.onNext(t);try{if(u?u=!1:t=n(t),a=e(t))var c=r(t),f=i(t)}catch(h){return void s.onError(h)}a?o(c,f):s.onCompleted()})})},_n.generateWithRelativeTime=function(t,e,n,r,i,o){return Ye(o)||(o=un),new Lr(function(s){var u=!0,a=!1;return o.scheduleRecursiveWithRelativeAndState(t,0,function(t,o){a&&s.onNext(t);try{if(u?u=!1:t=n(t),a=e(t))var c=r(t),f=i(t)}catch(h){return void s.onError(h)}a?o(c,f):s.onCompleted()})})},vn.delaySubscription=function(t,e){var n=t instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative",r=this;return Ye(e)||(e=un),new Lr(function(i){var o=new Ke;return o.setDisposable(e[n](t,function(){o.setDisposable(r.subscribe(i))})),o},this)},vn.delayWithSelector=function(t,e){var n,r,i=this;return Pt(t)?r=t:(n=t,r=e),new Lr(function(t){function e(){a.setDisposable(i.subscribe(function(e){var n=w(r)(e);if(n===ze)return t.onError(n.e);var i=new Ve;s.add(i),i.setDisposable(n.subscribe(function(){t.onNext(e),s.remove(i),o()},function(e){t.onError(e)},function(){t.onNext(e),s.remove(i),o()}))},function(e){t.onError(e)},function(){u=!0,a.dispose(),o()}))}function o(){u&&0===s.length&&t.onCompleted()}var s=new Le,u=!1,a=new Ke;return n?a.setDisposable(n.subscribe(e,function(e){t.onError(e)},e)):e(),new Le(a,s)},this)},vn.timeoutWithSelector=function(t,e,n){1===arguments.length&&(e=t,t=Bn()),n||(n=Xn(new Error("Timeout")));var r=this;return new Lr(function(i){function o(t){function e(){return f===r}var r=f,o=new Ve;a.setDisposable(o),o.setDisposable(t.subscribe(function(){e()&&u.setDisposable(n.subscribe(i)),o.dispose()},function(t){e()&&i.onError(t)},function(){e()&&u.setDisposable(n.subscribe(i))}))}function s(){var t=!h;return t&&f++,t}var u=new Ke,a=new Ke,c=new Ve;u.setDisposable(c);var f=0,h=!1;return o(t),c.setDisposable(r.subscribe(function(t){if(s()){i.onNext(t);var n;try{n=e(t)}catch(r){return void i.onError(r)}o(Wt(n)?jn(n):n)}},function(t){s()&&i.onError(t)},function(){s()&&i.onCompleted()})),new Le(u,a)},r)},vn.debounceWithSelector=function(t){var e=this;return new Lr(function(n){var r,i=!1,o=new Ke,s=0,u=e.subscribe(function(e){var u;try{u=t(e)}catch(a){return void n.onError(a)}Wt(u)&&(u=jn(u)),i=!0,r=e,s++;var c=s,f=new Ve;o.setDisposable(f),f.setDisposable(u.subscribe(function(){i&&s===c&&n.onNext(r),i=!1,f.dispose()},n.onError.bind(n),function(){i&&s===c&&n.onNext(r),i=!1,f.dispose()}))},function(t){o.dispose(),n.onError(t),i=!1,s++},function(){o.dispose(),i&&n.onNext(r),n.onCompleted(),i=!1,s++});return new Le(u,o)},e)},vn.throttleWithSelector=function(t){return this.debounceWithSelector(t)},vn.skipLastWithTime=function(t,e){Ye(e)||(e=un);var n=this;return new Lr(function(r){var i=[];return n.subscribe(function(n){var o=e.now();for(i.push({interval:o,value:n});i.length>0&&o-i[0].interval>=t;)r.onNext(i.shift().value)},function(t){r.onError(t)},function(){for(var n=e.now();i.length>0&&n-i[0].interval>=t;)r.onNext(i.shift().value);r.onCompleted()})},n)},vn.takeLastWithTime=function(t,e){var n=this;return Ye(e)||(e=un),new Lr(function(r){var i=[];return n.subscribe(function(n){var r=e.now();for(i.push({interval:r,value:n});i.length>0&&r-i[0].interval>=t;)i.shift()},function(t){r.onError(t)},function(){for(var n=e.now();i.length>0;){var o=i.shift();n-o.interval<=t&&r.onNext(o.value)}r.onCompleted()})},n)},vn.takeLastBufferWithTime=function(t,e){var n=this;return Ye(e)||(e=un),new Lr(function(r){var i=[];return n.subscribe(function(n){var r=e.now();for(i.push({interval:r,value:n});i.length>0&&r-i[0].interval>=t;)i.shift()},function(t){r.onError(t)},function(){for(var n=e.now(),o=[];i.length>0;){var s=i.shift();n-s.interval<=t&&o.push(s.value)}r.onNext(o),r.onCompleted()})},n)},vn.takeWithTime=function(t,e){var n=this;return Ye(e)||(e=un),new Lr(function(r){return new Le(e.scheduleWithRelative(t,function(){r.onCompleted()}),n.subscribe(r))},n)},vn.skipWithTime=function(t,e){var n=this;return Ye(e)||(e=un),new Lr(function(r){var i=!1;return new Le(e.scheduleWithRelative(t,function(){i=!0}),n.subscribe(function(t){i&&r.onNext(t)},r.onError.bind(r),r.onCompleted.bind(r)))},n)},vn.skipUntilWithTime=function(t,e){Ye(e)||(e=un);var n=this,r=t instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative";return new Lr(function(i){var o=!1;return new Le(e[r](t,function(){o=!0}),n.subscribe(function(t){o&&i.onNext(t)},function(t){i.onError(t)},function(){i.onCompleted()}))},n)},vn.takeUntilWithTime=function(t,e){Ye(e)||(e=un);var n=this,r=t instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative";return new Lr(function(i){return new Le(e[r](t,function(){i.onCompleted()}),n.subscribe(i))},n)},vn.throttleFirst=function(t,e){Ye(e)||(e=un);var n=+t||0;if(0>=n)throw new RangeError("windowDuration cannot be less or equal zero.");var r=this;return new Lr(function(t){var i=0;return r.subscribe(function(r){var o=e.now();(0===i||o-i>=n)&&(i=o,t.onNext(r))},function(e){t.onError(e)},function(){t.onCompleted()})},r)},vn.transduce=function(t){function e(t){return{"@@transducer/init":function(){return t},"@@transducer/step":function(t,e){return t.onNext(e)},"@@transducer/result":function(t){return t.onCompleted()}}}var n=this;return new Lr(function(r){var i=t(e(r));return n.subscribe(function(t){try{i["@@transducer/step"](r,t)}catch(e){r.onError(e)}},function(t){r.onError(t)},function(){i["@@transducer/result"](r)})},n)},vn.exclusive=function(){var t=this;return new Lr(function(e){var n=!1,r=!1,i=new Ve,o=new Le;return o.add(i),i.setDisposable(t.subscribe(function(t){if(!n){n=!0,Wt(t)&&(t=jn(t));var i=new Ve;o.add(i),i.setDisposable(t.subscribe(e.onNext.bind(e),e.onError.bind(e),function(){o.remove(i),n=!1,r&&1===o.length&&e.onCompleted()}))}},e.onError.bind(e),function(){r=!0,n||1!==o.length||e.onCompleted()})),o},this)},vn.exclusiveMap=function(t,e){var n=this,r=oe(t,e,3);return new Lr(function(t){var e=0,i=!1,o=!0,s=new Ve,u=new Le;return u.add(s),s.setDisposable(n.subscribe(function(n){i||(i=!0,innerSubscription=new Ve,u.add(innerSubscription),Wt(n)&&(n=jn(n)),innerSubscription.setDisposable(n.subscribe(function(i){var o;try{o=r(i,e++,n)}catch(s){return void t.onError(s)}t.onNext(o)},function(e){t.onError(e)},function(){u.remove(innerSubscription),i=!1,o&&1===u.length&&t.onCompleted()})))},function(e){t.onError(e)},function(){o=!0,1!==u.length||i||t.onCompleted()})),u},this)},$t.VirtualTimeScheduler=function(t){function e(){return this.toDateTimeOffset(this.clock)}function n(t,e){return this.scheduleAbsoluteWithState(t,this.clock,e)}function r(t,e,n){return this.scheduleRelativeWithState(t,this.toRelative(e),n)}function i(t,e,n){return this.scheduleRelativeWithState(t,this.toRelative(e-this.now()),n)}function o(t,e){return e(),Fe}function s(o,s){this.clock=o,this.comparer=s,this.isEnabled=!1,this.queue=new Ie(1024),t.call(this,e,n,r,i)}$e(s,t);var u=s.prototype;return u.add=Qt,u.toDateTimeOffset=Qt,u.toRelative=Qt,u.schedulePeriodicWithState=function(t,e,n){var r=new tn(this,t,e,n);return r.start()},u.scheduleRelativeWithState=function(t,e,n){var r=this.add(this.clock,e);return this.scheduleAbsoluteWithState(t,r,n)},u.scheduleRelative=function(t,e){return this.scheduleRelativeWithState(e,t,o)},u.start=function(){if(!this.isEnabled){this.isEnabled=!0;do{var t=this.getNext();null!==t?(this.comparer(t.dueTime,this.clock)>0&&(this.clock=t.dueTime),t.invoke()):this.isEnabled=!1}while(this.isEnabled)}},u.stop=function(){this.isEnabled=!1},u.advanceTo=function(t){var e=this.comparer(this.clock,t);if(this.comparer(this.clock,t)>0)throw new Jt;if(0!==e&&!this.isEnabled){this.isEnabled=!0;do{var n=this.getNext();null!==n&&this.comparer(n.dueTime,t)<=0?(this.comparer(n.dueTime,this.clock)>0&&(this.clock=n.dueTime),n.invoke()):this.isEnabled=!1}while(this.isEnabled);this.clock=t}},u.advanceBy=function(t){var e=this.add(this.clock,t),n=this.comparer(this.clock,e);if(n>0)throw new Jt;0!==n&&this.advanceTo(e)},u.sleep=function(t){var e=this.add(this.clock,t);if(this.comparer(this.clock,e)>=0)throw new Jt;this.clock=e},u.getNext=function(){for(;this.queue.length>0;){var t=this.queue.peek();if(!t.isCancelled())return t;this.queue.dequeue()}return null},u.scheduleAbsolute=function(t,e){return this.scheduleAbsoluteWithState(e,t,o)},u.scheduleAbsoluteWithState=function(t,e,n){function r(t,e){return i.queue.remove(o),n(t,e)}var i=this,o=new He(this,t,r,e,this.comparer);return this.queue.enqueue(o),o.disposable},s}(Je),$t.HistoricalScheduler=function(t){function e(e,n){var r=null==e?0:e,i=n||Rt;t.call(this,r,i)}$e(e,t);var n=e.prototype;return n.add=function(t,e){return t+e},n.toDateTimeOffset=function(t){return new Date(t).getTime()},n.toRelative=function(t){return t},e}($t.VirtualTimeScheduler);var Lr=$t.AnonymousObservable=function(t){function e(t){return t&&Pt(t.dispose)?t:Pt(t)?Pe(t):Fe}function n(t,n){var r=n[0],i=n[1],o=w(i)(r);return o!==ze||r.fail(ze.e)?void r.setDisposable(e(o)):_(ze.e)}function r(e,r){function i(t){var r=new Wr(t),i=[r,e];return nn.scheduleRequired()?nn.scheduleWithState(i,n):n(null,i),r}this.source=r,t.call(this,i)}return $e(r,t),r}(_n),Wr=function(t){function e(e){t.call(this),this.observer=e,this.m=new Ve}$e(e,t);var n=e.prototype;return n.next=function(t){var e=w(this.observer.onNext).call(this.observer,t);e===ze&&(this.dispose(),_(e.e))},n.error=function(t){var e=w(this.observer.onError).call(this.observer,t);this.dispose(),e===ze&&_(e.e)},n.completed=function(){var t=w(this.observer.onCompleted).call(this.observer);this.dispose(),t===ze&&_(t.e)},n.setDisposable=function(t){this.m.setDisposable(t)},n.getDisposable=function(){return this.m.getDisposable()},n.dispose=function(){t.prototype.dispose.call(this),this.m.dispose()},e}(bn),Tr=function(t){function e(t){return this.underlyingObservable.subscribe(t)}function n(n,r,i){t.call(this,e),this.key=n,this.underlyingObservable=i?new Lr(function(t){return new Le(i.getDisposable(),r.subscribe(t))}):r}return $e(n,t),n}(_n),Pr=$t.Subject=function(t){function e(t){return Ue(this),this.isStopped?this.hasError?(t.onError(this.error),Fe):(t.onCompleted(),Fe):(this.observers.push(t),new Nr(this,t))}function n(){t.call(this,e),this.isDisposed=!1,this.isStopped=!1,this.observers=[],this.hasError=!1}return $e(n,t),Me(n.prototype,pn.prototype,{hasObservers:function(){return this.observers.length>0},onCompleted:function(){if(Ue(this),!this.isStopped){this.isStopped=!0;for(var t=0,e=o(this.observers),n=e.length;n>t;t++)e[t].onCompleted();this.observers.length=0}},onError:function(t){if(Ue(this),!this.isStopped){this.isStopped=!0,this.error=t,this.hasError=!0;for(var e=0,n=o(this.observers),r=n.length;r>e;e++)n[e].onError(t);this.observers.length=0}},onNext:function(t){if(Ue(this),!this.isStopped)for(var e=0,n=o(this.observers),r=n.length;r>e;e++)n[e].onNext(t)},dispose:function(){this.isDisposed=!0,this.observers=null}}),n.create=function(t,e){return new Br(t,e)},n}(_n),Fr=$t.AsyncSubject=function(t){function e(t){return Ue(this),this.isStopped?(this.hasError?t.onError(this.error):this.hasValue?(t.onNext(this.value),t.onCompleted()):t.onCompleted(),Fe):(this.observers.push(t),new Nr(this,t))}function n(){t.call(this,e),this.isDisposed=!1,this.isStopped=!1,this.hasValue=!1,this.observers=[],this.hasError=!1}return $e(n,t),Me(n.prototype,pn,{hasObservers:function(){return Ue(this),this.observers.length>0},onCompleted:function(){var t,e;if(Ue(this),!this.isStopped){this.isStopped=!0;var n=o(this.observers),e=n.length;if(this.hasValue)for(t=0;e>t;t++){var r=n[t];r.onNext(this.value),r.onCompleted()}else for(t=0;e>t;t++)n[t].onCompleted();this.observers.length=0}},onError:function(t){if(Ue(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=t;for(var e=0,n=o(this.observers),r=n.length;r>e;e++)n[e].onError(t);this.observers.length=0}},onNext:function(t){Ue(this),this.isStopped||(this.value=t,this.hasValue=!0)},dispose:function(){this.isDisposed=!0,this.observers=null,this.exception=null,this.value=null}}),n}(_n),Br=$t.AnonymousSubject=function(t){function e(t){return this.observable.subscribe(t)}function n(n,r){this.observer=n,this.observable=r,t.call(this,e)}return $e(n,t),Me(n.prototype,pn.prototype,{onCompleted:function(){this.observer.onCompleted()},onError:function(t){this.observer.onError(t)},onNext:function(t){this.observer.onNext(t)}}),n}(_n);$t.Pauser=function(t){function e(){t.call(this)}return $e(e,t),e.prototype.pause=function(){this.onNext(!1)},e.prototype.resume=function(){this.onNext(!0)},e}(Pr),"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Nt.Rx=$t,define(function(){return $t})):Dt&&At?Ot?(At.exports=$t).Rx=$t:Dt.Rx=$t:Nt.Rx=$t;var Ur=h()}).call(this)}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:59}]},{},[1]);