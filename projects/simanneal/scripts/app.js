!function t(e,n,r){function i(s,u){if(!n[s]){if(!e[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return i(n?n:t)},f,f.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return v(t)}function i(t){var e=new Worker("scripts/workers/worker.js");return new m(function(n,r){e.onmessage=function(t){n(t.data)},e.postMessage(t)})}function o(t,e){var n,r=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return b.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:n=t;case 1:if(!(e>n)){i.next=7;break}return i.next=4,n;case 4:n+=r,i.next=1;break;case 7:case"end":return i.stop()}},w[0],this)}function s(t,e,n){var r,i,s,u,a,c;return b.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:r=!0,i=!1,s=void 0,f.prev=3,u=p(o(0,n));case 5:if(r=(a=u.next()).done){f.next=12;break}return c=a.value,f.next=9,{x:t*(2*Math.random()-1),y:e*(2*Math.random()-1)};case 9:r=!0,f.next=5;break;case 12:f.next=18;break;case 14:f.prev=14,f.t0=f["catch"](3),i=!0,s=f.t0;case 18:f.prev=18,f.prev=19,!r&&u["return"]&&u["return"]();case 21:if(f.prev=21,!i){f.next=24;break}throw s;case 24:return f.finish(21);case 25:return f.finish(18);case 26:case"end":return f.stop()}},w[1],this,[[3,14,18,26],[19,,21,25]])}function u(t){var e={};return t.forEach(function(t){var n=t.name,r=t.value;return e[n]=JSON.parse(r)}),e}function a(t,e){return t.preventDefault(),u($(e).serializeArray())}function c(t,e){return Math.log(e)/Math.log(t)}function f(t){var e=[t.damp_factor,t.temp_min,t.temp_init,t.iters_for_each_t],n=e.map(parseFloat),r=g(n,4),i=r[0],o=r[1],s=r[2],u=r[3];return c(2-i,o/s)*u}function h(t){return f(t)<C}function l(t){var e=$("#sa-main-fader");e.val(0),e.attr("max",t)}var p=t("babel-runtime/core-js/get-iterator")["default"],d=t("babel-runtime/core-js/is-iterable")["default"],v=t("babel-runtime/core-js/array/from")["default"],b=t("babel-runtime/regenerator")["default"],m=t("babel-runtime/core-js/promise")["default"],y=t("babel-runtime/core-js/object/assign")["default"],g=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,u=p(t);!(r=(s=u.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(a){i=!0,o=a}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(d(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=[o,s].map(b.mark),_=t("rx-dom"),E=_.Observable,x=(t("immutable"),t("chroma-js")),S=t("./render.js"),C=("http://"+location.hostname+":8089/",100*Math.pow(10,6)),k=x.scale(["#21AB6C","#60A744","#8E9E1D","#B99106","#DE7E24","#F9684A"]),N=10,A=E.merge.apply(E,r(["click","submit"].map(function(t){return E.fromEvent($("#points-add"),t).map(function(t){return a(t,"#sa-points")}).map(function(t){var e=t.x,n=t.y;return{x:e,y:-n}})})).concat([E.fromEvent($("#points-random"),"click").map(function(t){return a(t,"#sa-points")}).flatMap(function(t){return E.from(s(t.x,t.y,N))})])).share(),D=E.merge(E.fromEvent(window,"keydown").filter(function(t){return 90===t.keyCode&&t.ctrlKey}),E.fromEvent($("#points-undo"),"click")["do"](function(t){return t.preventDefault()})).share(),j=E.fromEvent($("#points-reset"),"click")["do"](function(t){return t.preventDefault()}).share(),O=E.merge(A.map(function(t){return{type:"click",point:t}}),D.map(function(){return{type:"undo"}}),j.map(function(){return{type:"reset"}})).scan([],function(t,e){var n=e.type,r=e.point,i={click:function(){return t.concat(r)},undo:function(){return t.slice(0,-1)},reset:function(){return[]}};return i[n]()});O.subscribe(function(t){S.renderOnlyPoints(t,k(1).hex())});var M=O.filter(function(t){return t.length>2}),q=E.merge(E.fromEvent($("#sa-params"),"submit"),E.fromEvent($("#sa-points #compute2"),"click")).map(function(t){return t.preventDefault(),u($("#sa-params").serializeArray())}).partition(h),z=g(q,2),I=z[0],R=z[1];R.subscribe(function(){return void 0});var L=I.withLatestFrom(M,function(t,e){return y({},t,{points:e})});L.subscribe(function(t){return void 0});var T=L.flatMapLatest(function(t){return i(t)["catch"](E.just("err"))}).share().partition(function(t){return"err"!==t}),W=g(T,2),P=W[0],F=W[1],B=t("./wait-dialog.js"),U=L,V=E.merge(P,R,F).share(),K=E.merge(R.map(function(){return"This form looks suspicious, maxmium iterations number I can handle is "+C}),F.map(function(){return"Backend failed."})).share();K.subscribe(function(t){$("#mainErrorCont").removeClass("hidden"),$("#mainError").html(t),setTimeout(function(){return $("#mainErrorCont").addClass("hidden")},3e3)}),U.subscribe(function(){return B.show("Loading",{dialogSize:"sm"})}),V.subscribe(function(){return B.hide()}),P.subscribe(function(t){l(t.iters.length-1)});var G=E.fromEvent($("#sa-main-fader"),"input").throttleFirst(40).map(function(t){return $(t.target).val()});P.subscribe(function(t){S.renderCharts(t)});var J=P.flatMapLatest(function(t){return G.startWith(0).map(function(e){return{iter:t.iters[e],sol:t.sol}})}),H=E.combineLatest(J,L,function(t,e){return{data:t,tempMax:e.temp_init,tempMin:e.temp_min,points:e.points}});H.subscribe(function(t){var e=t.data,n=t.tempMin,r=t.tempMax,i=t.points,o=e.iter.temp/(r-n),s=k(o).hex();S.render(e,i,s);for(var u in e.iter)$("#sa-"+u).html(JSON.stringify(e.iter[u]));$("#sa-temp-color").css("background-color",s),$("#sa-best_pos").html(JSON.stringify(e.sol))})},{"./render.js":2,"./wait-dialog.js":3,"babel-runtime/core-js/array/from":4,"babel-runtime/core-js/get-iterator":5,"babel-runtime/core-js/is-iterable":6,"babel-runtime/core-js/object/assign":7,"babel-runtime/core-js/promise":10,"babel-runtime/regenerator":12,"chroma-js":14,immutable:88,"rx-dom":91}],2:[function(t,e,n){"use strict";function r(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function i(t,e){return t.map(function(t,n){return{label:String(n),id:String(n),size:2,x:t.x,y:t.y,color:e}})}function o(t,e){return t.map(function(t,n){return{id:String(n),label:String(r(e[t[0]],e[t[1]])),source:String(t[0]),target:String(t[1]),size:2,type:["curve"]}})}var s=t("babel-runtime/core-js/object/assign")["default"],u=t("babel-runtime/core-js/object/create")["default"],a=t("immutable"),c={init:function(){this.g=new sigma({renderers:[{container:document.getElementById("graph-container"),type:"canvas"}]}),this.prevCost=0,this.edgesPrev=[],this.nodesPrev=[],this.g.settings({edgeColor:"default",nodeColor:"default",defaultEdgeColor:"#0000ff",defaultNodeColor:"#ff0000",minNodeSize:3,minEdgeSize:1})},renderOnlyPoints:function(t,e){var n=i(t,e);this.nodesPrev=n,this.g.graph.clear(),this.g.graph.read({nodes:n}),this.g.refresh()},renderCharts:function(t){var e=1e3,n=t.iters.length,r=Math.ceil(n/e),i=t.iters.filter(function(t,e){return e%r===0}),o={x_label:"Iteration",x_accessor:"iter",data:i,width:450,height:300,right:40,left:80,bottom:80,area:!1,linked:!0,animate_on_load:!1,transition_on_update:!1};MG.data_graphic(s({},o,{target:"#tempChart",y_label:"Temperature",y_accessor:"temp"})),MG.data_graphic(s({},o,{target:"#energyChart",y_label:"Energy",y_accessor:"energy"}))},render:function(t,e,n){var r=this,s=t.iter.energy;if(s!==this.prevCost){var u=a.List(t.iter.pos),c=u.shift().concat(u.first()).zip(u),f=o(c,e).toArray(),h=i(e,n);this.g.settings({defaultEdgeColor:n,defaultNodeColor:n}),h!==this.nodesPrev?(this.nodesPrev.map(function(t){return t.id}).forEach(function(t){r.g.graph.dropNode(t)}),h.forEach(function(t){r.g.graph.addNode(t)})):f!==this.edgesPrev&&this.edgesPrev.map(function(t){return t.id}).forEach(function(t){r.g.graph.dropEdge(t)}),(f!==this.edgesPrev||h!==this.nodesPrev)&&(f.forEach(function(t){r.g.graph.addEdge(t)}),this.g.refresh()),this.nodesPrev=h,this.edgesPrev=f,this.prevCost=s}},clear:function(){this.g.graph.clear(),this.g.reset()}};e.exports=u(c),e.exports.init()},{"babel-runtime/core-js/object/assign":7,"babel-runtime/core-js/object/create":8,immutable:88}],3:[function(t,e,n){"use strict";var r=function(t){var e=t('<div class="modal fade" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-hidden="true" style="padding-top:15%; overflow-y:visible;"><div class="modal-dialog modal-m"><div class="modal-content"><div class="modal-header"><h3 style="margin:0;"></h3></div><div class="modal-body"><div class="progress progress-striped active" style="margin-bottom:0;"><div class="progress-bar" style="width: 100%"></div></div></div></div></div></div>');return{show:function(n,r){var i=t.extend({dialogSize:"m",progressType:""},r);"undefined"==typeof n&&(n="Loading"),"undefined"==typeof r&&(r={}),e.find(".modal-dialog").attr("class","modal-dialog").addClass("modal-"+i.dialogSize),e.find(".progress-bar").attr("class","progress-bar"),i.progressType&&e.find(".progress-bar").addClass("progress-bar-"+i.progressType),e.find("h3").text(n),e.modal()},hide:function(){e.modal("hide")}}}(jQuery);e.exports=r},{}],4:[function(t,e,n){e.exports={"default":t("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":15}],5:[function(t,e,n){e.exports={"default":t("core-js/library/fn/get-iterator"),__esModule:!0}},{"core-js/library/fn/get-iterator":16}],6:[function(t,e,n){e.exports={"default":t("core-js/library/fn/is-iterable"),__esModule:!0}},{"core-js/library/fn/is-iterable":17}],7:[function(t,e,n){e.exports={"default":t("core-js/library/fn/object/assign"),__esModule:!0}},{"core-js/library/fn/object/assign":18}],8:[function(t,e,n){e.exports={"default":t("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":19}],9:[function(t,e,n){e.exports={"default":t("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":20}],10:[function(t,e,n){e.exports={"default":t("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":21}],11:[function(t,e,n){e.exports={"default":t("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":22}],12:[function(t,e,n){(function(n){var r="object"==typeof n?n:"object"==typeof window?window:"object"==typeof self?self:this,i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=t("./runtime"),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(s){r.regeneratorRuntime=void 0}e.exports={"default":e.exports,__esModule:!0}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./runtime":13}],13:[function(t,e,n){(function(n,r){"use strict";var i=t("babel-runtime/core-js/symbol")["default"],o=t("babel-runtime/core-js/object/create")["default"],s=t("babel-runtime/core-js/object/set-prototype-of")["default"],u=t("babel-runtime/core-js/promise")["default"];!function(t){function r(t,e,n,r){var i=o((e||c).prototype),s=new y(r||[]);return i._invoke=v(t,n,s),i}function a(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}function c(){}function f(){}function h(){}function l(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function p(t){this.arg=t}function d(t){function e(n,r,i,o){var s=a(t[n],t,r);if("throw"!==s.type){var c=s.arg,f=c.value;return f instanceof p?u.resolve(f.arg).then(function(t){e("next",t,i,o)},function(t){e("throw",t,i,o)}):u.resolve(f).then(function(t){c.value=t,i(c)},o)}o(s.arg)}function r(t,n){function r(){return new u(function(r,i){e(t,n,r,i)})}return i=i?i.then(r,r):r()}"object"==typeof n&&n.domain&&(e=n.domain.bind(e));var i;this._invoke=r}function v(t,e,n){var r=$;return function(i,o){if(r===D)throw new Error("Generator is already running");if(r===j){if("throw"===i)throw o;return w()}for(;;){var s=n.delegate;if(s){if("return"===i||"throw"===i&&s.iterator[i]===_){n.delegate=null;var u=s.iterator["return"];if(u){var c=a(u,s.iterator,o);if("throw"===c.type){i="throw",o=c.arg;continue}}if("return"===i)continue}var c=a(s.iterator[i],s.iterator,o);if("throw"===c.type){n.delegate=null,i="throw",o=c.arg;continue}i="next",o=_;var f=c.arg;if(!f.done)return r=A,f;n[s.resultName]=f.value,n.next=s.nextLoc,n.delegate=null}if("next"===i)r===A?n.sent=o:n.sent=_;else if("throw"===i){if(r===$)throw r=j,o;n.dispatchException(o)&&(i="next",o=_)}else"return"===i&&n.abrupt("return",o);r=D;var c=a(t,e,n);if("normal"===c.type){r=n.done?j:A;var f={value:c.arg,done:n.done};if(c.arg!==O)return f;n.delegate&&"next"===i&&(o=_)}else"throw"===c.type&&(r=j,i="throw",o=c.arg)}}}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function m(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function y(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function g(t){if(t){var e=t[S];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function i(){for(;++n<t.length;)if(E.call(t,n))return i.value=t[n],i.done=!1,i;return i.value=_,i.done=!0,i};return r.next=r}}return{next:w}}function w(){return{value:_,done:!0}}var _,E=Object.prototype.hasOwnProperty,x="function"==typeof i?i:{},S=x.iterator||"@@iterator",C=x.toStringTag||"@@toStringTag",k="object"==typeof e,N=t.regeneratorRuntime;if(N)return void(k&&(e.exports=N));N=t.regeneratorRuntime=k?e.exports:{},N.wrap=r;var $="suspendedStart",A="suspendedYield",D="executing",j="completed",O={},M=h.prototype=c.prototype;f.prototype=M.constructor=h,h.constructor=f,h[C]=f.displayName="GeneratorFunction",N.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return e?e===f||"GeneratorFunction"===(e.displayName||e.name):!1},N.mark=function(t){return s?s(t,h):(t.__proto__=h,C in t||(t[C]="GeneratorFunction")),t.prototype=o(M),t},N.awrap=function(t){return new p(t)},l(d.prototype),N.async=function(t,e,n,i){var o=new d(r(t,e,n,i));return N.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},l(M),M[S]=function(){return this},M[C]="Generator",M.toString=function(){return"[object Generator]"},N.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},N.values=g,y.prototype={constructor:y,reset:function(t){if(this.prev=0,this.next=0,this.sent=_,this.done=!1,this.delegate=null,this.tryEntries.forEach(m),!t)for(var e in this)"t"===e.charAt(0)&&E.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=_)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return o.type="throw",o.arg=t,n.next=e,!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var s=E.call(i,"catchLoc"),u=E.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&E.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?this.next=i.finallyLoc:this.complete(o),O},complete:function(t,e){if("throw"===t.type)throw t.arg;"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=t.arg,this.next="end"):"normal"===t.type&&e&&(this.next=e)},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),m(n),O}},"catch":function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;m(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:g(t),resultName:e,nextLoc:n},O}}}("object"==typeof r?r:"object"==typeof window?window:"object"==typeof self?self:void 0)}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:89,"babel-runtime/core-js/object/create":8,"babel-runtime/core-js/object/set-prototype-of":9,"babel-runtime/core-js/promise":10,"babel-runtime/core-js/symbol":11}],14:[function(t,e,n){(function(){var t,r,i,o,s,u,a,c,f,h,l,p,d,v,b,m,y,g,w,_,E,x,S,C,k,N,$,A,D,j,O,M,q,z,I,R,L,T,W,P,F,B,U,V,K,G,J,H,X,Y,Q,Z,tt,et,nt,rt,it,ot,st;d=function(e,n,r,i){return new t(e,n,r,i)},"undefined"!=typeof e&&null!==e&&null!=e.exports&&(e.exports=d),"function"==typeof define&&define.amd?define([],function(){return d}):(Q="undefined"!=typeof n&&null!==n?n:this,Q.chroma=d),d.color=function(e,n,r,i){return new t(e,n,r,i)},d.hsl=function(e,n,r,i){return new t(e,n,r,i,"hsl")},d.hsv=function(e,n,r,i){return new t(e,n,r,i,"hsv")},d.rgb=function(e,n,r,i){return new t(e,n,r,i,"rgb")},d.hex=function(e){return new t(e)},d.css=function(e){return new t(e)},d.lab=function(e,n,r){return new t(e,n,r,"lab")},d.lch=function(e,n,r){return new t(e,n,r,"lch")},d.hsi=function(e,n,r){return new t(e,n,r,"hsi")},d.gl=function(e,n,r,i){return new t(e,n,r,i,"gl")},d.num=function(e){return new t(e,"num")},d.random=function(){var e,n,r,i;for(n="0123456789abcdef",e="#",r=i=0;6>i;r=++i)e+=n.charAt(E(16*Math.random()));return new t(e)},d.interpolate=function(e,n,r,i){var o,s;return null==e||null==n?"#000":(("string"===(o=rt(e))||"number"===o)&&(e=new t(e)),("string"===(s=rt(n))||"number"===s)&&(n=new t(n)),e.interpolate(r,n,i))},d.mix=d.interpolate,d.contrast=function(e,n){var r,i,o,s;return("string"===(o=rt(e))||"number"===o)&&(e=new t(e)),("string"===(s=rt(n))||"number"===s)&&(n=new t(n)),r=e.luminance(),i=n.luminance(),r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)},d.luminance=function(t){return d(t).luminance()},d.kelvin=function(t){return d(nt(t),"rgb")},d.version="0.7.8",d._Color=t,t=function(){function t(){var t,e,n,r,i,o,s,u,a,c,f,h,l,p,d,b;for(o=this,n=[],u=0,r=arguments.length;r>u;u++)e=arguments[u],null!=e&&n.push(e);if(0===n.length)a=[255,0,255,1,"rgb"],p=a[0],d=a[1],b=a[2],t=a[3],i=a[4];else if("array"===rt(n[0])){if(3===n[0].length)c=n[0],p=c[0],d=c[1],b=c[2],t=1;else{if(4!==n[0].length)throw"unknown input argument";f=n[0],p=f[0],d=f[1],b=f[2],t=f[3]}i=null!=(h=n[1])?h:"rgb"}else"string"===rt(n[0])?(p=n[0],i="hex"):"object"===rt(n[0])?(l=n[0]._rgb,p=l[0],d=l[1],b=l[2],t=l[3],i="rgb"):n.length<=2&&"number"===rt(n[0])?(p=n[0],i="num"):n.length>=3&&(p=n[0],d=n[1],b=n[2]);3===n.length?(i="rgb",t=1):4===n.length?"string"===rt(n[3])?(i=n[3],t=1):"number"===rt(n[3])&&(i="rgb",t=n[3]):5===n.length&&(t=n[3],i=n[4]),null==t&&(t=1),"rgb"===i?o._rgb=[p,d,b,t]:"gl"===i?o._rgb=[255*p,255*d,255*b,t]:"hsl"===i?(o._rgb=C(p,d,b),o._rgb[3]=t):"hsv"===i?(o._rgb=k(p,d,b),o._rgb[3]=t):"hex"===i?o._rgb=x(p):"lab"===i?(o._rgb=$(p,d,b),o._rgb[3]=t):"lch"===i?(o._rgb=j(p,d,b),o._rgb[3]=t):"hsi"===i?(o._rgb=S(p,d,b),o._rgb[3]=t):"num"===i&&(o._rgb=T(p)),s=v(o._rgb)}return t.prototype.rgb=function(){return this._rgb.slice(0,3)},t.prototype.rgba=function(){return this._rgb},t.prototype.hex=function(t){return null==t&&(t="rgb"),F(this._rgb,t)},t.prototype.toString=function(){return this.name()},t.prototype.hsl=function(){return U(this._rgb)},t.prototype.hsv=function(){return V(this._rgb)},t.prototype.lab=function(){return K(this._rgb)},t.prototype.lch=function(){return G(this._rgb)},t.prototype.hsi=function(){return B(this._rgb)},t.prototype.gl=function(){return[this._rgb[0]/255,this._rgb[1]/255,this._rgb[2]/255,this._rgb[3]]},t.prototype.num=function(){return J(this._rgb)},t.prototype.luminance=function(e,n){var r,i,o,s;return null==n&&(n="rgb"),arguments.length?(0===e&&(this._rgb=[0,0,0,this._rgb[3]]),1===e&&(this._rgb=[255,255,255,this._rgb[3]]),r=z(this._rgb),i=1e-7,o=20,s=function(t,r){var u,a;return a=t.interpolate(.5,r,n),u=a.luminance(),Math.abs(e-u)<i||!o--?a:u>e?s(t,a):s(a,r)},this._rgb=(r>e?s(new t("black"),this):s(this,new t("white"))).rgba(),this):z(this._rgb)},t.prototype.name=function(){var t,e;t=this.hex();for(e in d.colors)if(t===d.colors[e])return e;return t},t.prototype.alpha=function(t){return arguments.length?(this._rgb[3]=t,this):this._rgb[3]},t.prototype.css=function(t){var e,n,r,i;return null==t&&(t="rgb"),n=this,r=n._rgb,3===t.length&&r[3]<1&&(t+="a"),"rgb"===t?t+"("+r.slice(0,3).map(Z).join(",")+")":"rgba"===t?t+"("+r.slice(0,3).map(Z).join(",")+","+r[3]+")":"hsl"===t||"hsla"===t?(e=n.hsl(),i=function(t){return Z(100*t)/100},e[0]=i(e[0]||0),e[1]=i(100*e[1])+"%",e[2]=i(100*e[2])+"%",4===t.length&&(e[3]=r[3]),t+"("+e.join(",")+")"):void 0},t.prototype.interpolate=function(e,n,r){var i,o,s,u,a,c,f,h,l,p,d,v,b,m;if(h=this,null==r&&(r="rgb"),"string"===rt(n)&&(n=new t(n)),"hsl"===r||"hsv"===r||"lch"===r||"hsi"===r)"hsl"===r?(b=h.hsl(),m=n.hsl()):"hsv"===r?(b=h.hsv(),m=n.hsv()):"hsi"===r?(b=h.hsi(),m=n.hsi()):"lch"===r&&(b=h.lch(),m=n.lch()),"h"===r.substr(0,1)?(s=b[0],d=b[1],c=b[2],u=m[0],v=m[1],f=m[2]):(c=b[0],d=b[1],s=b[2],f=m[0],v=m[1],u=m[2]),isNaN(s)||isNaN(u)?isNaN(s)?isNaN(u)?o=Number.NaN:(o=u,1!==c&&0!==c||"hsv"===r||(p=v)):(o=s,1!==f&&0!==f||"hsv"===r||(p=d)):(i=u>s&&u-s>180?u-(s+360):s>u&&s-u>180?u+360-s:u-s,o=s+e*i),null==p&&(p=d+e*(v-d)),a=c+e*(f-c),l="h"===r.substr(0,1)?new t(o,p,a,r):new t(a,p,o,r);else if("rgb"===r)b=h._rgb,m=n._rgb,l=new t(b[0]+e*(m[0]-b[0]),b[1]+e*(m[1]-b[1]),b[2]+e*(m[2]-b[2]),r);else if("num"===r)n instanceof t||(n=new t(n,r)),b=h._rgb,m=n._rgb,l=new t((b[0]+e*(m[0]-b[0])<<16)+(b[1]+e*(m[1]-b[1])<<8)+(b[2]+e*(m[2]-b[2])&255),r);else{if("lab"!==r)throw"color mode "+r+" is not supported";b=h.lab(),m=n.lab(),l=new t(b[0]+e*(m[0]-b[0]),b[1]+e*(m[1]-b[1]),b[2]+e*(m[2]-b[2]),r)}return l.alpha(h.alpha()+e*(n.alpha()-h.alpha())),l},t.prototype.mix=function(t,e,n){return this.interpolate(t,e,n)},t.prototype.premultiply=function(){var t,e;return e=this.rgb(),t=this.alpha(),d(e[0]*t,e[1]*t,e[2]*t,t)},t.prototype.darken=function(t){var e,n;return null==t&&(t=20),n=this,e=n.lch(),e[0]-=t,d.lch(e).alpha(n.alpha())},t.prototype.darker=function(t){return this.darken(t)},t.prototype.brighten=function(t){return null==t&&(t=20),this.darken(-t)},t.prototype.brighter=function(t){return this.brighten(t)},t.prototype.saturate=function(t){var e,n;return null==t&&(t=20),n=this,e=n.lch(),e[1]+=t,d.lch(e).alpha(n.alpha())},t.prototype.desaturate=function(t){return null==t&&(t=20),this.saturate(-t)},t.prototype.blend=function(t,e){return d.blend(this,t,e)},t.prototype.kelvin=function(){return H(this.rgb())},t}(),v=function(t){var e;for(e in t)3>e?(t[e]<0&&(t[e]=0),t[e]>255&&(t[e]=255)):3===e&&(t[e]<0&&(t[e]=0),t[e]>1&&(t[e]=1));return t},y=function(t){var e,n,r,i,o,s,u,a;if(t=t.toLowerCase(),null!=d.colors&&d.colors[t])return x(d.colors[t]);if(o=t.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(u=o.slice(1,4),i=s=0;2>=s;i=++s)u[i]=+u[i];u[3]=1}else if(o=t.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(u=o.slice(1,5),i=a=0;3>=a;i=++a)u[i]=+u[i];else if(o=t.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(u=o.slice(1,4),i=e=0;2>=e;i=++e)u[i]=Z(2.55*u[i]);u[3]=1}else if(o=t.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(u=o.slice(1,5),i=n=0;2>=n;i=++n)u[i]=Z(2.55*u[i]);u[3]=+u[3]}else(o=t.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?(r=o.slice(1,4),r[1]*=.01,r[2]*=.01,u=C(r),u[3]=1):(o=t.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&(r=o.slice(1,4),r[1]*=.01,r[2]*=.01,u=C(r),u[3]=+o[4]);return u},x=function(t){var e,n,r,i,o,s;if(t.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return(4===t.length||7===t.length)&&(t=t.substr(1)),3===t.length&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),s=parseInt(t,16),i=s>>16,r=s>>8&255,n=255&s,[i,r,n,1];if(t.match(/^#?([A-Fa-f0-9]{8})$/))return 9===t.length&&(t=t.substr(1)),s=parseInt(t,16),i=s>>24&255,r=s>>16&255,n=s>>8&255,e=Z((255&s)/255*100)/100,[i,r,n,e];if(o=y(t))return o;throw"unknown color: "+t},S=function(t,e,n){var r,s,u,a;return a=it(arguments),t=a[0],e=a[1],n=a[2],t/=360,1/3>t?(r=(1-e)/3,u=(1+e*m(o*t)/m(i-o*t))/3,s=1-(r+u)):2/3>t?(t-=1/3,u=(1-e)/3,s=(1+e*m(o*t)/m(i-o*t))/3,r=1-(u+s)):(t-=2/3,s=(1-e)/3,r=(1+e*m(o*t)/m(i-o*t))/3,u=1-(s+r)),u=M(n*u*3),s=M(n*s*3),r=M(n*r*3),[255*u,255*s,255*r]},C=function(){var t,e,n,r,i,o,s,u,a,c,f,h,l,p;if(a=it(arguments),r=a[0],f=a[1],o=a[2],0===f)u=n=t=255*o;else{for(p=[0,0,0],e=[0,0,0],l=.5>o?o*(1+f):o+f-o*f,h=2*o-l,r/=360,p[0]=r+1/3,p[1]=r,p[2]=r-1/3,i=s=0;2>=s;i=++s)p[i]<0&&(p[i]+=1),p[i]>1&&(p[i]-=1),6*p[i]<1?e[i]=h+6*(l-h)*p[i]:2*p[i]<1?e[i]=l:3*p[i]<2?e[i]=h+(l-h)*(2/3-p[i])*6:e[i]=h;c=[Z(255*e[0]),Z(255*e[1]),Z(255*e[2])],u=c[0],n=c[1],t=c[2]}return[u,n,t]},k=function(){var t,e,n,r,i,o,s,u,a,c,f,h,l,p,d,v,b,m;if(a=it(arguments),r=a[0],v=a[1],m=a[2],m*=255,0===v)u=n=t=m;else switch(360===r&&(r=0),r>360&&(r-=360),0>r&&(r+=360),r/=60,i=E(r),e=r-i,o=m*(1-v),s=m*(1-v*e),b=m*(1-v*(1-e)),i){case 0:c=[m,b,o],u=c[0],n=c[1],t=c[2];break;case 1:f=[s,m,o],u=f[0],n=f[1],t=f[2];break;case 2:h=[o,m,b],u=h[0],n=h[1],t=h[2];break;case 3:l=[o,s,m],u=l[0],n=l[1],t=l[2];break;case 4:p=[b,o,m],u=p[0],n=p[1],t=p[2];break;case 5:d=[m,o,s],u=d[0],n=d[1],t=d[2]}return u=Z(u),n=Z(n),t=Z(t),[u,n,t]},r=18,s=.95047,u=1,a=1.08883,N=function(){var t,e,n,r,i,o;return o=it(arguments),i=o[0],t=o[1],e=o[2],n=Math.sqrt(t*t+e*e),r=(Math.atan2(e,t)/Math.PI*180+360)%360,[i,n,r]},$=function(t,e,n){var r,i,o,c,f,h,l;return void 0!==t&&3===t.length&&(o=t,t=o[0],e=o[1],n=o[2]),void 0!==t&&3===t.length&&(c=t,t=c[0],e=c[1],n=c[2]),h=(t+16)/116,f=h+e/500,l=h-n/200,f=A(f)*s,h=A(h)*u,l=A(l)*a,i=st(3.2404542*f-1.5371385*h-.4985314*l),r=st(-.969266*f+1.8760108*h+.041556*l),n=st(.0556434*f-.2040259*h+1.0572252*l),[M(i,0,255),M(r,0,255),M(n,0,255),1]},A=function(t){return t>.206893034?t*t*t:(t-4/29)/7.787037},st=function(t){return Z(255*(.00304>=t?12.92*t:1.055*P(t,1/2.4)-.055))},D=function(){var t,e,n,r;return r=it(arguments),n=r[0],t=r[1],e=r[2],e=e*Math.PI/180,[n,Math.cos(e)*t,Math.sin(e)*t]},j=function(t,e,n){var r,i,o,s,u,a,c;return a=D(t,e,n),r=a[0],i=a[1],o=a[2],c=$(r,i,o),u=c[0],s=c[1],o=c[2],[M(u,0,255),M(s,0,255),M(o,0,255)]},z=function(t,e,n){var r;return r=it(arguments),t=r[0],e=r[1],n=r[2],t=I(t),e=I(e),n=I(n),.2126*t+.7152*e+.0722*n},I=function(t){return t/=255,.03928>=t?t/12.92:Math.pow((t+.055)/1.055,2.4)},T=function(t){var e,n,r;if("number"===rt(t)&&t>=0&&16777215>=t)return r=t>>16,n=t>>8&255,e=255&t,[r,n,e,1];throw"unknown num color: "+t},F=function(t,e){var n,r,i,o,s,u,a;return null==e&&(e="rgb"),s=t[0],i=t[1],r=t[2],n=t[3],a=s<<16|i<<8|r,u="000000"+a.toString(16),u=u.substr(u.length-6),o="0"+Z(255*n).toString(16),o=o.substr(o.length-2),"#"+function(){switch(e.toLowerCase()){case"rgba":return u+o;case"argb":return o+u;default:return u}}()},B=function(){var t,e,n,r,i,o,s,u,a;return u=it(arguments),s=u[0],n=u[1],e=u[2],t=2*Math.PI,s/=255,n/=255,e/=255,o=Math.min(s,n,e),i=(s+n+e)/3,a=1-o/i,0===a?r=0:(r=(s-n+(s-e))/2,r/=Math.sqrt((s-n)*(s-n)+(s-e)*(n-e)),r=Math.acos(r),e>n&&(r=t-r),r/=t),[360*r,a,i]},U=function(t,e,n){var r,i,o,s,u,a;return void 0!==t&&t.length>=3&&(u=t,t=u[0],e=u[1],n=u[2]),t/=255,e/=255,n/=255,s=Math.min(t,e,n),o=Math.max(t,e,n),i=(o+s)/2,o===s?(a=0,r=Number.NaN):a=.5>i?(o-s)/(o+s):(o-s)/(2-o-s),t===o?r=(e-n)/(o-s):e===o?r=2+(n-t)/(o-s):n===o&&(r=4+(t-e)/(o-s)),r*=60,0>r&&(r+=360),[r,a,i]},V=function(){var t,e,n,r,i,o,s,u,a,c;return u=it(arguments),s=u[0],n=u[1],t=u[2],o=Math.min(s,n,t),i=Math.max(s,n,t),e=i-o,c=i/255,0===i?(r=Number.NaN,a=0):(a=e/i,s===i&&(r=(n-t)/e),n===i&&(r=2+(t-s)/e),t===i&&(r=4+(s-n)/e),r*=60,0>r&&(r+=360)),[r,a,c]},K=function(){var t,e,n,r,i,o,s,u;return r=it(arguments),n=r[0],e=r[1],t=r[2],i=X(n,e,t),o=i[0],s=i[1],u=i[2],[116*s-16,500*(o-s),200*(s-u)]},Y=function(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},ot=function(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29},X=function(){var t,e,n,r,i,o,c;return r=it(arguments),n=r[0],e=r[1],t=r[2],n=Y(n),e=Y(e),t=Y(t),i=ot((.4124564*n+.3575761*e+.1804375*t)/s),o=ot((.2126729*n+.7151522*e+.072175*t)/u),c=ot((.0193339*n+.119192*e+.9503041*t)/a),[i,o,c]},G=function(){var t,e,n,r,i,o,s;return o=it(arguments),i=o[0],n=o[1],e=o[2],s=K(i,n,e),r=s[0],t=s[1],e=s[2],N(r,t,e)},J=function(){var t,e,n,r;return r=it(arguments),n=r[0],e=r[1],t=r[2],(n<<16)+(e<<8)+t},nt=function(t){var e,n,r,i;return i=t/100,66>i?(r=255,n=-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*q(n),e=20>i?0:-254.76935184120902+.8274096064007395*(e=i-10)+115.67994401066147*q(e)):(r=351.97690566805693+.114206453784165*(r=i-55)-40.25366309332127*q(r),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*q(n),e=255),v([r,n,e])},H=function(){var t,e,n,r,i,o,s,u,a;for(s=it(arguments),o=s[0],n=s[1],t=s[2],i=1e3,r=4e4,e=.4;r-i>e;)a=.5*(r+i),u=nt(a),u[2]/u[0]>=t/o?r=a:i=a;return Z(a)},d.scale=function(t,e){var n,r,i,o,s,u,a,c,f,h,l,p,v,b,m,y,g,w,_,E,x;return c="rgb",f=d("#ccc"),v=0,s=!1,o=[0,1],r=[],l=!1,p=[],a=0,u=1,i=!1,h=0,n={},_=function(t,e){var n,i,o,s,u,a,c;if(null==t&&(t=["#ddd","#222"]),null!=t&&"string"===rt(t)&&null!=(null!=(s=d.brewer)?s[t]:void 0)&&(t=d.brewer[t]),"array"===rt(t)){for(t=t.slice(0),n=o=0,u=t.length-1;u>=0?u>=o:o>=u;n=u>=0?++o:--o)i=t[n],"string"===rt(i)&&(t[n]=d(i));if(null!=e)p=e;else for(p=[],n=c=0,a=t.length-1;a>=0?a>=c:c>=a;n=a>=0?++c:--c)p.push(n/(t.length-1))}return w(),r=t},E=function(t){return null==t&&(t=[]),o=t,a=t[0],u=t[t.length-1],w(),h=2===t.length?0:t.length-1},y=function(t){var e,n;if(null!=o){for(n=o.length-1,e=0;n>e&&t>=o[e];)e++;return e-1}return 0},x=function(t){return t},b=function(t){var e,n,r,i,s;return s=t,o.length>2&&(i=o.length-1,e=y(t),r=o[0]+(o[1]-o[0])*(0+.5*v),n=o[i-1]+(o[i]-o[i-1])*(1-.5*v),s=a+(o[e]+.5*(o[e+1]-o[e])-r)/(n-r)*(u-a)),s},g=function(t,e){var i,s,l,v,b,m,g,w,_;if(null==e&&(e=!1),isNaN(t))return f;if(e?_=t:o.length>2?(i=y(t),_=i/(h-1)):(_=l=a!==u?(t-a)/(u-a):0,_=l=(t-a)/(u-a),_=Math.min(1,Math.max(0,_))),e||(_=x(_)),b=Math.floor(1e4*_),n[b])s=n[b];else{if("array"===rt(r))for(v=m=0,w=p.length-1;w>=0?w>=m:m>=w;v=w>=0?++m:--m){if(g=p[v],g>=_){s=r[v];break}if(_>=g&&v===p.length-1){s=r[v];break}if(_>g&&_<p[v+1]){_=(_-g)/(p[v+1]-g),s=d.interpolate(r[v],r[v+1],_,c);break}}else"function"===rt(r)&&(s=r(_));n[b]=s}return s},w=function(){return n={}},_(t,e),m=function(t){var e;return e=g(t),l&&e[l]?e[l]():e},m.domain=function(t,e,n,r){var i;return null==n&&(n="e"),arguments.length?(null!=e&&(i=d.analyze(t,r),t=0===e?[i.min,i.max]:d.limits(i,n,e)),E(t),m):o},m.mode=function(t){return arguments.length?(c=t,w(),m):c},m.range=function(t,e){return _(t,e),m},m.out=function(t){return l=t,m},m.spread=function(t){return arguments.length?(v=t,m):v},m.correctLightness=function(t){return arguments.length?(i=t,w(),x=i?function(t){var e,n,r,i,o,s,u,a,c;for(e=g(0,!0).lab()[0],n=g(1,!0).lab()[0],u=e>n,r=g(t,!0).lab()[0],o=e+(n-e)*t,i=r-o,a=0,c=1,s=20;Math.abs(i)>.01&&s-- >0;)!function(){return u&&(i*=-1),0>i?(a=t,t+=.5*(c-t)):(c=t,t+=.5*(a-t)),r=g(t,!0).lab()[0],i=r-o}();return t}:function(t){return t},m):i},m.colors=function(e){var n,r,i,s,u,a;if(null==e&&(e="hex"),
t=[],u=[],o.length>2)for(n=i=1,s=o.length;s>=1?s>i:i>s;n=s>=1?++i:--i)u.push(.5*(o[n-1]+o[n]));else u=o;for(a=0,r=u.length;r>a;a++)n=u[a],t.push(m(n)[e]());return t},m},null==d.scales&&(d.scales={}),d.scales.cool=function(){return d.scale([d.hsl(180,1,.9),d.hsl(250,.7,.4)])},d.scales.hot=function(){return d.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},d.analyze=function(t,e,n){var r,i,o,s,u,a,c;if(u={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==n&&(n=function(){return!0}),r=function(t){null==t||isNaN(t)||(u.values.push(t),u.sum+=t,t<u.min&&(u.min=t),t>u.max&&(u.max=t),u.count+=1)},c=function(t,i){return n(t,i)?r(null!=e&&"function"===rt(e)?e(t):null!=e&&"string"===rt(e)||"number"===rt(e)?t[e]:t):void 0},"array"===rt(t))for(s=0,o=t.length;o>s;s++)a=t[s],c(a);else for(i in t)a=t[i],c(a,i);return u.domain=[u.min,u.max],u.limits=function(t,e){return d.limits(u,t,e)},u},d.limits=function(t,e,n){var r,i,o,s,u,a,c,f,h,l,p,v,b,m,y,g,w,_,x,S,C,k,N,$,A,D,j,O,M,z,I,R,L,T,W,F,B,U,V,K,G,J,H,X,Y,Q,Z,tt,et,nt,it,ot,st,ut,at,ct;if(null==e&&(e="equal"),null==n&&(n=7),"array"===rt(t)&&(t=d.analyze(t)),D=t.min,$=t.max,ot=t.sum,at=t.values.sort(function(t,e){return t-e}),N=[],"c"===e.substr(0,1)&&(N.push(D),N.push($)),"e"===e.substr(0,1)){for(N.push(D),S=R=1,F=n-1;F>=1?F>=R:R>=F;S=F>=1?++R:--R)N.push(D+S/n*($-D));N.push($)}else if("l"===e.substr(0,1)){if(0>=D)throw"Logarithmic scales are only possible for values > 0";for(j=Math.LOG10E*q(D),A=Math.LOG10E*q($),N.push(D),S=ct=1,B=n-1;B>=1?B>=ct:ct>=B;S=B>=1?++ct:--ct)N.push(P(10,j+S/n*(A-j)));N.push($)}else if("q"===e.substr(0,1)){for(N.push(D),S=r=1,H=n-1;H>=1?H>=r:r>=H;S=H>=1?++r:--r)L=at.length*S/n,T=E(L),T===L?N.push(at[T]):(W=L-T,N.push(at[T]*W+at[T+1]*(1-W)));N.push($)}else if("k"===e.substr(0,1)){for(M=at.length,m=new Array(M),_=new Array(n),it=!0,z=0,g=null,g=[],g.push(D),S=i=1,X=n-1;X>=1?X>=i:i>=X;S=X>=1?++i:--i)g.push(D+S/n*($-D));for(g.push($);it;){for(C=o=0,Y=n-1;Y>=0?Y>=o:o>=Y;C=Y>=0?++o:--o)_[C]=0;for(S=s=0,Q=M-1;Q>=0?Q>=s:s>=Q;S=Q>=0?++s:--s){for(ut=at[S],O=Number.MAX_VALUE,C=u=0,Z=n-1;Z>=0?Z>=u:u>=Z;C=Z>=0?++u:--u)x=abs(g[C]-ut),O>x&&(O=x,y=C);_[y]++,m[S]=y}for(I=new Array(n),C=a=0,tt=n-1;tt>=0?tt>=a:a>=tt;C=tt>=0?++a:--a)I[C]=null;for(S=c=0,et=M-1;et>=0?et>=c:c>=et;S=et>=0?++c:--c)w=m[S],null===I[w]?I[w]=at[S]:I[w]+=at[S];for(C=f=0,nt=n-1;nt>=0?nt>=f:f>=nt;C=nt>=0?++f:--f)I[C]*=1/_[C];for(it=!1,C=h=0,U=n-1;U>=0?U>=h:h>=U;C=U>=0?++h:--h)if(I[C]!==g[S]){it=!0;break}g=I,z++,z>200&&(it=!1)}for(k={},C=l=0,V=n-1;V>=0?V>=l:l>=V;C=V>=0?++l:--l)k[C]=[];for(S=p=0,K=M-1;K>=0?K>=p:p>=K;S=K>=0?++p:--p)w=m[S],k[w].push(at[S]);for(st=[],C=v=0,G=n-1;G>=0?G>=v:v>=G;C=G>=0?++v:--v)st.push(k[C][0]),st.push(k[C][k[C].length-1]);for(st=st.sort(function(t,e){return t-e}),N.push(st[0]),S=b=1,J=st.length-1;J>=b;S=b+=2)isNaN(st[S])||N.push(st[S])}return N},d.brewer=l={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},d.colors=b={indigo:"#4b0082",gold:"#ffd700",hotpink:"#ff69b4",firebrick:"#b22222",indianred:"#cd5c5c",yellow:"#ffff00",mistyrose:"#ffe4e1",darkolivegreen:"#556b2f",olive:"#808000",darkseagreen:"#8fbc8f",pink:"#ffc0cb",tomato:"#ff6347",lightcoral:"#f08080",orangered:"#ff4500",navajowhite:"#ffdead",lime:"#00ff00",palegreen:"#98fb98",darkslategrey:"#2f4f4f",greenyellow:"#adff2f",burlywood:"#deb887",seashell:"#fff5ee",mediumspringgreen:"#00fa9a",fuchsia:"#ff00ff",papayawhip:"#ffefd5",blanchedalmond:"#ffebcd",chartreuse:"#7fff00",dimgray:"#696969",black:"#000000",peachpuff:"#ffdab9",springgreen:"#00ff7f",aquamarine:"#7fffd4",white:"#ffffff",orange:"#ffa500",lightsalmon:"#ffa07a",darkslategray:"#2f4f4f",brown:"#a52a2a",ivory:"#fffff0",dodgerblue:"#1e90ff",peru:"#cd853f",lawngreen:"#7cfc00",chocolate:"#d2691e",crimson:"#dc143c",forestgreen:"#228b22",darkgrey:"#a9a9a9",lightseagreen:"#20b2aa",cyan:"#00ffff",mintcream:"#f5fffa",silver:"#c0c0c0",antiquewhite:"#faebd7",mediumorchid:"#ba55d3",skyblue:"#87ceeb",gray:"#808080",darkturquoise:"#00ced1",goldenrod:"#daa520",darkgreen:"#006400",floralwhite:"#fffaf0",darkviolet:"#9400d3",darkgray:"#a9a9a9",moccasin:"#ffe4b5",saddlebrown:"#8b4513",grey:"#808080",darkslateblue:"#483d8b",lightskyblue:"#87cefa",lightpink:"#ffb6c1",mediumvioletred:"#c71585",slategrey:"#708090",red:"#ff0000",deeppink:"#ff1493",limegreen:"#32cd32",darkmagenta:"#8b008b",palegoldenrod:"#eee8aa",plum:"#dda0dd",turquoise:"#40e0d0",lightgrey:"#d3d3d3",lightgoldenrodyellow:"#fafad2",darkgoldenrod:"#b8860b",lavender:"#e6e6fa",maroon:"#800000",yellowgreen:"#9acd32",sandybrown:"#f4a460",thistle:"#d8bfd8",violet:"#ee82ee",navy:"#000080",magenta:"#ff00ff",dimgrey:"#696969",tan:"#d2b48c",rosybrown:"#bc8f8f",olivedrab:"#6b8e23",blue:"#0000ff",lightblue:"#add8e6",ghostwhite:"#f8f8ff",honeydew:"#f0fff0",cornflowerblue:"#6495ed",slateblue:"#6a5acd",linen:"#faf0e6",darkblue:"#00008b",powderblue:"#b0e0e6",seagreen:"#2e8b57",darkkhaki:"#bdb76b",snow:"#fffafa",sienna:"#a0522d",mediumblue:"#0000cd",royalblue:"#4169e1",lightcyan:"#e0ffff",green:"#008000",mediumpurple:"#9370db",midnightblue:"#191970",cornsilk:"#fff8dc",paleturquoise:"#afeeee",bisque:"#ffe4c4",slategray:"#708090",darkcyan:"#008b8b",khaki:"#f0e68c",wheat:"#f5deb3",teal:"#008080",darkorchid:"#9932cc",deepskyblue:"#00bfff",salmon:"#fa8072",darkred:"#8b0000",steelblue:"#4682b4",palevioletred:"#db7093",lightslategray:"#778899",aliceblue:"#f0f8ff",lightslategrey:"#778899",lightgreen:"#90ee90",orchid:"#da70d6",gainsboro:"#dcdcdc",mediumseagreen:"#3cb371",lightgray:"#d3d3d3",mediumturquoise:"#48d1cc",lemonchiffon:"#fffacd",cadetblue:"#5f9ea0",lightyellow:"#ffffe0",lavenderblush:"#fff0f5",coral:"#ff7f50",purple:"#800080",aqua:"#00ffff",whitesmoke:"#f5f5f5",mediumslateblue:"#7b68ee",darkorange:"#ff8c00",mediumaquamarine:"#66cdaa",darksalmon:"#e9967a",beige:"#f5f5dc",blueviolet:"#8a2be2",azure:"#f0ffff",lightsteelblue:"#b0c4de",oldlace:"#fdf5e6",rebeccapurple:"#663399"},rt=function(){var t,e,n,r,i;for(t={},i="Boolean Number String Function Array Date RegExp Undefined Null".split(" "),r=0,e=i.length;e>r;r++)n=i[r],t["[object "+n+"]"]=n.toLowerCase();return function(e){var n;return n=Object.prototype.toString.call(e),t[n]||"object"}}(),M=function(t,e,n){return null==e&&(e=0),null==n&&(n=1),e>t&&(t=e),t>n&&(t=n),t},it=function(t){return t.length>=3?t:t[0]},o=2*Math.PI,i=Math.PI/3,Z=Math.round,m=Math.cos,E=Math.floor,P=Math.pow,q=Math.log,et=Math.sin,c=function(t){var e,n,r,i,o,s,u,a,f,h,l;return t=function(){var e,n,r;for(r=[],n=0,e=t.length;e>n;n++)i=t[n],r.push(d(i));return r}(),2===t.length?(f=function(){var e,n,r;for(r=[],n=0,e=t.length;e>n;n++)i=t[n],r.push(i.lab());return r}(),o=f[0],s=f[1],e=function(t){var e,n;return n=function(){var n,r;for(r=[],e=n=0;2>=n;e=++n)r.push(o[e]+t*(s[e]-o[e]));return r}(),d.lab.apply(d,n)}):3===t.length?(h=function(){var e,n,r;for(r=[],n=0,e=t.length;e>n;n++)i=t[n],r.push(i.lab());return r}(),o=h[0],s=h[1],u=h[2],e=function(t){var e,n;return n=function(){var n,r;for(r=[],e=n=0;2>=n;e=++n)r.push((1-t)*(1-t)*o[e]+2*(1-t)*t*s[e]+t*t*u[e]);return r}(),d.lab.apply(d,n)}):4===t.length?(l=function(){var e,n,r;for(r=[],n=0,e=t.length;e>n;n++)i=t[n],r.push(i.lab());return r}(),o=l[0],s=l[1],u=l[2],a=l[3],e=function(t){var e,n;return n=function(){var n,r;for(r=[],e=n=0;2>=n;e=++n)r.push((1-t)*(1-t)*(1-t)*o[e]+3*(1-t)*(1-t)*t*s[e]+3*(1-t)*t*t*u[e]+t*t*t*a[e]);return r}(),d.lab.apply(d,n)}):5===t.length&&(n=c(t.slice(0,3)),r=c(t.slice(2,5)),e=function(t){return.5>t?n(2*t):r(2*(t-.5))}),e},d.interpolate.bezier=c,f=function(t,e,n){if(!f[n])throw"unknown blend mode "+n;return f[n](t,e)},h=function(t){return function(e,n){var r,i;return r=d(n).rgb(),i=d(e).rgb(),d(t(r,i),"rgb")}},_=function(t){return function(e,n){var r,i,o;for(o=[],r=i=0;3>=i;r=++i)o[r]=t(e[r],n[r]);return o}},L=function(t,e){return t},R=function(t,e){return t*e/255},g=function(t,e){return t>e?e:t},O=function(t,e){return t>e?t:e},tt=function(t,e){return 255*(1-(1-t/255)*(1-e/255))},W=function(t,e){return 128>e?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))},p=function(t,e){return 255*(1-(1-e/255)/(t/255))},w=function(t,e){return 255===t?255:(t=255*(e/255)/(1-t/255),t>255?255:t)},f.normal=h(_(L)),f.multiply=h(_(R)),f.screen=h(_(tt)),f.overlay=h(_(W)),f.darken=h(_(g)),f.lighten=h(_(O)),f.dodge=h(_(w)),f.burn=h(_(p)),d.blend=f,d.cubehelix=function(t,e,n,r,i){var s,u;return null==t&&(t=300),null==e&&(e=-1.5),null==n&&(n=1),null==r&&(r=1),null==i&&(i=[0,1]),u=i[1]-i[0],"array"===rt(n)?(s=n[1]-n[0],0===s&&(n=n[1])):s=0,function(a){var c,f,h,l,p,b,y,g,w;return c=o*((t+120)/360+e*a),y=P(i[0]+u*a,r),b=0!==s?n[0]+a*s:n,f=b*y*(1-y)/2,l=m(c),w=et(c),g=y+f*(-.14861*l+1.78277*w),p=y+f*(-.29227*l-.90649*w),h=y+f*(1.97294*l),d(v([255*g,255*p,255*h]))}}}).call(this)},{}],15:[function(t,e,n){t("../../modules/es6.string.iterator"),t("../../modules/es6.array.from"),e.exports=t("../../modules/$.core").Array.from},{"../../modules/$.core":28,"../../modules/es6.array.from":79,"../../modules/es6.string.iterator":85}],16:[function(t,e,n){t("../modules/web.dom.iterable"),t("../modules/es6.string.iterator"),e.exports=t("../modules/core.get-iterator")},{"../modules/core.get-iterator":77,"../modules/es6.string.iterator":85,"../modules/web.dom.iterable":87}],17:[function(t,e,n){t("../modules/web.dom.iterable"),t("../modules/es6.string.iterator"),e.exports=t("../modules/core.is-iterable")},{"../modules/core.is-iterable":78,"../modules/es6.string.iterator":85,"../modules/web.dom.iterable":87}],18:[function(t,e,n){t("../../modules/es6.object.assign"),e.exports=t("../../modules/$.core").Object.assign},{"../../modules/$.core":28,"../../modules/es6.object.assign":81}],19:[function(t,e,n){var r=t("../../modules/$");e.exports=function(t,e){return r.create(t,e)}},{"../../modules/$":53}],20:[function(t,e,n){t("../../modules/es6.object.set-prototype-of"),e.exports=t("../../modules/$.core").Object.setPrototypeOf},{"../../modules/$.core":28,"../../modules/es6.object.set-prototype-of":82}],21:[function(t,e,n){t("../modules/es6.object.to-string"),t("../modules/es6.string.iterator"),t("../modules/web.dom.iterable"),t("../modules/es6.promise"),e.exports=t("../modules/$.core").Promise},{"../modules/$.core":28,"../modules/es6.object.to-string":83,"../modules/es6.promise":84,"../modules/es6.string.iterator":85,"../modules/web.dom.iterable":87}],22:[function(t,e,n){t("../../modules/es6.symbol"),t("../../modules/es6.object.to-string"),e.exports=t("../../modules/$.core").Symbol},{"../../modules/$.core":28,"../../modules/es6.object.to-string":83,"../../modules/es6.symbol":86}],23:[function(t,e,n){e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],24:[function(t,e,n){e.exports=function(){}},{}],25:[function(t,e,n){var r=t("./$.is-object");e.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},{"./$.is-object":46}],26:[function(t,e,n){var r=t("./$.cof"),i=t("./$.wks")("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=(e=Object(t))[i])?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},{"./$.cof":27,"./$.wks":75}],27:[function(t,e,n){var r={}.toString;e.exports=function(t){return r.call(t).slice(8,-1)}},{}],28:[function(t,e,n){var r=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=r)},{}],29:[function(t,e,n){var r=t("./$.a-function");e.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},{"./$.a-function":23}],30:[function(t,e,n){e.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},{}],31:[function(t,e,n){e.exports=!t("./$.fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./$.fails":35}],32:[function(t,e,n){var r=t("./$.is-object"),i=t("./$.global").document,o=r(i)&&r(i.createElement);e.exports=function(t){return o?i.createElement(t):{}}},{"./$.global":38,"./$.is-object":46}],33:[function(t,e,n){var r=t("./$");e.exports=function(t){var e=r.getKeys(t),n=r.getSymbols;if(n)for(var i,o=n(t),s=r.isEnum,u=0;o.length>u;)s.call(t,i=o[u++])&&e.push(i);return e}},{"./$":53}],34:[function(t,e,n){var r=t("./$.global"),i=t("./$.core"),o=t("./$.ctx"),s="prototype",u=function(t,e,n){var a,c,f,h=t&u.F,l=t&u.G,p=t&u.S,d=t&u.P,v=t&u.B,b=t&u.W,m=l?i:i[e]||(i[e]={}),y=l?r:p?r[e]:(r[e]||{})[s];l&&(n=e);for(a in n)c=!h&&y&&a in y,c&&a in m||(f=c?y[a]:n[a],m[a]=l&&"function"!=typeof y[a]?n[a]:v&&c?o(f,r):b&&y[a]==f?function(t){var e=function(e){return this instanceof t?new t(e):t(e)};return e[s]=t[s],e}(f):d&&"function"==typeof f?o(Function.call,f):f,d&&((m[s]||(m[s]={}))[a]=f))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,e.exports=u},{"./$.core":28,"./$.ctx":29,"./$.global":38}],35:[function(t,e,n){e.exports=function(t){try{return!!t()}catch(e){return!0}}},{}],36:[function(t,e,n){var r=t("./$.ctx"),i=t("./$.iter-call"),o=t("./$.is-array-iter"),s=t("./$.an-object"),u=t("./$.to-length"),a=t("./core.get-iterator-method");e.exports=function(t,e,n,c){var f,h,l,p=a(t),d=r(n,c,e?2:1),v=0;if("function"!=typeof p)throw TypeError(t+" is not iterable!");if(o(p))for(f=u(t.length);f>v;v++)e?d(s(h=t[v])[0],h[1]):d(t[v]);else for(l=p.call(t);!(h=l.next()).done;)i(l,d,h.value,e)}},{"./$.an-object":25,"./$.ctx":29,"./$.is-array-iter":44,"./$.iter-call":47,"./$.to-length":72,"./core.get-iterator-method":76}],37:[function(t,e,n){var r=t("./$.to-iobject"),i=t("./$").getNames,o={}.toString,s="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(t){try{return i(t)}catch(e){return s.slice()}};e.exports.get=function(t){return s&&"[object Window]"==o.call(t)?u(t):i(r(t))}},{"./$":53,"./$.to-iobject":71}],38:[function(t,e,n){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],39:[function(t,e,n){var r={}.hasOwnProperty;e.exports=function(t,e){return r.call(t,e)}},{}],40:[function(t,e,n){var r=t("./$"),i=t("./$.property-desc");e.exports=t("./$.descriptors")?function(t,e,n){return r.setDesc(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},{"./$":53,"./$.descriptors":31,"./$.property-desc":58}],41:[function(t,e,n){e.exports=t("./$.global").document&&document.documentElement},{"./$.global":38}],42:[function(t,e,n){e.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},{}],43:[function(t,e,n){var r=t("./$.cof");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},{"./$.cof":27}],44:[function(t,e,n){var r=t("./$.iterators"),i=t("./$.wks")("iterator"),o=Array.prototype;e.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},{"./$.iterators":52,"./$.wks":75}],45:[function(t,e,n){var r=t("./$.cof");e.exports=Array.isArray||function(t){return"Array"==r(t)}},{"./$.cof":27}],46:[function(t,e,n){e.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},{}],47:[function(t,e,n){var r=t("./$.an-object");e.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(o){var s=t["return"];throw void 0!==s&&r(s.call(t)),o}}},{"./$.an-object":25}],48:[function(t,e,n){"use strict";var r=t("./$"),i=t("./$.property-desc"),o=t("./$.set-to-string-tag"),s={};t("./$.hide")(s,t("./$.wks")("iterator"),function(){return this}),e.exports=function(t,e,n){t.prototype=r.create(s,{next:i(1,n)}),o(t,e+" Iterator")}},{"./$":53,"./$.hide":40,"./$.property-desc":58,"./$.set-to-string-tag":64,"./$.wks":75}],49:[function(t,e,n){"use strict";var r=t("./$.library"),i=t("./$.export"),o=t("./$.redefine"),s=t("./$.hide"),u=t("./$.has"),a=t("./$.iterators"),c=t("./$.iter-create"),f=t("./$.set-to-string-tag"),h=t("./$").getProto,l=t("./$.wks")("iterator"),p=!([].keys&&"next"in[].keys()),d="@@iterator",v="keys",b="values",m=function(){return this};e.exports=function(t,e,n,y,g,w,_){c(n,e,y);var E,x,S=function(t){if(!p&&t in $)return $[t];switch(t){case v:return function(){return new n(this,t)};case b:return function(){return new n(this,t)}}return function(){return new n(this,t)}},C=e+" Iterator",k=g==b,N=!1,$=t.prototype,A=$[l]||$[d]||g&&$[g],D=A||S(g);if(A){var j=h(D.call(new t));f(j,C,!0),!r&&u($,d)&&s(j,l,m),k&&A.name!==b&&(N=!0,D=function(){return A.call(this)})}if(r&&!_||!p&&!N&&$[l]||s($,l,D),a[e]=D,a[C]=m,g)if(E={values:k?D:S(b),keys:w?D:S(v),entries:k?S("entries"):D},_)for(x in E)x in $||o($,x,E[x]);else i(i.P+i.F*(p||N),e,E);return E}},{"./$":53,"./$.export":34,"./$.has":39,"./$.hide":40,"./$.iter-create":48,"./$.iterators":52,"./$.library":55,"./$.redefine":60,"./$.set-to-string-tag":64,"./$.wks":75}],50:[function(t,e,n){var r=t("./$.wks")("iterator"),i=!1;try{var o=[7][r]();o["return"]=function(){i=!0},Array.from(o,function(){throw 2})}catch(s){}e.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){n=!0},o[r]=function(){return s},t(o)}catch(u){}return n}},{"./$.wks":75}],51:[function(t,e,n){e.exports=function(t,e){return{value:e,done:!!t}}},{}],52:[function(t,e,n){e.exports={}},{}],53:[function(t,e,n){var r=Object;e.exports={create:r.create,getProto:r.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:r.getOwnPropertyDescriptor,setDesc:r.defineProperty,setDescs:r.defineProperties,getKeys:r.keys,getNames:r.getOwnPropertyNames,getSymbols:r.getOwnPropertySymbols,each:[].forEach}},{}],54:[function(t,e,n){var r=t("./$"),i=t("./$.to-iobject");e.exports=function(t,e){for(var n,o=i(t),s=r.getKeys(o),u=s.length,a=0;u>a;)if(o[n=s[a++]]===e)return n}},{"./$":53,"./$.to-iobject":71}],55:[function(t,e,n){e.exports=!0},{}],56:[function(t,e,n){var r,i,o,s=t("./$.global"),u=t("./$.task").set,a=s.MutationObserver||s.WebKitMutationObserver,c=s.process,f=s.Promise,h="process"==t("./$.cof")(c),l=function(){var t,e,n;for(h&&(t=c.domain)&&(c.domain=null,t.exit());r;)e=r.domain,n=r.fn,e&&e.enter(),n(),e&&e.exit(),r=r.next;i=void 0,t&&t.enter()};if(h)o=function(){c.nextTick(l)};else if(a){var p=1,d=document.createTextNode("");new a(l).observe(d,{characterData:!0}),o=function(){d.data=p=-p}}else o=f&&f.resolve?function(){f.resolve().then(l)}:function(){u.call(s,l)};e.exports=function(t){var e={fn:t,next:void 0,domain:h&&c.domain};i&&(i.next=e),r||(r=e,o()),i=e}},{"./$.cof":27,"./$.global":38,"./$.task":69}],57:[function(t,e,n){var r=t("./$"),i=t("./$.to-object"),o=t("./$.iobject");e.exports=t("./$.fails")(function(){var t=Object.assign,e={},n={},r=Symbol(),i="abcdefghijklmnopqrst";return e[r]=7,i.split("").forEach(function(t){n[t]=t}),7!=t({},e)[r]||Object.keys(t({},n)).join("")!=i})?function(t,e){for(var n=i(t),s=arguments,u=s.length,a=1,c=r.getKeys,f=r.getSymbols,h=r.isEnum;u>a;)for(var l,p=o(s[a++]),d=f?c(p).concat(f(p)):c(p),v=d.length,b=0;v>b;)h.call(p,l=d[b++])&&(n[l]=p[l]);return n}:Object.assign},{"./$":53,"./$.fails":35,"./$.iobject":43,"./$.to-object":73}],58:[function(t,e,n){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],59:[function(t,e,n){var r=t("./$.redefine");e.exports=function(t,e){for(var n in e)r(t,n,e[n]);return t}},{"./$.redefine":60}],60:[function(t,e,n){e.exports=t("./$.hide")},{"./$.hide":40}],61:[function(t,e,n){e.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},{}],62:[function(t,e,n){var r=t("./$").getDesc,i=t("./$.is-object"),o=t("./$.an-object"),s=function(t,e){if(o(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,i){try{i=t("./$.ctx")(Function.call,r(Object.prototype,"__proto__").set,2),i(e,[]),n=!(e instanceof Array)}catch(o){n=!0}return function(t,e){return s(t,e),n?t.__proto__=e:i(t,e),t}}({},!1):void 0),check:s}},{"./$":53,"./$.an-object":25,"./$.ctx":29,"./$.is-object":46}],63:[function(t,e,n){"use strict";var r=t("./$.core"),i=t("./$"),o=t("./$.descriptors"),s=t("./$.wks")("species");e.exports=function(t){var e=r[t];o&&e&&!e[s]&&i.setDesc(e,s,{configurable:!0,get:function(){return this}})}},{"./$":53,"./$.core":28,"./$.descriptors":31,"./$.wks":75}],64:[function(t,e,n){var r=t("./$").setDesc,i=t("./$.has"),o=t("./$.wks")("toStringTag");e.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},{"./$":53,"./$.has":39,"./$.wks":75}],65:[function(t,e,n){var r=t("./$.global"),i="__core-js_shared__",o=r[i]||(r[i]={});e.exports=function(t){return o[t]||(o[t]={})}},{"./$.global":38}],66:[function(t,e,n){var r=t("./$.an-object"),i=t("./$.a-function"),o=t("./$.wks")("species");e.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||void 0==(n=r(s)[o])?e:i(n)}},{"./$.a-function":23,"./$.an-object":25,"./$.wks":75}],67:[function(t,e,n){e.exports=function(t,e,n){if(!(t instanceof e))throw TypeError(n+": use the 'new' operator!");return t}},{}],68:[function(t,e,n){var r=t("./$.to-integer"),i=t("./$.defined");e.exports=function(t){return function(e,n){var o,s,u=String(i(e)),a=r(n),c=u.length;return 0>a||a>=c?t?"":void 0:(o=u.charCodeAt(a),55296>o||o>56319||a+1===c||(s=u.charCodeAt(a+1))<56320||s>57343?t?u.charAt(a):o:t?u.slice(a,a+2):(o-55296<<10)+(s-56320)+65536)}}},{"./$.defined":30,"./$.to-integer":70}],69:[function(t,e,n){var r,i,o,s=t("./$.ctx"),u=t("./$.invoke"),a=t("./$.html"),c=t("./$.dom-create"),f=t("./$.global"),h=f.process,l=f.setImmediate,p=f.clearImmediate,d=f.MessageChannel,v=0,b={},m="onreadystatechange",y=function(){var t=+this;if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}},g=function(t){y.call(t.data)};l&&p||(l=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return b[++v]=function(){u("function"==typeof t?t:Function(t),e)},r(v),v},p=function(t){delete b[t]},"process"==t("./$.cof")(h)?r=function(t){h.nextTick(s(y,t,1))}:d?(i=new d,o=i.port2,i.port1.onmessage=g,r=s(o.postMessage,o,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(t){f.postMessage(t+"","*")},f.addEventListener("message",g,!1)):r=m in c("script")?function(t){a.appendChild(c("script"))[m]=function(){a.removeChild(this),y.call(t)}}:function(t){setTimeout(s(y,t,1),0)}),e.exports={set:l,clear:p}},{"./$.cof":27,"./$.ctx":29,"./$.dom-create":32,"./$.global":38,"./$.html":41,"./$.invoke":42}],70:[function(t,e,n){var r=Math.ceil,i=Math.floor;e.exports=function(t){return isNaN(t=+t)?0:(t>0?i:r)(t)}},{}],71:[function(t,e,n){var r=t("./$.iobject"),i=t("./$.defined");e.exports=function(t){return r(i(t))}},{"./$.defined":30,"./$.iobject":43}],72:[function(t,e,n){var r=t("./$.to-integer"),i=Math.min;e.exports=function(t){return t>0?i(r(t),9007199254740991):0}},{"./$.to-integer":70}],73:[function(t,e,n){var r=t("./$.defined");e.exports=function(t){return Object(r(t))}},{"./$.defined":30}],74:[function(t,e,n){var r=0,i=Math.random();e.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+i).toString(36))}},{}],75:[function(t,e,n){var r=t("./$.shared")("wks"),i=t("./$.uid"),o=t("./$.global").Symbol;e.exports=function(t){return r[t]||(r[t]=o&&o[t]||(o||i)("Symbol."+t))}},{"./$.global":38,"./$.shared":65,"./$.uid":74}],76:[function(t,e,n){var r=t("./$.classof"),i=t("./$.wks")("iterator"),o=t("./$.iterators");e.exports=t("./$.core").getIteratorMethod=function(t){return void 0!=t?t[i]||t["@@iterator"]||o[r(t)]:void 0}},{"./$.classof":26,"./$.core":28,"./$.iterators":52,"./$.wks":75}],77:[function(t,e,n){var r=t("./$.an-object"),i=t("./core.get-iterator-method");e.exports=t("./$.core").getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},{"./$.an-object":25,"./$.core":28,"./core.get-iterator-method":76}],78:[function(t,e,n){var r=t("./$.classof"),i=t("./$.wks")("iterator"),o=t("./$.iterators");e.exports=t("./$.core").isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||o.hasOwnProperty(r(e))}},{"./$.classof":26,"./$.core":28,"./$.iterators":52,"./$.wks":75}],79:[function(t,e,n){"use strict";var r=t("./$.ctx"),i=t("./$.export"),o=t("./$.to-object"),s=t("./$.iter-call"),u=t("./$.is-array-iter"),a=t("./$.to-length"),c=t("./core.get-iterator-method");i(i.S+i.F*!t("./$.iter-detect")(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,f,h=o(t),l="function"==typeof this?this:Array,p=arguments,d=p.length,v=d>1?p[1]:void 0,b=void 0!==v,m=0,y=c(h);if(b&&(v=r(v,d>2?p[2]:void 0,2)),void 0==y||l==Array&&u(y))for(e=a(h.length),n=new l(e);e>m;m++)n[m]=b?v(h[m],m):h[m];else for(f=y.call(h),n=new l;!(i=f.next()).done;m++)n[m]=b?s(f,v,[i.value,m],!0):i.value;return n.length=m,n}})},{"./$.ctx":29,"./$.export":34,"./$.is-array-iter":44,"./$.iter-call":47,"./$.iter-detect":50,"./$.to-length":72,"./$.to-object":73,"./core.get-iterator-method":76}],80:[function(t,e,n){"use strict";var r=t("./$.add-to-unscopables"),i=t("./$.iter-step"),o=t("./$.iterators"),s=t("./$.to-iobject");e.exports=t("./$.iter-define")(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},{"./$.add-to-unscopables":24,"./$.iter-define":49,"./$.iter-step":51,"./$.iterators":52,"./$.to-iobject":71}],81:[function(t,e,n){var r=t("./$.export");r(r.S+r.F,"Object",{assign:t("./$.object-assign")})},{"./$.export":34,"./$.object-assign":57}],82:[function(t,e,n){var r=t("./$.export");r(r.S,"Object",{setPrototypeOf:t("./$.set-proto").set})},{"./$.export":34,"./$.set-proto":62}],83:[function(t,e,n){},{}],84:[function(t,e,n){"use strict";var r,i=t("./$"),o=t("./$.library"),s=t("./$.global"),u=t("./$.ctx"),a=t("./$.classof"),c=t("./$.export"),f=t("./$.is-object"),h=t("./$.an-object"),l=t("./$.a-function"),p=t("./$.strict-new"),d=t("./$.for-of"),v=t("./$.set-proto").set,b=t("./$.same-value"),m=t("./$.wks")("species"),y=t("./$.species-constructor"),g=t("./$.microtask"),w="Promise",_=s.process,E="process"==a(_),x=s[w],S=function(t){var e=new x(function(){});return t&&(e.constructor=Object),x.resolve(e)===e},C=function(){function e(t){var n=new x(t);return v(n,e.prototype),n}var n=!1;try{if(n=x&&x.resolve&&S(),v(e,x),e.prototype=i.create(x.prototype,{constructor:{value:e}}),e.resolve(5).then(function(){})instanceof e||(n=!1),n&&t("./$.descriptors")){var r=!1;x.resolve(i.setDesc({},"then",{get:function(){r=!0}})),n=r}}catch(o){n=!1}return n}(),k=function(t,e){return o&&t===x&&e===r?!0:b(t,e)},N=function(t){var e=h(t)[m];return void 0!=e?e:t},$=function(t){var e;return f(t)&&"function"==typeof(e=t.then)?e:!1},A=function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=l(e),this.reject=l(n)},D=function(t){try{t()}catch(e){return{error:e}}},j=function(t,e){if(!t.n){t.n=!0;var n=t.c;g(function(){for(var r=t.v,i=1==t.s,o=0,u=function(e){var n,o,s=i?e.ok:e.fail,u=e.resolve,a=e.reject;try{s?(i||(t.h=!0),n=s===!0?r:s(r),n===e.promise?a(TypeError("Promise-chain cycle")):(o=$(n))?o.call(n,u,a):u(n)):a(r)}catch(c){a(c)}};n.length>o;)u(n[o++]);n.length=0,t.n=!1,e&&setTimeout(function(){var e,n,i=t.p;O(i)&&(E?_.emit("unhandledRejection",r,i):(e=s.onunhandledrejection)?e({promise:i,reason:r}):(n=s.console)&&n.error&&n.error("Unhandled promise rejection",r)),t.a=void 0},1)})}},O=function(t){var e,n=t._d,r=n.a||n.c,i=0;if(n.h)return!1;for(;r.length>i;)if(e=r[i++],e.fail||!O(e.promise))return!1;return!0},M=function(t){var e=this;e.d||(e.d=!0,e=e.r||e,e.v=t,e.s=2,e.a=e.c.slice(),j(e,!0))},q=function(t){var e,n=this;if(!n.d){n.d=!0,n=n.r||n;try{if(n.p===t)throw TypeError("Promise can't be resolved itself");(e=$(t))?g(function(){var r={r:n,d:!1};try{e.call(t,u(q,r,1),u(M,r,1))}catch(i){M.call(r,i)}}):(n.v=t,n.s=1,j(n,!1))}catch(r){M.call({r:n,d:!1},r)}}};C||(x=function(t){l(t);var e=this._d={p:p(this,x,w),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1,n:!1};try{t(u(q,e,1),u(M,e,1))}catch(n){M.call(e,n)}},t("./$.redefine-all")(x.prototype,{
then:function(t,e){var n=new A(y(this,x)),r=n.promise,i=this._d;return n.ok="function"==typeof t?t:!0,n.fail="function"==typeof e&&e,i.c.push(n),i.a&&i.a.push(n),i.s&&j(i,!1),r},"catch":function(t){return this.then(void 0,t)}})),c(c.G+c.W+c.F*!C,{Promise:x}),t("./$.set-to-string-tag")(x,w),t("./$.set-species")(w),r=t("./$.core")[w],c(c.S+c.F*!C,w,{reject:function(t){var e=new A(this),n=e.reject;return n(t),e.promise}}),c(c.S+c.F*(!C||S(!0)),w,{resolve:function(t){if(t instanceof x&&k(t.constructor,this))return t;var e=new A(this),n=e.resolve;return n(t),e.promise}}),c(c.S+c.F*!(C&&t("./$.iter-detect")(function(t){x.all(t)["catch"](function(){})})),w,{all:function(t){var e=N(this),n=new A(e),r=n.resolve,o=n.reject,s=[],u=D(function(){d(t,!1,s.push,s);var n=s.length,u=Array(n);n?i.each.call(s,function(t,i){var s=!1;e.resolve(t).then(function(t){s||(s=!0,u[i]=t,--n||r(u))},o)}):r(u)});return u&&o(u.error),n.promise},race:function(t){var e=N(this),n=new A(e),r=n.reject,i=D(function(){d(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i&&r(i.error),n.promise}})},{"./$":53,"./$.a-function":23,"./$.an-object":25,"./$.classof":26,"./$.core":28,"./$.ctx":29,"./$.descriptors":31,"./$.export":34,"./$.for-of":36,"./$.global":38,"./$.is-object":46,"./$.iter-detect":50,"./$.library":55,"./$.microtask":56,"./$.redefine-all":59,"./$.same-value":61,"./$.set-proto":62,"./$.set-species":63,"./$.set-to-string-tag":64,"./$.species-constructor":66,"./$.strict-new":67,"./$.wks":75}],85:[function(t,e,n){"use strict";var r=t("./$.string-at")(!0);t("./$.iter-define")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},{"./$.iter-define":49,"./$.string-at":68}],86:[function(t,e,n){"use strict";var r=t("./$"),i=t("./$.global"),o=t("./$.has"),s=t("./$.descriptors"),u=t("./$.export"),a=t("./$.redefine"),c=t("./$.fails"),f=t("./$.shared"),h=t("./$.set-to-string-tag"),l=t("./$.uid"),p=t("./$.wks"),d=t("./$.keyof"),v=t("./$.get-names"),b=t("./$.enum-keys"),m=t("./$.is-array"),y=t("./$.an-object"),g=t("./$.to-iobject"),w=t("./$.property-desc"),_=r.getDesc,E=r.setDesc,x=r.create,S=v.get,C=i.Symbol,k=i.JSON,N=k&&k.stringify,$=!1,A=p("_hidden"),D=r.isEnum,j=f("symbol-registry"),O=f("symbols"),M="function"==typeof C,q=Object.prototype,z=s&&c(function(){return 7!=x(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=_(q,e);r&&delete q[e],E(t,e,n),r&&t!==q&&E(q,e,r)}:E,I=function(t){var e=O[t]=x(C.prototype);return e._k=t,s&&$&&z(q,t,{configurable:!0,set:function(e){o(this,A)&&o(this[A],t)&&(this[A][t]=!1),z(this,t,w(1,e))}}),e},R=function(t){return"symbol"==typeof t},L=function(t,e,n){return n&&o(O,e)?(n.enumerable?(o(t,A)&&t[A][e]&&(t[A][e]=!1),n=x(n,{enumerable:w(0,!1)})):(o(t,A)||E(t,A,w(1,{})),t[A][e]=!0),z(t,e,n)):E(t,e,n)},T=function(t,e){y(t);for(var n,r=b(e=g(e)),i=0,o=r.length;o>i;)L(t,n=r[i++],e[n]);return t},W=function(t,e){return void 0===e?x(t):T(x(t),e)},P=function(t){var e=D.call(this,t);return e||!o(this,t)||!o(O,t)||o(this,A)&&this[A][t]?e:!0},F=function(t,e){var n=_(t=g(t),e);return!n||!o(O,e)||o(t,A)&&t[A][e]||(n.enumerable=!0),n},B=function(t){for(var e,n=S(g(t)),r=[],i=0;n.length>i;)o(O,e=n[i++])||e==A||r.push(e);return r},U=function(t){for(var e,n=S(g(t)),r=[],i=0;n.length>i;)o(O,e=n[i++])&&r.push(O[e]);return r},V=function(t){if(void 0!==t&&!R(t)){for(var e,n,r=[t],i=1,o=arguments;o.length>i;)r.push(o[i++]);return e=r[1],"function"==typeof e&&(n=e),(n||!m(e))&&(e=function(t,e){return n&&(e=n.call(this,t,e)),R(e)?void 0:e}),r[1]=e,N.apply(k,r)}},K=c(function(){var t=C();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))});M||(C=function(){if(R(this))throw TypeError("Symbol is not a constructor");return I(l(arguments.length>0?arguments[0]:void 0))},a(C.prototype,"toString",function(){return this._k}),R=function(t){return t instanceof C},r.create=W,r.isEnum=P,r.getDesc=F,r.setDesc=L,r.setDescs=T,r.getNames=v.get=B,r.getSymbols=U,s&&!t("./$.library")&&a(q,"propertyIsEnumerable",P,!0));var G={"for":function(t){return o(j,t+="")?j[t]:j[t]=C(t)},keyFor:function(t){return d(j,t)},useSetter:function(){$=!0},useSimple:function(){$=!1}};r.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(t){var e=p(t);G[t]=M?e:I(e)}),$=!0,u(u.G+u.W,{Symbol:C}),u(u.S,"Symbol",G),u(u.S+u.F*!M,"Object",{create:W,defineProperty:L,defineProperties:T,getOwnPropertyDescriptor:F,getOwnPropertyNames:B,getOwnPropertySymbols:U}),k&&u(u.S+u.F*(!M||K),"JSON",{stringify:V}),h(C,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},{"./$":53,"./$.an-object":25,"./$.descriptors":31,"./$.enum-keys":33,"./$.export":34,"./$.fails":35,"./$.get-names":37,"./$.global":38,"./$.has":39,"./$.is-array":45,"./$.keyof":54,"./$.library":55,"./$.property-desc":58,"./$.redefine":60,"./$.set-to-string-tag":64,"./$.shared":65,"./$.to-iobject":71,"./$.uid":74,"./$.wks":75}],87:[function(t,e,n){t("./es6.array.iterator");var r=t("./$.iterators");r.NodeList=r.HTMLCollection=r.Array},{"./$.iterators":52,"./es6.array.iterator":80}],88:[function(t,e,n){!function(t,r){"object"==typeof n&&"undefined"!=typeof e?e.exports=r():"function"==typeof define&&define.amd?define(r):t.Immutable=r()}(this,function(){"use strict";function t(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function e(t){return o(t)?t:A(t)}function n(t){return s(t)?t:D(t)}function r(t){return u(t)?t:j(t)}function i(t){return o(t)&&!a(t)?t:O(t)}function o(t){return!(!t||!t[cn])}function s(t){return!(!t||!t[fn])}function u(t){return!(!t||!t[hn])}function a(t){return s(t)||u(t)}function c(t){return!(!t||!t[ln])}function f(t){return t.value=!1,t}function h(t){t&&(t.value=!0)}function l(){}function p(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),i=0;n>i;i++)r[i]=t[i+e];return r}function d(t){return void 0===t.size&&(t.size=t.__iterate(b)),t.size}function v(t,e){if("number"!=typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return 0>e?d(t)+e:e}function b(){return!0}function m(t,e,n){return(0===t||void 0!==n&&-n>=t)&&(void 0===e||void 0!==n&&e>=n)}function y(t,e){return w(t,e,0)}function g(t,e){return w(t,e,e)}function w(t,e,n){return void 0===t?n:0>t?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}function _(t){this.next=t}function E(t,e,n,r){var i=0===t?e:1===t?n:[e,n];return r?r.value=i:r={value:i,done:!1},r}function x(){return{value:void 0,done:!0}}function S(t){return!!N(t)}function C(t){return t&&"function"==typeof t.next}function k(t){var e=N(t);return e&&e.call(t)}function N(t){var e=t&&(xn&&t[xn]||t[Sn]);return"function"==typeof e?e:void 0}function $(t){return t&&"number"==typeof t.length}function A(t){return null===t||void 0===t?L():o(t)?t.toSeq():P(t)}function D(t){return null===t||void 0===t?L().toKeyedSeq():o(t)?s(t)?t.toSeq():t.fromEntrySeq():T(t)}function j(t){return null===t||void 0===t?L():o(t)?s(t)?t.entrySeq():t.toIndexedSeq():W(t)}function O(t){return(null===t||void 0===t?L():o(t)?s(t)?t.entrySeq():t:W(t)).toSetSeq()}function M(t){this._array=t,this.size=t.length}function q(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function z(t){this._iterable=t,this.size=t.length||t.size}function I(t){this._iterator=t,this._iteratorCache=[]}function R(t){return!(!t||!t[kn])}function L(){return Nn||(Nn=new M([]))}function T(t){var e=Array.isArray(t)?new M(t).fromEntrySeq():C(t)?new I(t).fromEntrySeq():S(t)?new z(t).fromEntrySeq():"object"==typeof t?new q(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function W(t){var e=F(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function P(t){var e=F(t)||"object"==typeof t&&new q(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}function F(t){return $(t)?new M(t):C(t)?new I(t):S(t)?new z(t):void 0}function B(t,e,n,r){var i=t._cache;if(i){for(var o=i.length-1,s=0;o>=s;s++){var u=i[n?o-s:s];if(e(u[1],r?u[0]:s,t)===!1)return s+1}return s}return t.__iterateUncached(e,n)}function U(t,e,n,r){var i=t._cache;if(i){var o=i.length-1,s=0;return new _(function(){var t=i[n?o-s:s];return s++>o?x():E(e,r?t[0]:s-1,t[1])})}return t.__iteratorUncached(e,n)}function V(t,e){return e?K(e,t,"",{"":t}):G(t)}function K(t,e,n,r){return Array.isArray(e)?t.call(r,n,j(e).map(function(n,r){return K(t,n,r,e)})):J(e)?t.call(r,n,D(e).map(function(n,r){return K(t,n,r,e)})):e}function G(t){return Array.isArray(t)?j(t).map(G).toList():J(t)?D(t).map(G).toMap():t}function J(t){return t&&(t.constructor===Object||void 0===t.constructor)}function H(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return"function"==typeof t.equals&&"function"==typeof e.equals&&t.equals(e)?!0:!1}function X(t,e){if(t===e)return!0;if(!o(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||s(t)!==s(e)||u(t)!==u(e)||c(t)!==c(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!a(t);if(c(t)){var r=t.entries();return e.every(function(t,e){var i=r.next().value;return i&&H(i[1],t)&&(n||H(i[0],e))})&&r.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{i=!0;var f=t;t=e,e=f}var h=!0,l=e.__iterate(function(e,r){return(n?t.has(e):i?H(e,t.get(r,mn)):H(t.get(r,mn),e))?void 0:(h=!1,!1)});return h&&t.size===l}function Y(t,e){if(!(this instanceof Y))return new Y(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if($n)return $n;$n=this}}function Q(t,e){if(!t)throw new Error(e)}function Z(t,e,n){if(!(this instanceof Z))return new Z(t,e,n);if(Q(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),t>e&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(An)return An;An=this}}function tt(){throw TypeError("Abstract")}function et(){}function nt(){}function rt(){}function it(t){return t>>>1&1073741824|3221225471&t}function ot(t){if(t===!1||null===t||void 0===t)return 0;if("function"==typeof t.valueOf&&(t=t.valueOf(),t===!1||null===t||void 0===t))return 0;if(t===!0)return 1;var e=typeof t;if("number"===e){var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)t/=4294967295,n^=t;return it(n)}if("string"===e)return t.length>Rn?st(t):ut(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return at(t);if("function"==typeof t.toString)return ut(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function st(t){var e=Wn[t];return void 0===e&&(e=ut(t),Tn===Ln&&(Tn=0,Wn={}),Tn++,Wn[t]=e),e}function ut(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return it(e)}function at(t){var e;if(qn&&(e=Dn.get(t),void 0!==e))return e;if(e=t[In],void 0!==e)return e;if(!Mn){if(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[In],void 0!==e)return e;if(e=ct(t),void 0!==e)return e}if(e=++zn,1073741824&zn&&(zn=0),qn)Dn.set(t,e);else{if(void 0!==On&&On(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Mn)Object.defineProperty(t,In,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[In]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[In]=e}}return e}function ct(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function ft(t){Q(t!==1/0,"Cannot perform this action with an infinite size.")}function ht(t){return null===t||void 0===t?Et():lt(t)&&!c(t)?t:Et().withMutations(function(e){var r=n(t);ft(r.size),r.forEach(function(t,n){return e.set(n,t)})})}function lt(t){return!(!t||!t[Pn])}function pt(t,e){this.ownerID=t,this.entries=e}function dt(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function vt(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function bt(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function mt(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function yt(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&wt(t._root)}function gt(t,e){return E(t,e[0],e[1])}function wt(t,e){return{node:t,index:0,__prev:e}}function _t(t,e,n,r){var i=Object.create(Fn);return i.size=t,i._root=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Et(){return Bn||(Bn=_t(0))}function xt(t,e,n){var r,i;if(t._root){var o=f(yn),s=f(gn);if(r=St(t._root,t.__ownerID,0,void 0,e,n,o,s),!s.value)return t;i=t.size+(o.value?n===mn?-1:1:0)}else{if(n===mn)return t;i=1,r=new pt(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=i,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?_t(i,r):Et()}function St(t,e,n,r,i,o,s,u){return t?t.update(e,n,r,i,o,s,u):o===mn?t:(h(u),h(s),new mt(e,r,[i,o]))}function Ct(t){return t.constructor===mt||t.constructor===bt}function kt(t,e,n,r,i){if(t.keyHash===r)return new bt(e,r,[t.entry,i]);var o,s=(0===n?t.keyHash:t.keyHash>>>n)&bn,u=(0===n?r:r>>>n)&bn,a=s===u?[kt(t,e,n+dn,r,i)]:(o=new mt(e,r,i),u>s?[t,o]:[o,t]);return new dt(e,1<<s|1<<u,a)}function Nt(t,e,n,r){t||(t=new l);for(var i=new mt(t,ot(n),[n,r]),o=0;o<e.length;o++){var s=e[o];i=i.update(t,0,void 0,s[0],s[1])}return i}function $t(t,e,n,r){for(var i=0,o=0,s=new Array(n),u=0,a=1,c=e.length;c>u;u++,a<<=1){var f=e[u];void 0!==f&&u!==r&&(i|=a,s[o++]=f)}return new dt(t,i,s)}function At(t,e,n,r,i){for(var o=0,s=new Array(vn),u=0;0!==n;u++,n>>>=1)s[u]=1&n?e[o++]:void 0;return s[r]=i,new vt(t,o+1,s)}function Dt(t,e,r){for(var i=[],s=0;s<r.length;s++){var u=r[s],a=n(u);o(u)||(a=a.map(function(t){return V(t)})),i.push(a)}return Mt(t,e,i)}function jt(t,e,n){return t&&t.mergeDeep&&o(e)?t.mergeDeep(e):H(t,e)?t:e}function Ot(t){return function(e,n,r){if(e&&e.mergeDeepWith&&o(n))return e.mergeDeepWith(t,n);var i=t(e,n,r);return H(e,i)?e:i}}function Mt(t,e,n){return n=n.filter(function(t){return 0!==t.size}),0===n.length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations(function(t){for(var r=e?function(n,r){t.update(r,mn,function(t){return t===mn?n:e(t,n,r)})}:function(e,n){t.set(n,e)},i=0;i<n.length;i++)n[i].forEach(r)}):t.constructor(n[0])}function qt(t,e,n,r){var i=t===mn,o=e.next();if(o.done){var s=i?n:t,u=r(s);return u===s?t:u}Q(i||t&&t.set,"invalid keyPath");var a=o.value,c=i?mn:t.get(a,mn),f=qt(c,e,n,r);return f===c?t:f===mn?t.remove(a):(i?Et():t).set(a,f)}function zt(t){return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,127&t}function It(t,e,n,r){var i=r?t:p(t);return i[e]=n,i}function Rt(t,e,n,r){var i=t.length+1;if(r&&e+1===i)return t[e]=n,t;for(var o=new Array(i),s=0,u=0;i>u;u++)u===e?(o[u]=n,s=-1):o[u]=t[u+s];return o}function Lt(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var i=new Array(r),o=0,s=0;r>s;s++)s===e&&(o=1),i[s]=t[s+o];return i}function Tt(t){var e=Ut();if(null===t||void 0===t)return e;if(Wt(t))return t;var n=r(t),i=n.size;return 0===i?e:(ft(i),i>0&&vn>i?Bt(0,i,dn,null,new Pt(n.toArray())):e.withMutations(function(t){t.setSize(i),n.forEach(function(e,n){return t.set(n,e)})}))}function Wt(t){return!(!t||!t[Gn])}function Pt(t,e){this.array=t,this.ownerID=e}function Ft(t,e){function n(t,e,n){return 0===e?r(t,n):i(t,e,n)}function r(t,n){var r=n===u?a&&a.array:t&&t.array,i=n>o?0:o-n,c=s-n;return c>vn&&(c=vn),function(){if(i===c)return Xn;var t=e?--c:i++;return r&&r[t]}}function i(t,r,i){var u,a=t&&t.array,c=i>o?0:o-i>>r,f=(s-i>>r)+1;return f>vn&&(f=vn),function(){for(;;){if(u){var t=u();if(t!==Xn)return t;u=null}if(c===f)return Xn;var o=e?--f:c++;u=n(a&&a[o],r-dn,i+(o<<r))}}}var o=t._origin,s=t._capacity,u=Yt(s),a=t._tail;return n(t._root,t._level,0)}function Bt(t,e,n,r,i,o,s){var u=Object.create(Jn);return u.size=e-t,u._origin=t,u._capacity=e,u._level=n,u._root=r,u._tail=i,u.__ownerID=o,u.__hash=s,u.__altered=!1,u}function Ut(){return Hn||(Hn=Bt(0,0,dn))}function Vt(t,e,n){if(e=v(t,e),e!==e)return t;if(e>=t.size||0>e)return t.withMutations(function(t){0>e?Ht(t,e).set(0,n):Ht(t,0,e+1).set(e,n)});e+=t._origin;var r=t._tail,i=t._root,o=f(gn);return e>=Yt(t._capacity)?r=Kt(r,t.__ownerID,0,e,n,o):i=Kt(i,t.__ownerID,t._level,e,n,o),o.value?t.__ownerID?(t._root=i,t._tail=r,t.__hash=void 0,t.__altered=!0,t):Bt(t._origin,t._capacity,t._level,i,r):t}function Kt(t,e,n,r,i,o){var s=r>>>n&bn,u=t&&s<t.array.length;if(!u&&void 0===i)return t;var a;if(n>0){var c=t&&t.array[s],f=Kt(c,e,n-dn,r,i,o);return f===c?t:(a=Gt(t,e),a.array[s]=f,a)}return u&&t.array[s]===i?t:(h(o),a=Gt(t,e),void 0===i&&s===a.array.length-1?a.array.pop():a.array[s]=i,a)}function Gt(t,e){return e&&t&&e===t.ownerID?t:new Pt(t?t.array.slice():[],e)}function Jt(t,e){if(e>=Yt(t._capacity))return t._tail;if(e<1<<t._level+dn){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&bn],r-=dn;return n}}function Ht(t,e,n){void 0!==e&&(e=0|e),void 0!==n&&(n=0|n);var r=t.__ownerID||new l,i=t._origin,o=t._capacity,s=i+e,u=void 0===n?o:0>n?o+n:i+n;if(s===i&&u===o)return t;if(s>=u)return t.clear();for(var a=t._level,c=t._root,f=0;0>s+f;)c=new Pt(c&&c.array.length?[void 0,c]:[],r),a+=dn,f+=1<<a;f&&(s+=f,i+=f,u+=f,o+=f);for(var h=Yt(o),p=Yt(u);p>=1<<a+dn;)c=new Pt(c&&c.array.length?[c]:[],r),a+=dn;var d=t._tail,v=h>p?Jt(t,u-1):p>h?new Pt([],r):d;if(d&&p>h&&o>s&&d.array.length){c=Gt(c,r);for(var b=c,m=a;m>dn;m-=dn){var y=h>>>m&bn;b=b.array[y]=Gt(b.array[y],r)}b.array[h>>>dn&bn]=d}if(o>u&&(v=v&&v.removeAfter(r,0,u)),s>=p)s-=p,u-=p,a=dn,c=null,v=v&&v.removeBefore(r,0,s);else if(s>i||h>p){for(f=0;c;){var g=s>>>a&bn;if(g!==p>>>a&bn)break;g&&(f+=(1<<a)*g),a-=dn,c=c.array[g]}c&&s>i&&(c=c.removeBefore(r,a,s-f)),c&&h>p&&(c=c.removeAfter(r,a,p-f)),f&&(s-=f,u-=f)}return t.__ownerID?(t.size=u-s,t._origin=s,t._capacity=u,t._level=a,t._root=c,t._tail=v,t.__hash=void 0,t.__altered=!0,t):Bt(s,u,a,c,v)}function Xt(t,e,n){for(var i=[],s=0,u=0;u<n.length;u++){var a=n[u],c=r(a);c.size>s&&(s=c.size),o(a)||(c=c.map(function(t){return V(t)})),i.push(c)}return s>t.size&&(t=t.setSize(s)),Mt(t,e,i)}function Yt(t){return vn>t?0:t-1>>>dn<<dn}function Qt(t){return null===t||void 0===t?ee():Zt(t)?t:ee().withMutations(function(e){var r=n(t);ft(r.size),r.forEach(function(t,n){return e.set(n,t)})})}function Zt(t){return lt(t)&&c(t)}function te(t,e,n,r){var i=Object.create(Qt.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=n,i.__hash=r,i}function ee(){return Yn||(Yn=te(Et(),Ut()))}function ne(t,e,n){var r,i,o=t._map,s=t._list,u=o.get(e),a=void 0!==u;if(n===mn){if(!a)return t;s.size>=vn&&s.size>=2*o.size?(i=s.filter(function(t,e){return void 0!==t&&u!==e}),r=i.toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(r.__ownerID=i.__ownerID=t.__ownerID)):(r=o.remove(e),i=u===s.size-1?s.pop():s.set(u,void 0))}else if(a){if(n===s.get(u)[1])return t;r=o,i=s.set(u,[e,n])}else r=o.set(e,s.size),i=s.set(s.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=i,t.__hash=void 0,t):te(r,i)}function re(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function ie(t){this._iter=t,this.size=t.size}function oe(t){this._iter=t,this.size=t.size}function se(t){this._iter=t,this.size=t.size}function ue(t){var e=$e(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=Ae,e.__iterateUncached=function(e,n){var r=this;return t.__iterate(function(t,n){return e(n,t,r)!==!1},n)},e.__iteratorUncached=function(e,n){if(e===En){var r=t.__iterator(e,n);return new _(function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===_n?wn:_n,n)},e}function ae(t,e,n){var r=$e(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,i){var o=t.get(r,mn);return o===mn?i:e.call(n,o,r,t)},r.__iterateUncached=function(r,i){var o=this;return t.__iterate(function(t,i,s){return r(e.call(n,t,i,s),i,o)!==!1},i)},r.__iteratorUncached=function(r,i){var o=t.__iterator(En,i);return new _(function(){var i=o.next();if(i.done)return i;var s=i.value,u=s[0];return E(r,u,e.call(n,s[1],u,t),i)})},r}function ce(t,e){var n=$e(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=ue(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,r){return t.get(e?n:-1-n,r)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=Ae,n.__iterate=function(e,n){var r=this;return t.__iterate(function(t,n){return e(t,n,r)},!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function fe(t,e,n,r){var i=$e(t);return r&&(i.has=function(r){var i=t.get(r,mn);return i!==mn&&!!e.call(n,i,r,t)},i.get=function(r,i){var o=t.get(r,mn);return o!==mn&&e.call(n,o,r,t)?o:i}),i.__iterateUncached=function(i,o){var s=this,u=0;return t.__iterate(function(t,o,a){return e.call(n,t,o,a)?(u++,i(t,r?o:u-1,s)):void 0},o),u},i.__iteratorUncached=function(i,o){var s=t.__iterator(En,o),u=0;return new _(function(){for(;;){var o=s.next();if(o.done)return o;var a=o.value,c=a[0],f=a[1];if(e.call(n,f,c,t))return E(i,r?c:u++,f,o)}})},i}function he(t,e,n){var r=ht().asMutable();return t.__iterate(function(i,o){r.update(e.call(n,i,o,t),0,function(t){return t+1})}),r.asImmutable()}function le(t,e,n){var r=s(t),i=(c(t)?Qt():ht()).asMutable();t.__iterate(function(o,s){i.update(e.call(n,o,s,t),function(t){return t=t||[],t.push(r?[s,o]:o),t})});var o=Ne(t);return i.map(function(e){return Se(t,o(e))})}function pe(t,e,n,r){var i=t.size;if(void 0!==e&&(e=0|e),void 0!==n&&(n=0|n),m(e,n,i))return t;var o=y(e,i),s=g(n,i);if(o!==o||s!==s)return pe(t.toSeq().cacheResult(),e,n,r);var u,a=s-o;a===a&&(u=0>a?0:a);var c=$e(t);return c.size=0===u?u:t.size&&u||void 0,!r&&R(t)&&u>=0&&(c.get=function(e,n){return e=v(this,e),e>=0&&u>e?t.get(e+o,n):n}),c.__iterateUncached=function(e,n){var i=this;if(0===u)return 0;if(n)return this.cacheResult().__iterate(e,n);var s=0,a=!0,c=0;return t.__iterate(function(t,n){return a&&(a=s++<o)?void 0:(c++,e(t,r?n:c-1,i)!==!1&&c!==u)}),c},c.__iteratorUncached=function(e,n){if(0!==u&&n)return this.cacheResult().__iterator(e,n);var i=0!==u&&t.__iterator(e,n),s=0,a=0;return new _(function(){for(;s++<o;)i.next();if(++a>u)return x();var t=i.next();return r||e===_n?t:e===wn?E(e,a-1,void 0,t):E(e,a-1,t.value[1],t)})},c}function de(t,e,n){var r=$e(t);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var s=0;return t.__iterate(function(t,i,u){return e.call(n,t,i,u)&&++s&&r(t,i,o)}),s},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var s=t.__iterator(En,i),u=!0;return new _(function(){if(!u)return x();var t=s.next();if(t.done)return t;var i=t.value,a=i[0],c=i[1];return e.call(n,c,a,o)?r===En?t:E(r,a,c,t):(u=!1,x())})},r}function ve(t,e,n,r){var i=$e(t);return i.__iterateUncached=function(i,o){var s=this;if(o)return this.cacheResult().__iterate(i,o);var u=!0,a=0;return t.__iterate(function(t,o,c){return u&&(u=e.call(n,t,o,c))?void 0:(a++,i(t,r?o:a-1,s))}),a},i.__iteratorUncached=function(i,o){var s=this;if(o)return this.cacheResult().__iterator(i,o);var u=t.__iterator(En,o),a=!0,c=0;return new _(function(){var t,o,f;do{if(t=u.next(),t.done)return r||i===_n?t:i===wn?E(i,c++,void 0,t):E(i,c++,t.value[1],t);var h=t.value;o=h[0],f=h[1],a&&(a=e.call(n,f,o,s))}while(a);return i===En?t:E(i,o,f,t)})},i}function be(t,e){var r=s(t),i=[t].concat(e).map(function(t){return o(t)?r&&(t=n(t)):t=r?T(t):W(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===i.length)return t;if(1===i.length){var a=i[0];if(a===t||r&&s(a)||u(t)&&u(a))return a}var c=new M(i);return r?c=c.toKeyedSeq():u(t)||(c=c.toSetSeq()),c=c.flatten(!0),c.size=i.reduce(function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}},0),c}function me(t,e,n){var r=$e(t);return r.__iterateUncached=function(r,i){function s(t,c){var f=this;t.__iterate(function(t,i){return(!e||e>c)&&o(t)?s(t,c+1):r(t,n?i:u++,f)===!1&&(a=!0),!a},i)}var u=0,a=!1;return s(t,0),u},r.__iteratorUncached=function(r,i){var s=t.__iterator(r,i),u=[],a=0;return new _(function(){for(;s;){var t=s.next();if(t.done===!1){var c=t.value;if(r===En&&(c=c[1]),e&&!(u.length<e)||!o(c))return n?t:E(r,a++,c,t);u.push(s),s=c.__iterator(r,i)}else s=u.pop()}return x()})},r}function ye(t,e,n){var r=Ne(t);return t.toSeq().map(function(i,o){return r(e.call(n,i,o,t))}).flatten(!0)}function ge(t,e){var n=$e(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return t.__iterate(function(t,r){return(!o||n(e,o++,i)!==!1)&&n(t,o++,i)!==!1},r),o},n.__iteratorUncached=function(n,r){var i,o=t.__iterator(_n,r),s=0;return new _(function(){return(!i||s%2)&&(i=o.next(),i.done)?i:s%2?E(n,s++,e):E(n,s++,i.value,i)})},n}function we(t,e,n){e||(e=De);var r=s(t),i=0,o=t.toSeq().map(function(e,r){return[r,e,i++,n?n(e,r,t):e]}).toArray();return o.sort(function(t,n){return e(t[3],n[3])||t[2]-n[2]}).forEach(r?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),r?D(o):u(t)?j(o):O(o)}function _e(t,e,n){if(e||(e=De),n){var r=t.toSeq().map(function(e,r){return[e,n(e,r,t)]}).reduce(function(t,n){return Ee(e,t[1],n[1])?n:t});return r&&r[0]}return t.reduce(function(t,n){return Ee(e,t,n)?n:t})}function Ee(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(void 0===n||null===n||n!==n)||r>0}function xe(t,n,r){var i=$e(t);return i.size=new M(r).map(function(t){return t.size}).min(),i.__iterate=function(t,e){for(var n,r=this.__iterator(_n,e),i=0;!(n=r.next()).done&&t(n.value,i++,this)!==!1;);return i},i.__iteratorUncached=function(t,i){var o=r.map(function(t){return t=e(t),k(i?t.reverse():t)}),s=0,u=!1;return new _(function(){var e;return u||(e=o.map(function(t){return t.next()}),u=e.some(function(t){return t.done})),u?x():E(t,s++,n.apply(null,e.map(function(t){return t.value})))})},i}function Se(t,e){return R(t)?e:t.constructor(e)}function Ce(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function ke(t){return ft(t.size),d(t)}function Ne(t){return s(t)?n:u(t)?r:i}function $e(t){return Object.create((s(t)?D:u(t)?j:O).prototype)}function Ae(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):A.prototype.cacheResult.call(this)}function De(t,e){return t>e?1:e>t?-1:0}function je(t){var n=k(t);if(!n){if(!$(t))throw new TypeError("Expected iterable or array-like: "+t);n=k(e(t))}return n}function Oe(t,e){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var s=Object.keys(t);ze(i,s),i.size=s.length,i._name=e,i._keys=s,i._defaultValues=t}this._map=ht(o)},i=r.prototype=Object.create(Qn);return i.constructor=r,r}function Me(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r.__ownerID=n,r}function qe(t){return t._name||t.constructor.name||"Record"}function ze(t,e){try{e.forEach(Ie.bind(void 0,t))}catch(n){}}function Ie(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){Q(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function Re(t){return null===t||void 0===t?Pe():Le(t)&&!c(t)?t:Pe().withMutations(function(e){var n=i(t);ft(n.size),n.forEach(function(t){return e.add(t)})})}function Le(t){return!(!t||!t[Zn])}function Te(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function We(t,e){var n=Object.create(tr);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function Pe(){return er||(er=We(Et()))}function Fe(t){return null===t||void 0===t?Ve():Be(t)?t:Ve().withMutations(function(e){var n=i(t);ft(n.size),n.forEach(function(t){return e.add(t)})})}function Be(t){return Le(t)&&c(t)}function Ue(t,e){var n=Object.create(nr);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function Ve(){return rr||(rr=Ue(ee()))}function Ke(t){return null===t||void 0===t?He():Ge(t)?t:He().unshiftAll(t)}function Ge(t){return!(!t||!t[ir])}function Je(t,e,n,r){var i=Object.create(or);return i.size=t,i._head=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function He(){return sr||(sr=Je(0))}function Xe(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function Ye(t,e){return e}function Qe(t,e){return[e,t]}function Ze(t){return function(){return!t.apply(this,arguments)}}function tn(t){return function(){return-t.apply(this,arguments)}}function en(t){return"string"==typeof t?JSON.stringify(t):t}function nn(){return p(arguments)}function rn(t,e){return e>t?1:t>e?-1:0}function on(t){if(t.size===1/0)return 0;var e=c(t),n=s(t),r=e?1:0,i=t.__iterate(n?e?function(t,e){r=31*r+un(ot(t),ot(e))|0}:function(t,e){r=r+un(ot(t),ot(e))|0}:e?function(t){r=31*r+ot(t)|0}:function(t){r=r+ot(t)|0});return sn(i,r)}function sn(t,e){return e=jn(e,3432918353),e=jn(e<<15|e>>>-15,461845907),e=jn(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=jn(e^e>>>16,2246822507),e=jn(e^e>>>13,3266489909),e=it(e^e>>>16)}function un(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var an=Array.prototype.slice;t(n,e),t(r,e),t(i,e),e.isIterable=o,e.isKeyed=s,e.isIndexed=u,e.isAssociative=a,e.isOrdered=c,e.Keyed=n,e.Indexed=r,e.Set=i;var cn="@@__IMMUTABLE_ITERABLE__@@",fn="@@__IMMUTABLE_KEYED__@@",hn="@@__IMMUTABLE_INDEXED__@@",ln="@@__IMMUTABLE_ORDERED__@@",pn="delete",dn=5,vn=1<<dn,bn=vn-1,mn={},yn={value:!1},gn={value:!1},wn=0,_n=1,En=2,xn="function"==typeof Symbol&&Symbol.iterator,Sn="@@iterator",Cn=xn||Sn;_.prototype.toString=function(){return"[Iterator]"},_.KEYS=wn,_.VALUES=_n,_.ENTRIES=En,_.prototype.inspect=_.prototype.toSource=function(){return this.toString()},_.prototype[Cn]=function(){return this},t(A,e),A.of=function(){return A(arguments)},A.prototype.toSeq=function(){return this},A.prototype.toString=function(){return this.__toString("Seq {","}")},A.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},A.prototype.__iterate=function(t,e){return B(this,t,e,!0)},A.prototype.__iterator=function(t,e){return U(this,t,e,!0)},t(D,A),D.prototype.toKeyedSeq=function(){return this},t(j,A),j.of=function(){return j(arguments)},j.prototype.toIndexedSeq=function(){return this},j.prototype.toString=function(){return this.__toString("Seq [","]")},j.prototype.__iterate=function(t,e){return B(this,t,e,!1)},j.prototype.__iterator=function(t,e){return U(this,t,e,!1)},t(O,A),O.of=function(){return O(arguments)},O.prototype.toSetSeq=function(){return this},A.isSeq=R,A.Keyed=D,A.Set=O,A.Indexed=j;var kn="@@__IMMUTABLE_SEQ__@@";A.prototype[kn]=!0,t(M,j),M.prototype.get=function(t,e){return this.has(t)?this._array[v(this,t)]:e},M.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length-1,i=0;r>=i;i++)if(t(n[e?r-i:i],i,this)===!1)return i+1;return i},M.prototype.__iterator=function(t,e){var n=this._array,r=n.length-1,i=0;return new _(function(){return i>r?x():E(t,i,n[e?r-i++:i++])})},t(q,D),q.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},q.prototype.has=function(t){return this._object.hasOwnProperty(t)},q.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,i=r.length-1,o=0;i>=o;o++){var s=r[e?i-o:o];if(t(n[s],s,this)===!1)return o+1}return o},q.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,i=r.length-1,o=0;return new _(function(){var s=r[e?i-o:o];return o++>i?x():E(t,s,n[s])});
},q.prototype[ln]=!0,t(z,j),z.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=this._iterable,r=k(n),i=0;if(C(r))for(var o;!(o=r.next()).done&&t(o.value,i++,this)!==!1;);return i},z.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterable,r=k(n);if(!C(r))return new _(x);var i=0;return new _(function(){var e=r.next();return e.done?e:E(t,i++,e.value)})},t(I,j),I.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n=this._iterator,r=this._iteratorCache,i=0;i<r.length;)if(t(r[i],i++,this)===!1)return i;for(var o;!(o=n.next()).done;){var s=o.value;if(r[i]=s,t(s,i++,this)===!1)break}return i},I.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,i=0;return new _(function(){if(i>=r.length){var e=n.next();if(e.done)return e;r[i]=e.value}return E(t,i,r[i++])})};var Nn;t(Y,j),Y.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},Y.prototype.get=function(t,e){return this.has(t)?this._value:e},Y.prototype.includes=function(t){return H(this._value,t)},Y.prototype.slice=function(t,e){var n=this.size;return m(t,e,n)?this:new Y(this._value,g(e,n)-y(t,n))},Y.prototype.reverse=function(){return this},Y.prototype.indexOf=function(t){return H(this._value,t)?0:-1},Y.prototype.lastIndexOf=function(t){return H(this._value,t)?this.size:-1},Y.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(t(this._value,n,this)===!1)return n+1;return n},Y.prototype.__iterator=function(t,e){var n=this,r=0;return new _(function(){return r<n.size?E(t,r++,n._value):x()})},Y.prototype.equals=function(t){return t instanceof Y?H(this._value,t._value):X(t)};var $n;t(Z,j),Z.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},Z.prototype.get=function(t,e){return this.has(t)?this._start+v(this,t)*this._step:e},Z.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},Z.prototype.slice=function(t,e){return m(t,e,this.size)?this:(t=y(t,this.size),e=g(e,this.size),t>=e?new Z(0,0):new Z(this.get(t,this._end),this.get(e,this._end),this._step))},Z.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step===0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},Z.prototype.lastIndexOf=function(t){return this.indexOf(t)},Z.prototype.__iterate=function(t,e){for(var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;n>=o;o++){if(t(i,o,this)===!1)return o+1;i+=e?-r:r}return o},Z.prototype.__iterator=function(t,e){var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;return new _(function(){var s=i;return i+=e?-r:r,o>n?x():E(t,o++,s)})},Z.prototype.equals=function(t){return t instanceof Z?this._start===t._start&&this._end===t._end&&this._step===t._step:X(this,t)};var An;t(tt,e),t(et,tt),t(nt,tt),t(rt,tt),tt.Keyed=et,tt.Indexed=nt,tt.Set=rt;var Dn,jn="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){t=0|t,e=0|e;var n=65535&t,r=65535&e;return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0},On=Object.isExtensible,Mn=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),qn="function"==typeof WeakMap;qn&&(Dn=new WeakMap);var zn=0,In="__immutablehash__";"function"==typeof Symbol&&(In=Symbol(In));var Rn=16,Ln=255,Tn=0,Wn={};t(ht,et),ht.prototype.toString=function(){return this.__toString("Map {","}")},ht.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},ht.prototype.set=function(t,e){return xt(this,t,e)},ht.prototype.setIn=function(t,e){return this.updateIn(t,mn,function(){return e})},ht.prototype.remove=function(t){return xt(this,t,mn)},ht.prototype.deleteIn=function(t){return this.updateIn(t,function(){return mn})},ht.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},ht.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var r=qt(this,je(t),e,n);return r===mn?void 0:r},ht.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Et()},ht.prototype.merge=function(){return Dt(this,void 0,arguments)},ht.prototype.mergeWith=function(t){var e=an.call(arguments,1);return Dt(this,t,e)},ht.prototype.mergeIn=function(t){var e=an.call(arguments,1);return this.updateIn(t,Et(),function(t){return"function"==typeof t.merge?t.merge.apply(t,e):e[e.length-1]})},ht.prototype.mergeDeep=function(){return Dt(this,jt,arguments)},ht.prototype.mergeDeepWith=function(t){var e=an.call(arguments,1);return Dt(this,Ot(t),e)},ht.prototype.mergeDeepIn=function(t){var e=an.call(arguments,1);return this.updateIn(t,Et(),function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,e):e[e.length-1]})},ht.prototype.sort=function(t){return Qt(we(this,t))},ht.prototype.sortBy=function(t,e){return Qt(we(this,e,t))},ht.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},ht.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new l)},ht.prototype.asImmutable=function(){return this.__ensureOwner()},ht.prototype.wasAltered=function(){return this.__altered},ht.prototype.__iterator=function(t,e){return new yt(this,t,e)},ht.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate(function(e){return r++,t(e[1],e[0],n)},e),r},ht.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?_t(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},ht.isMap=lt;var Pn="@@__IMMUTABLE_MAP__@@",Fn=ht.prototype;Fn[Pn]=!0,Fn[pn]=Fn.remove,Fn.removeIn=Fn.deleteIn,pt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,s=i.length;s>o;o++)if(H(n,i[o][0]))return i[o][1];return r},pt.prototype.update=function(t,e,n,r,i,o,s){for(var u=i===mn,a=this.entries,c=0,f=a.length;f>c&&!H(r,a[c][0]);c++);var l=f>c;if(l?a[c][1]===i:u)return this;if(h(s),(u||!l)&&h(o),!u||1!==a.length){if(!l&&!u&&a.length>=Un)return Nt(t,a,r,i);var d=t&&t===this.ownerID,v=d?a:p(a);return l?u?c===f-1?v.pop():v[c]=v.pop():v[c]=[r,i]:v.push([r,i]),d?(this.entries=v,this):new pt(t,v)}},dt.prototype.get=function(t,e,n,r){void 0===e&&(e=ot(n));var i=1<<((0===t?e:e>>>t)&bn),o=this.bitmap;return 0===(o&i)?r:this.nodes[zt(o&i-1)].get(t+dn,e,n,r)},dt.prototype.update=function(t,e,n,r,i,o,s){void 0===n&&(n=ot(r));var u=(0===e?n:n>>>e)&bn,a=1<<u,c=this.bitmap,f=0!==(c&a);if(!f&&i===mn)return this;var h=zt(c&a-1),l=this.nodes,p=f?l[h]:void 0,d=St(p,t,e+dn,n,r,i,o,s);if(d===p)return this;if(!f&&d&&l.length>=Vn)return At(t,l,c,u,d);if(f&&!d&&2===l.length&&Ct(l[1^h]))return l[1^h];if(f&&d&&1===l.length&&Ct(d))return d;var v=t&&t===this.ownerID,b=f?d?c:c^a:c|a,m=f?d?It(l,h,d,v):Lt(l,h,v):Rt(l,h,d,v);return v?(this.bitmap=b,this.nodes=m,this):new dt(t,b,m)},vt.prototype.get=function(t,e,n,r){void 0===e&&(e=ot(n));var i=(0===t?e:e>>>t)&bn,o=this.nodes[i];return o?o.get(t+dn,e,n,r):r},vt.prototype.update=function(t,e,n,r,i,o,s){void 0===n&&(n=ot(r));var u=(0===e?n:n>>>e)&bn,a=i===mn,c=this.nodes,f=c[u];if(a&&!f)return this;var h=St(f,t,e+dn,n,r,i,o,s);if(h===f)return this;var l=this.count;if(f){if(!h&&(l--,Kn>l))return $t(t,c,l,u)}else l++;var p=t&&t===this.ownerID,d=It(c,u,h,p);return p?(this.count=l,this.nodes=d,this):new vt(t,l,d)},bt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,s=i.length;s>o;o++)if(H(n,i[o][0]))return i[o][1];return r},bt.prototype.update=function(t,e,n,r,i,o,s){void 0===n&&(n=ot(r));var u=i===mn;if(n!==this.keyHash)return u?this:(h(s),h(o),kt(this,t,e,n,[r,i]));for(var a=this.entries,c=0,f=a.length;f>c&&!H(r,a[c][0]);c++);var l=f>c;if(l?a[c][1]===i:u)return this;if(h(s),(u||!l)&&h(o),u&&2===f)return new mt(t,this.keyHash,a[1^c]);var d=t&&t===this.ownerID,v=d?a:p(a);return l?u?c===f-1?v.pop():v[c]=v.pop():v[c]=[r,i]:v.push([r,i]),d?(this.entries=v,this):new bt(t,this.keyHash,v)},mt.prototype.get=function(t,e,n,r){return H(n,this.entry[0])?this.entry[1]:r},mt.prototype.update=function(t,e,n,r,i,o,s){var u=i===mn,a=H(r,this.entry[0]);return(a?i===this.entry[1]:u)?this:(h(s),u?void h(o):a?t&&t===this.ownerID?(this.entry[1]=i,this):new mt(t,this.keyHash,[r,i]):(h(o),kt(this,t,e,ot(r),[r,i])))},pt.prototype.iterate=bt.prototype.iterate=function(t,e){for(var n=this.entries,r=0,i=n.length-1;i>=r;r++)if(t(n[e?i-r:r])===!1)return!1},dt.prototype.iterate=vt.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,i=n.length-1;i>=r;r++){var o=n[e?i-r:r];if(o&&o.iterate(t,e)===!1)return!1}},mt.prototype.iterate=function(t,e){return t(this.entry)},t(yt,_),yt.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,r=e.node,i=e.index++;if(r.entry){if(0===i)return gt(t,r.entry)}else if(r.entries){if(n=r.entries.length-1,n>=i)return gt(t,r.entries[this._reverse?n-i:i])}else if(n=r.nodes.length-1,n>=i){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return gt(t,o.entry);e=this._stack=wt(o,e)}continue}e=this._stack=this._stack.__prev}return x()};var Bn,Un=vn/4,Vn=vn/2,Kn=vn/4;t(Tt,nt),Tt.of=function(){return this(arguments)},Tt.prototype.toString=function(){return this.__toString("List [","]")},Tt.prototype.get=function(t,e){if(t=v(this,t),t>=0&&t<this.size){t+=this._origin;var n=Jt(this,t);return n&&n.array[t&bn]}return e},Tt.prototype.set=function(t,e){return Vt(this,t,e)},Tt.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},Tt.prototype.insert=function(t,e){return this.splice(t,0,e)},Tt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=dn,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Ut()},Tt.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations(function(n){Ht(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])})},Tt.prototype.pop=function(){return Ht(this,0,-1)},Tt.prototype.unshift=function(){var t=arguments;return this.withMutations(function(e){Ht(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])})},Tt.prototype.shift=function(){return Ht(this,1)},Tt.prototype.merge=function(){return Xt(this,void 0,arguments)},Tt.prototype.mergeWith=function(t){var e=an.call(arguments,1);return Xt(this,t,e)},Tt.prototype.mergeDeep=function(){return Xt(this,jt,arguments)},Tt.prototype.mergeDeepWith=function(t){var e=an.call(arguments,1);return Xt(this,Ot(t),e)},Tt.prototype.setSize=function(t){return Ht(this,0,t)},Tt.prototype.slice=function(t,e){var n=this.size;return m(t,e,n)?this:Ht(this,y(t,n),g(e,n))},Tt.prototype.__iterator=function(t,e){var n=0,r=Ft(this,e);return new _(function(){var e=r();return e===Xn?x():E(t,n++,e)})},Tt.prototype.__iterate=function(t,e){for(var n,r=0,i=Ft(this,e);(n=i())!==Xn&&t(n,r++,this)!==!1;);return r},Tt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Bt(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},Tt.isList=Wt;var Gn="@@__IMMUTABLE_LIST__@@",Jn=Tt.prototype;Jn[Gn]=!0,Jn[pn]=Jn.remove,Jn.setIn=Fn.setIn,Jn.deleteIn=Jn.removeIn=Fn.removeIn,Jn.update=Fn.update,Jn.updateIn=Fn.updateIn,Jn.mergeIn=Fn.mergeIn,Jn.mergeDeepIn=Fn.mergeDeepIn,Jn.withMutations=Fn.withMutations,Jn.asMutable=Fn.asMutable,Jn.asImmutable=Fn.asImmutable,Jn.wasAltered=Fn.wasAltered,Pt.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&bn;if(r>=this.array.length)return new Pt([],t);var i,o=0===r;if(e>0){var s=this.array[r];if(i=s&&s.removeBefore(t,e-dn,n),i===s&&o)return this}if(o&&!i)return this;var u=Gt(this,t);if(!o)for(var a=0;r>a;a++)u.array[a]=void 0;return i&&(u.array[r]=i),u},Pt.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r=n-1>>>e&bn;if(r>=this.array.length)return this;var i;if(e>0){var o=this.array[r];if(i=o&&o.removeAfter(t,e-dn,n),i===o&&r===this.array.length-1)return this}var s=Gt(this,t);return s.array.splice(r+1),i&&(s.array[r]=i),s};var Hn,Xn={};t(Qt,ht),Qt.of=function(){return this(arguments)},Qt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Qt.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},Qt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):ee()},Qt.prototype.set=function(t,e){return ne(this,t,e)},Qt.prototype.remove=function(t){return ne(this,t,mn)},Qt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Qt.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],n)},e)},Qt.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},Qt.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?te(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},Qt.isOrderedMap=Zt,Qt.prototype[ln]=!0,Qt.prototype[pn]=Qt.prototype.remove;var Yn;t(re,D),re.prototype.get=function(t,e){return this._iter.get(t,e)},re.prototype.has=function(t){return this._iter.has(t)},re.prototype.valueSeq=function(){return this._iter.valueSeq()},re.prototype.reverse=function(){var t=this,e=ce(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},re.prototype.map=function(t,e){var n=this,r=ae(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},re.prototype.__iterate=function(t,e){var n,r=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,r)}:(n=e?ke(this):0,function(i){return t(i,e?--n:n++,r)}),e)},re.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(_n,e),r=e?ke(this):0;return new _(function(){var i=n.next();return i.done?i:E(t,e?--r:r++,i.value,i)})},re.prototype[ln]=!0,t(ie,j),ie.prototype.includes=function(t){return this._iter.includes(t)},ie.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate(function(e){return t(e,r++,n)},e)},ie.prototype.__iterator=function(t,e){var n=this._iter.__iterator(_n,e),r=0;return new _(function(){var e=n.next();return e.done?e:E(t,r++,e.value,e)})},t(oe,O),oe.prototype.has=function(t){return this._iter.includes(t)},oe.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){return t(e,e,n)},e)},oe.prototype.__iterator=function(t,e){var n=this._iter.__iterator(_n,e);return new _(function(){var e=n.next();return e.done?e:E(t,e.value,e.value,e)})},t(se,D),se.prototype.entrySeq=function(){return this._iter.toSeq()},se.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){if(e){Ce(e);var r=o(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}},e)},se.prototype.__iterator=function(t,e){var n=this._iter.__iterator(_n,e);return new _(function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){Ce(r);var i=o(r);return E(t,i?r.get(0):r[0],i?r.get(1):r[1],e)}}})},ie.prototype.cacheResult=re.prototype.cacheResult=oe.prototype.cacheResult=se.prototype.cacheResult=Ae,t(Oe,et),Oe.prototype.toString=function(){return this.__toString(qe(this)+" {","}")},Oe.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},Oe.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},Oe.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=Me(this,Et()))},Oe.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+qe(this));var n=this._map&&this._map.set(t,e);return this.__ownerID||n===this._map?this:Me(this,n)},Oe.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:Me(this,e)},Oe.prototype.wasAltered=function(){return this._map.wasAltered()},Oe.prototype.__iterator=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterator(t,e)},Oe.prototype.__iterate=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterate(t,e)},Oe.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?Me(this,e,t):(this.__ownerID=t,this._map=e,this)};var Qn=Oe.prototype;Qn[pn]=Qn.remove,Qn.deleteIn=Qn.removeIn=Fn.removeIn,Qn.merge=Fn.merge,Qn.mergeWith=Fn.mergeWith,Qn.mergeIn=Fn.mergeIn,Qn.mergeDeep=Fn.mergeDeep,Qn.mergeDeepWith=Fn.mergeDeepWith,Qn.mergeDeepIn=Fn.mergeDeepIn,Qn.setIn=Fn.setIn,Qn.update=Fn.update,Qn.updateIn=Fn.updateIn,Qn.withMutations=Fn.withMutations,Qn.asMutable=Fn.asMutable,Qn.asImmutable=Fn.asImmutable,t(Re,rt),Re.of=function(){return this(arguments)},Re.fromKeys=function(t){return this(n(t).keySeq())},Re.prototype.toString=function(){return this.__toString("Set {","}")},Re.prototype.has=function(t){return this._map.has(t)},Re.prototype.add=function(t){return Te(this,this._map.set(t,!0))},Re.prototype.remove=function(t){return Te(this,this._map.remove(t))},Re.prototype.clear=function(){return Te(this,this._map.clear())},Re.prototype.union=function(){var t=an.call(arguments,0);return t=t.filter(function(t){return 0!==t.size}),0===t.length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(e){for(var n=0;n<t.length;n++)i(t[n]).forEach(function(t){return e.add(t)})}):this.constructor(t[0])},Re.prototype.intersect=function(){var t=an.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return i(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.every(function(t){return t.includes(e)})||n.remove(e)})})},Re.prototype.subtract=function(){var t=an.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return i(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.some(function(t){return t.includes(e)})&&n.remove(e)})})},Re.prototype.merge=function(){return this.union.apply(this,arguments)},Re.prototype.mergeWith=function(t){var e=an.call(arguments,1);return this.union.apply(this,e)},Re.prototype.sort=function(t){return Fe(we(this,t))},Re.prototype.sortBy=function(t,e){return Fe(we(this,e,t))},Re.prototype.wasAltered=function(){return this._map.wasAltered()},Re.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate(function(e,r){return t(r,r,n)},e)},Re.prototype.__iterator=function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},Re.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},Re.isSet=Le;var Zn="@@__IMMUTABLE_SET__@@",tr=Re.prototype;tr[Zn]=!0,tr[pn]=tr.remove,tr.mergeDeep=tr.merge,tr.mergeDeepWith=tr.mergeWith,tr.withMutations=Fn.withMutations,tr.asMutable=Fn.asMutable,tr.asImmutable=Fn.asImmutable,tr.__empty=Pe,tr.__make=We;var er;t(Fe,Re),Fe.of=function(){return this(arguments)},Fe.fromKeys=function(t){return this(n(t).keySeq())},Fe.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Fe.isOrderedSet=Be;var nr=Fe.prototype;nr[ln]=!0,nr.__empty=Ve,nr.__make=Ue;var rr;t(Ke,nt),Ke.of=function(){return this(arguments)},Ke.prototype.toString=function(){return this.__toString("Stack [","]")},Ke.prototype.get=function(t,e){var n=this._head;for(t=v(this,t);n&&t--;)n=n.next;return n?n.value:e},Ke.prototype.peek=function(){return this._head&&this._head.value},Ke.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Je(t,e)},Ke.prototype.pushAll=function(t){if(t=r(t),0===t.size)return this;ft(t.size);var e=this.size,n=this._head;return t.reverse().forEach(function(t){e++,n={value:t,next:n}}),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):Je(e,n)},Ke.prototype.pop=function(){return this.slice(1)},Ke.prototype.unshift=function(){return this.push.apply(this,arguments)},Ke.prototype.unshiftAll=function(t){return this.pushAll(t)},Ke.prototype.shift=function(){return this.pop.apply(this,arguments)},Ke.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):He()},Ke.prototype.slice=function(t,e){if(m(t,e,this.size))return this;var n=y(t,this.size),r=g(e,this.size);if(r!==this.size)return nt.prototype.slice.call(this,t,e);for(var i=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):Je(i,o)},Ke.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Je(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Ke.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,r=this._head;r&&t(r.value,n++,this)!==!1;)r=r.next;return n},Ke.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new _(function(){if(r){var e=r.value;return r=r.next,E(t,n++,e)}return x()})},Ke.isStack=Ge;var ir="@@__IMMUTABLE_STACK__@@",or=Ke.prototype;or[ir]=!0,or.withMutations=Fn.withMutations,or.asMutable=Fn.asMutable,or.asImmutable=Fn.asImmutable,or.wasAltered=Fn.wasAltered;var sr;e.Iterator=_,Xe(e,{toArray:function(){ft(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate(function(e,n){t[n]=e}),t},toIndexedSeq:function(){return new ie(this)},toJS:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJS?t.toJS():t}).__toJS()},toJSON:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t}).__toJS()},toKeyedSeq:function(){return new re(this,!0)},toMap:function(){return ht(this.toKeyedSeq())},toObject:function(){ft(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t},toOrderedMap:function(){return Qt(this.toKeyedSeq())},toOrderedSet:function(){return Fe(s(this)?this.valueSeq():this)},toSet:function(){return Re(s(this)?this.valueSeq():this)},toSetSeq:function(){return new oe(this)},toSeq:function(){return u(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Ke(s(this)?this.valueSeq():this)},toList:function(){return Tt(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){var t=an.call(arguments,0);return Se(this,be(this,t))},includes:function(t){return this.some(function(e){return H(e,t)})},entries:function(){return this.__iterator(En)},every:function(t,e){ft(this.size);var n=!0;return this.__iterate(function(r,i,o){return t.call(e,r,i,o)?void 0:(n=!1,!1)}),n},filter:function(t,e){return Se(this,fe(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},findEntry:function(t,e){var n;return this.__iterate(function(r,i,o){return t.call(e,r,i,o)?(n=[i,r],!1):void 0}),n},findLastEntry:function(t,e){return this.toSeq().reverse().findEntry(t,e)},forEach:function(t,e){return ft(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){ft(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate(function(r){n?n=!1:e+=t,e+=null!==r&&void 0!==r?r.toString():""}),e},keys:function(){return this.__iterator(wn)},map:function(t,e){return Se(this,ae(this,t,e))},reduce:function(t,e,n){ft(this.size);var r,i;return arguments.length<2?i=!0:r=e,this.__iterate(function(e,o,s){i?(i=!1,r=e):r=t.call(n,r,e,o,s)}),r},reduceRight:function(t,e,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Se(this,ce(this,!0))},slice:function(t,e){return Se(this,pe(this,t,e,!0))},some:function(t,e){return!this.every(Ze(t),e)},sort:function(t){return Se(this,we(this,t))},values:function(){return this.__iterator(_n)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return d(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return he(this,t,e)},equals:function(t){return X(this,t)},entrySeq:function(){var t=this;if(t._cache)return new M(t._cache);var e=t.toSeq().map(Qe).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(Ze(t),e)},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},first:function(){return this.find(b)},flatMap:function(t,e){return Se(this,ye(this,t,e))},flatten:function(t){return Se(this,me(this,t,!0))},fromEntrySeq:function(){return new se(this)},get:function(t,e){return this.find(function(e,n){return H(n,t)},void 0,e)},getIn:function(t,e){for(var n,r=this,i=je(t);!(n=i.next()).done;){var o=n.value;if(r=r&&r.get?r.get(o,mn):mn,r===mn)return e}return r},groupBy:function(t,e){return le(this,t,e)},has:function(t){return this.get(t,mn)!==mn},hasIn:function(t){return this.getIn(t,mn)!==mn},isSubset:function(t){return t="function"==typeof t.includes?t:e(t),this.every(function(e){return t.includes(e)})},isSuperset:function(t){return t="function"==typeof t.isSubset?t:e(t),t.isSubset(this)},keySeq:function(){return this.toSeq().map(Ye).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(t){return _e(this,t)},maxBy:function(t,e){return _e(this,e,t)},min:function(t){return _e(this,t?tn(t):rn)},minBy:function(t,e){return _e(this,e?tn(e):rn,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return Se(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return Se(this,ve(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(Ze(t),e)},sortBy:function(t,e){return Se(this,we(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return Se(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return Se(this,de(this,t,e))},takeUntil:function(t,e){return this.takeWhile(Ze(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=on(this))}});var ur=e.prototype;ur[cn]=!0,ur[Cn]=ur.values,ur.__toJS=ur.toArray,ur.__toStringMapper=en,ur.inspect=ur.toSource=function(){return this.toString()},ur.chain=ur.flatMap,ur.contains=ur.includes,function(){try{Object.defineProperty(ur,"length",{get:function(){if(!e.noLengthWarning){var t;try{throw new Error}catch(n){t=n.stack}if(-1===t.indexOf("_wrapObject"))return console&&console.warn&&void 0,this.size}}})}catch(t){}}(),Xe(n,{flip:function(){return Se(this,ue(this))},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLastKey:function(t,e){return this.toSeq().reverse().findKey(t,e)},keyOf:function(t){return this.findKey(function(e){return H(e,t)})},lastKeyOf:function(t){return this.findLastKey(function(e){return H(e,t)})},mapEntries:function(t,e){var n=this,r=0;return Se(this,this.toSeq().map(function(i,o){return t.call(e,[o,i],r++,n)}).fromEntrySeq())},mapKeys:function(t,e){var n=this;return Se(this,this.toSeq().flip().map(function(r,i){return t.call(e,r,i,n)}).flip())}});var ar=n.prototype;ar[fn]=!0,ar[Cn]=ur.entries,ar.__toJS=ur.toObject,ar.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+en(t)},Xe(r,{toKeyedSeq:function(){return new re(this,!1)},filter:function(t,e){return Se(this,fe(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.toKeyedSeq().keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.toKeyedSeq().reverse().keyOf(t);return void 0===e?-1:e},reverse:function(){return Se(this,ce(this,!1))},slice:function(t,e){return Se(this,pe(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=y(t,0>t?this.count():this.size);var r=this.slice(0,t);return Se(this,1===n?r:r.concat(p(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.toKeyedSeq().findLastKey(t,e);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(t){return Se(this,me(this,t,!1))},get:function(t,e){return t=v(this,t),0>t||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find(function(e,n){return n===t},void 0,e)},has:function(t){return t=v(this,t),t>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return Se(this,ge(this,t))},interleave:function(){var t=[this].concat(p(arguments)),e=xe(this.toSeq(),j.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),Se(this,n)},last:function(){return this.get(-1)},skipWhile:function(t,e){return Se(this,ve(this,t,e,!1))},zip:function(){var t=[this].concat(p(arguments));return Se(this,xe(this,nn,t))},zipWith:function(t){var e=p(arguments);return e[0]=this,Se(this,xe(this,t,e))}}),r.prototype[hn]=!0,r.prototype[ln]=!0,Xe(i,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=ur.includes,Xe(D,n.prototype),Xe(j,r.prototype),Xe(O,i.prototype),Xe(et,n.prototype),Xe(nt,r.prototype),Xe(rt,i.prototype);var cr={Iterable:e,Seq:A,Collection:tt,Map:ht,OrderedMap:Qt,List:Tt,Stack:Ke,Set:Re,OrderedSet:Fe,Record:Oe,Range:Z,Repeat:Y,is:H,fromJS:V};return cr})},{}],89:[function(t,e,n){function r(){f=!1,u.length?c=u.concat(c):h=-1,c.length&&i()}function i(){if(!f){var t=setTimeout(r);f=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,f=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function s(){}var u,a=e.exports={},c=[],f=!1,h=-1;a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new o(t,e)),1!==c.length||f||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=s,a.addListener=s,a.once=s,a.off=s,a.removeListener=s,a.removeAllListeners=s,a.emit=s,a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],90:[function(t,e,n){(function(r){(function(i){var o={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},s=o[typeof window]&&window||this,u=o[typeof n]&&n&&!n.nodeType&&n,a=o[typeof e]&&e&&!e.nodeType&&e,c=(a&&a.exports===u&&u,o[typeof r]&&r);!c||c.global!==c&&c.window!==c||(s=c),"function"==typeof define&&define.amd?define(["rx","exports"],function(t,e){return s.Rx=i(s,e,t),s.Rx}):"object"==typeof e&&e&&e.exports===u?e.exports=i(s,e.exports,t("rx")):s.Rx=i(s,{},s.Rx)}).call(this,function(t,e,n,r){function i(t,e,n,r){if(t.addEventListener)return t.addEventListener(e,n,r),p(function(){t.removeEventListener(e,n,r)});throw new Error("No listener found")}function o(t,e,n,r){var s=new d,u=Object.prototype.toString;if("[object NodeList]"===u.call(t)||"[object HTMLCollection]"===u.call(t))for(var a=0,c=t.length;c>a;a++)s.add(o(t.item(a),e,n,r));else t&&s.add(i(t,e,n,r));return s}function s(){if(t.XMLHttpRequest)return new t.XMLHttpRequest;var e;try{for(var n=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=0;3>r;r++)try{
if(e=n[r],new t.ActiveXObject(e))break}catch(i){}return new t.ActiveXObject(e)}catch(i){throw new Error("XMLHttpRequest is not supported by your browser")}}function u(){var e=new t.XMLHttpRequest;if("withCredentials"in e)return e;if(t.XDomainRequest)return new XDomainRequest;throw new Error("CORS is not supported by your browser")}function a(t,e,n){var r="response"in e?e.response:e.responseText;return r="json"===n.responseType?JSON.parse(r):r,{response:r,status:e.status,responseType:e.responseType,xhr:e,originalEvent:t}}function c(t,e,n){return{type:n,status:e.status,xhr:e,originalEvent:t}}var f=n.Observable,h=(f.prototype,n.AnonymousObservable),l=n.Observer.create,p=n.Disposable.create,d=n.CompositeDisposable,v=n.SingleAssignmentDisposable,b=n.AsyncSubject,m=n.Subject,y=n.Scheduler,g=function(){return Date.now?Date.now:function(){return+new Date}}(),w=n.DOM={},_={}.hasOwnProperty,E=(n.helpers.noop,n.helpers.isFunction),x=w.fromEvent=function(t,e,n,r){var i=E(n)?n:null;return"boolean"==typeof n&&(r=n),"undefined"==typeof r&&(r=!1),new h(function(n){return o(t,e,function(){var t=arguments[0];if(i){var t=tryCatch(i).apply(null,arguments);if(t===errorObj)return n.onError(t.e)}n.onNext(t)},r)}).publish().refCount()};!function(){var e="blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu";t.PointerEvent&&(e+=" pointerdown pointerup pointermove pointerover pointerout pointerenter pointerleave"),t.TouchEvent&&(e+=" touchstart touchend touchmove touchcancel"),e=e.split(" ");for(var n=0,r=e.length;r>n;n++)!function(t){w[t]=function(e,n,r){return x(e,t,n,r)}}(e[n])}(),w.ready=function(){return new h(function(e){function n(){e.onNext(),e.onCompleted()}var r=!1;return"complete"===document.readyState?setTimeout(n,0):(r=!0,document.addEventListener("DOMContentLoaded",n,!1),t.addEventListener("load",n,!1)),function(){r&&(document.removeEventListener("DOMContentLoaded",n,!1),t.removeEventListener("load",n,!1))}})};var S=w.ajax=function(e){var n={method:"GET",crossDomain:!1,contentType:"application/x-www-form-urlencoded; charset=UTF-8",async:!0,headers:{},responseType:"text"};if("string"==typeof e)n.url=e;else for(var i in e)_.call(e,i)&&(n[i]=e[i]);return n.crossDomain||n.headers["X-Requested-With"]||(n.headers["X-Requested-With"]="XMLHttpRequest"),n.hasContent=n.body!==r,new h(function(e){var r=!1;try{var i=n.crossDomain?u():s()}catch(o){e.onError(o)}try{n.user?i.open(n.method,n.url,n.async,n.user,n.password):i.open(n.method,n.url,n.async);var f=n.headers;for(var h in f)_.call(f,h)&&i.setRequestHeader(h,f[h]);i.upload||!("withCredentials"in i)&&t.XDomainRequest?(i.onload=function(t){n.progressObserver&&(n.progressObserver.onNext(t),n.progressObserver.onCompleted()),e.onNext(a(t,i,n)),e.onCompleted(),r=!0},n.progressObserver&&(i.onprogress=function(t){n.progressObserver.onNext(t)}),i.onerror=function(t){n.progressObserver&&n.progressObserver.onError(t),e.onError(c(t,i,"error")),r=!0},i.onabort=function(t){n.progressObserver&&n.progressObserver.onError(t),e.onError(c(t,i,"abort")),r=!0}):i.onreadystatechange=function(t){if(4===i.readyState){var o=1223==i.status?204:i.status;o>=200&&300>=o||0===o||""===o?(e.onNext(a(t,i,n)),e.onCompleted()):e.onError(c(t,i,"error")),r=!0}},i.send(n.hasContent&&n.body||null)}catch(l){e.onError(l)}return function(){r||4===i.readyState||i.abort()}})};w.post=function(t,e){return S({url:t,body:e,method:"POST"})};w.get=function(t){return S({url:t})};w.getJSON=function(e){if(!t.JSON&&"function"!=typeof t.JSON.parse)throw new TypeError("JSON is not supported in your runtime.");return S({url:e,responseType:"json"}).map(function(t){return t.response})};var C=function(){var t=document.createElement("div");return function(e){t.appendChild(e),t.innerHTML=""}}();w.jsonpRequest=function(){var e=0;return function(n){return new h(function(r){var i="callback_"+(e++).toString(36),o={jsonp:"JSONPCallback",async:!0,jsonpCallback:"rxjsjsonpCallbacks"+i};if("string"==typeof n)o.url=n;else for(var s in n)_.call(n,s)&&(o[s]=n[s]);var u=document.createElement("script");u.type="text/javascript",u.async=o.async,u.src=o.url.replace(o.jsonp,o.jsonpCallback),t[o.jsonpCallback]=function(e){t[o.jsonpCallback].called=!0,t[o.jsonpCallback].data=e};var a=function(e){"load"!==e.type||t[o.jsonpCallback].called||(e={type:"error"});var n="error"===e.type?400:200,i=t[o.jsonpCallback].data;200===n?(r.onNext({status:n,responseType:"jsonp",response:i,originalEvent:e}),r.onCompleted()):r.onError({type:"error",status:n,originalEvent:e})};u.onload=u.onreadystatechanged=u.onerror=a;var c=document.getElementsByTagName("head")[0]||document.documentElement;return c.insertBefore(u,c.firstChild),function(){u.onload=u.onreadystatechanged=u.onerror=null,C(u),u=null}})}}(),w.fromWebSocket=function(t,e,n,r){function i(t,e){o&&(r&&(r.onNext(),r.onCompleted()),t?o.close(t,e):o.close())}if(!WebSocket)throw new TypeError("WebSocket not implemented in your runtime.");var o,s=new h(function(r){function s(t){n.onNext(t),n.onCompleted(),o.removeEventListener("open",s,!1)}function u(t){r.onNext(t)}function a(t){r.onError(t)}function c(t){return 1e3===t.code&&t.wasClean?void r.onCompleted():r.onError(t)}return o=e?new WebSocket(t,e):new WebSocket(t),n&&o.addEventListener("open",s,!1),o.addEventListener("message",u,!1),o.addEventListener("error",a,!1),o.addEventListener("close",c,!1),function(){i(),o.removeEventListener("message",u,!1),o.removeEventListener("error",a,!1),o.removeEventListener("close",c,!1)}}),u=l(function(t){o&&o.readyState===WebSocket.OPEN&&o.send(t)},function(t){if(!t.code)throw new Error('no code specified. be sure to pass { code: ###, reason: "" } to onError()');i(t.code,t.reason||"")},function(){i(1e3,"")});return m.create(u,s)},w.fromWebWorker=function(e){if(!t.Worker)throw new TypeError("Worker not implemented in your runtime.");var n=new t.Worker(e),r=new h(function(t){function e(e){t.onNext(e)}function r(e){t.onError(e)}return n.addEventListener("message",e,!1),n.addEventListener("error",r,!1),function(){n.close(),n.removeEventListener("message",e,!1),n.removeEventListener("error",r,!1)}}),i=l(function(t){n.postMessage(t)});return m.create(i,r)},w.fromEventSource=function(e,n){if(!t.EventSource)throw new TypeError("EventSource not implemented in your runtime.");return new h(function(r){function i(t){n.onNext(t),n.onCompleted(),u.removeEventListener("open",i,!1)}function o(t){t.readyState===EventSource.CLOSED?r.onCompleted():r.onError(t)}function s(t){r.onNext(t)}var u=new t.EventSource(e);return n&&u.addEventListener("open",i,!1),u.addEventListener("error",o,!1),u.addEventListener("message",s,!1),function(){u.removeEventListener("error",o,!1),u.removeEventListener("message",s,!1),u.close()}})},w.fromMutationObserver=function(e,n){var r=t.MutationObserver||t.WebKitMutationObserver;if(!r)throw new TypeError("MutationObserver not implemented in your runtime.");return observableCreate(function(t){var i=new r(t.onNext.bind(t));return i.observe(e,n),i.disconnect.bind(i)})};var k,N;return t.requestAnimationFrame?(k=t.requestAnimationFrame,N=t.cancelAnimationFrame):t.mozRequestAnimationFrame?(k=t.mozRequestAnimationFrame,N=t.mozCancelAnimationFrame):t.webkitRequestAnimationFrame?(k=t.webkitRequestAnimationFrame,N=t.webkitCancelAnimationFrame):t.msRequestAnimationFrame?(k=t.msRequestAnimationFrame,N=t.msCancelAnimationFrame):t.oRequestAnimationFrame?(k=t.oRequestAnimationFrame,N=t.oCancelAnimationFrame):(k=function(e){t.setTimeout(e,1e3/60)},N=t.clearTimeout),y.requestAnimationFrame=function(){function e(t,e){var n=this,r=new v,i=k(function(){!r.isDisposed&&r.setDisposable(e(n,t))});return new d(r,p(function(){N(i)}))}function n(e,n,r){var i=this,o=y.normalize(n);if(0===o)return i.scheduleWithState(e,r);var s=new v,u=t.setTimeout(function(){s.isDisposed||s.setDisposable(r(i,e))},o);return new d(s,p(function(){t.clearTimeout(u)}))}function r(t,e,n){return this.scheduleWithRelativeAndState(t,e-this.now(),n)}return new y(g,e,n,r)}(),y.microtask=function(){function e(t){delete f[t]}function n(r){if(h)t.setTimeout(function(){n(r)},0);else{var i=f[r];if(i){h=!0;try{i()}catch(o){throw o}finally{e(r),h=!1}}}}function r(){if(!t.postMessage||t.importScripts)return!1;var e=!1,n=t.onmessage;return t.onmessage=function(){e=!0},t.postMessage("","*"),t.onmessage=n,e}function i(t){"string"==typeof t.data&&t.data.substring(0,_.length)===_&&n(t.data.substring(_.length))}function o(t,n){var r=this,i=new v,o=a(function(){!i.isDisposed&&i.setDisposable(n(r,t))});return new d(i,p(function(){e(o)}))}function s(e,n,r){var i=this,o=y.normalize(n);if(0===o)return i.scheduleWithState(e,r);var s=new v,u=t.setTimeout(function(){s.isDisposed||s.setDisposable(r(i,e))},o);return new d(s,p(function(){t.clearTimeout(u)}))}function u(t,e,n){return this.scheduleWithRelativeAndState(t,e-this.now(),n)}var a,c=1,f={},h=!1,l=t.MutationObserver||t.WebKitMutationObserver;if(l){var b="drainqueue_",m=new l(function(t){t.forEach(function(t){n(t.attributeName.substring(b.length))})}),w=document.createElement("div");m.observe(w,{attributes:!0}),t.addEventListener("unload",function(){m.disconnect(),m=null},!1),a=function(t){var e=c++;return f[e]=t,w.setAttribute(b+e,"drainQueue"),e}}else if("function"==typeof t.setImmediate)a=function(e){var r=c++;return f[r]=e,t.setImmediate(function(){n(r)}),r};else if(r()){var _="ms.rx.schedule"+Math.random();t.addEventListener?t.addEventListener("message",i,!1):t.attachEvent&&t.attachEvent("onmessage",i),a=function(e){var n=c++;return f[currentId]=e,t.postMessage(_+currentId,"*"),n}}else if(t.MessageChannel){var E=new t.MessageChannel;E.port1.onmessage=function(t){n(t.data)},a=function(t){var e=c++;return f[e]=t,E.port2.postMessage(e),e}}else a="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(e){var r=t.document.createElement("script"),i=c++;return f[i]=e,r.onreadystatechange=function(){n(i),r.onreadystatechange=null,r.parentNode.removeChild(r),r=null},t.document.documentElement.appendChild(r),i}:function(e){var r=c++;return f[r]=e,t.setTimeout(function(){n(r)},0),r};return new y(g,o,s,u)}(),n.DOM.geolocation={getCurrentPosition:function(e){if(!t.navigator&&!t.navigation.geolocation)throw new TypeError("geolocation not available");return new h(function(n){t.navigator.geolocation.getCurrentPosition(function(t){n.onNext(t),n.onCompleted()},n.onError.bind(n),e)})},watchPosition:function(e){if(!t.navigator&&!t.navigation.geolocation)throw new TypeError("geolocation not available");return new h(function(n){var r=t.navigator.geolocation.watchPosition(n.onNext.bind(n),n.onError.bind(n),e);return function(){t.navigator.geolocation.clearWatch(r)}}).publish().refCount()}},w.fromReader=function(e,n){function r(e,r,i){return new h(function(o){function s(t){n&&n.onCompleted(),f.onNext(t.target.result),f.onCompleted()}function u(t){f.onError(t.target.error)}function a(t){n.onNext(t)}var c=new t.FileReader,f=new b;return c.addEventListener("load",s,!1),c.addEventListener("error",u,!1),n&&c.addEventListener("progress",a,!1),c[e](r,i),new d(f.subscribe(o),p(function(){c.readyState==t.FileReader.LOADING&&c.abort(),c.removeEventListener("load",s,!1),c.removeEventListener("error",u,!1),n&&c.removeEventListener("progress",a,!1)}))})}if(!t.FileReader)throw new TypeError("FileReader not implemented in your runtime.");return{asArrayBuffer:function(){return r("readAsArrayBuffer",e)},asBinaryString:function(){return r("readAsBinaryString",e)},asDataURL:function(){return r("readAsDataURL",e)},asText:function(t){return r("readAsText",e,t)}}},n})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{rx:92}],91:[function(t,e,n){var r=t("rx");t("./dist/rx.dom"),e.exports=r},{"./dist/rx.dom":90,rx:92}],92:[function(t,e,n){(function(t,r){(function(i){function o(t){for(var e=[],n=0,r=t.length;r>n;n++)e.push(t[n]);return e}function u(t,e){if(Ft&&e.stack&&"object"==typeof t&&null!==t&&t.stack&&-1===t.stack.indexOf(Kt)){for(var n=[],r=e;r;r=r.source)r.stack&&n.unshift(r.stack);n.unshift(t.stack);var i=n.join("\n"+Kt+"\n");t.stack=a(i)}}function a(t){for(var e=t.split("\n"),n=[],r=0,i=e.length;i>r;r++){var o=e[r];c(o)||f(o)||!o||n.push(o)}return n.join("\n")}function c(t){var e=l(t);if(!e)return!1;var n=e[0],r=e[1];return n===Ut&&r>=Vt&&Ur>=r}function f(t){return-1!==t.indexOf("(module.js:")||-1!==t.indexOf("(node.js:")}function h(){if(Ft)try{throw new Error}catch(t){var e=t.stack.split("\n"),n=e[0].indexOf("@")>0?e[1]:e[2],r=l(n);if(!r)return;return Ut=r[0],r[1]}}function l(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(t);return r?[r[1],Number(r[2])]:void 0}function p(t){var e=[];if(!Ne(t))return e;ke.nonEnumArgs&&t.length&&$e(t)&&(t=je.call(t));var n=ke.enumPrototypes&&"function"==typeof t,r=ke.enumErrorProps&&(t===_e||t instanceof Error);for(var i in t)n&&"prototype"==i||r&&("message"==i||"name"==i)||e.push(i);if(ke.nonEnumShadows&&t!==Ee){var o=t.constructor,s=-1,u=ue;if(t===(o&&o.prototype))var a=t===xe?me:t===_e?le:ye.call(t),c=Ce[a];for(;++s<u;)i=se[s],c&&c[i]||!ge.call(t,i)||e.push(i)}return e}function d(t,e,n){for(var r=-1,i=n(t),o=i.length;++r<o;){var s=i[r];if(e(t[s],s,t)===!1)break}return t}function v(t,e){return d(t,e,p)}function b(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}function m(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;var i=typeof t,o=typeof e;if(t===t&&(null==t||null==e||"function"!=i&&"object"!=i&&"function"!=o&&"object"!=o))return!1;var s=ye.call(t),u=ye.call(e);if(s==ae&&(s=ve),u==ae&&(u=ve),s!=u)return!1;switch(s){case fe:case he:return+t==+e;case de:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case be:case me:return t==String(e)}var a=s==ce;if(!a){if(s!=ve||!ke.nodeClass&&(b(t)||b(e)))return!1;var c=!ke.argsObject&&$e(t)?Object:t.constructor,f=!ke.argsObject&&$e(e)?Object:e.constructor;if(!(c==f||ge.call(t,"constructor")&&ge.call(e,"constructor")||Pt(c)&&c instanceof c&&Pt(f)&&f instanceof f||!("constructor"in t&&"constructor"in e)))return!1}n||(n=[]),r||(r=[]);for(var h=n.length;h--;)if(n[h]==t)return r[h]==e;var l=0,p=!0;if(n.push(t),r.push(e),a){if(h=t.length,l=e.length,p=l==h)for(;l--;){var d=e[l];if(!(p=m(t[l],d,n,r)))break}}else v(e,function(e,i,o){return ge.call(o,i)?(l++,p=ge.call(t,i)&&m(t[i],e,n,r)):void 0}),p&&v(t,function(t,e,n){return ge.call(n,e)?p=--l>-1:void 0});return n.pop(),r.pop(),p}function y(t,e){for(var n=new Array(t),r=0;t>r;r++)n[r]=e();return n}function g(){try{return Ae.apply(this,arguments)}catch(t){return ze.e=t,ze}}function w(t){if(!Pt(t))throw new TypeError("fn must be a function");return Ae=t,g}function _(t){throw t}function E(t,e){this.id=t,this.value=e}function x(t,e){this.scheduler=t,this.disposable=e,this.isDisposed=!1}function S(t,e){e.isDisposed||(e.isDisposed=!0,e.disposable.dispose())}function C(t){this._s=s}function k(t){this._s=s,this._l=s.length,this._i=0}function N(t){this._a=t}function $(t){this._a=t,this._l=O(t),this._i=0}function A(t){return"number"==typeof t&&Nt.isFinite(t)}function D(t){var e,n=t[te];if(!n&&"string"==typeof t)return e=new C(t),e[te]();if(!n&&t.length!==i)return e=new N(t),e[te]();if(!n)throw new TypeError("Object is not iterable");return t[te]()}function j(t){var e=+t;return 0===e?e:isNaN(e)?e:0>e?-1:1}function O(t){var e=+t.length;return isNaN(e)?0:0!==e&&A(e)?(e=j(e)*Math.floor(Math.abs(e)),0>=e?0:e>Ln?Ln:e):e}function M(t,e){this.observer=t,this.parent=e}function q(t,e){return Ye(t)||(t=nn),new Wn(e,t)}function z(t,e){this.observer=t,this.parent=e}function I(t,e){this.observer=t,this.parent=e}function R(t,e){return new Lr(function(n){var r=new Ve,i=new Ke;return i.setDisposable(r),r.setDisposable(t.subscribe(function(t){n.onNext(t)},function(t){try{var r=e(t)}catch(o){return n.onError(o)}Tt(r)&&(r=jn(r));var s=new Ve;i.setDisposable(s),s.setDisposable(r.subscribe(n))},function(t){n.onCompleted(t)})),i},t)}function L(){return!1}function T(t,e){var n=this;return new Lr(function(r){var i=0,o=t.length;return n.subscribe(function(n){if(o>i){var s=t[i++],u=w(e)(n,s);if(u===ze)return r.onError(u.e);r.onNext(u)}else r.onCompleted()},function(t){r.onError(t)},function(){r.onCompleted()})},n)}function L(){return!1}function W(){return[]}function L(){return!1}function P(){return[]}function F(t,e){this.observer=t,this.accumulator=e.accumulator,this.hasSeed=e.hasSeed,this.seed=e.seed,this.hasAccumulation=!1,this.accumulation=null,this.hasValue=!1,this.isStopped=!1}function B(t,e,n){var r=oe(e,n,3);return t.map(function(e,n){var i=r(e,n,t);return Tt(i)&&(i=jn(i)),(re(i)||ne(i))&&(i=Tn(i)),i}).concatAll()}function U(t,e,n){for(var r=0,i=t.length;i>r;r++)if(n(t[r],e))return r;return-1}function V(t){this.comparer=t,this.set=[]}function K(t,e,n){var r=oe(e,n,3);return t.map(function(e,n){var i=r(e,n,t);return Tt(i)&&(i=jn(i)),(re(i)||ne(i))&&(i=Tn(i)),i}).mergeAll()}function G(t,e,n){return new Lr(function(r){var i=!1,o=null,s=[];return t.subscribe(function(t){var u,a;try{a=e(t)}catch(c){return void r.onError(c)}if(u=0,i)try{u=n(a,o)}catch(f){return void r.onError(f)}else i=!0,o=a;u>0&&(o=a,s=[]),u>=0&&s.push(t)},function(t){r.onError(t)},function(){r.onNext(s),r.onCompleted()})},t)}function J(t){if(0===t.length)throw new Gt;return t[0]}function H(t,e,n,r){if(0>e)throw new Ht;return new Lr(function(i){var o=e;return t.subscribe(function(t){0===o--&&(i.onNext(t),i.onCompleted())},function(t){i.onError(t)},function(){n?(i.onNext(r),i.onCompleted()):i.onError(new Ht)})},t)}function X(t,e,n){return new Lr(function(r){var i=n,o=!1;return t.subscribe(function(t){o?r.onError(new Error("Sequence contains more than one element")):(i=t,o=!0)},function(t){r.onError(t)},function(){o||e?(r.onNext(i),r.onCompleted()):r.onError(new Gt)})},t)}function Y(t,e,n){return new Lr(function(r){return t.subscribe(function(t){r.onNext(t),r.onCompleted()},function(t){r.onError(t)},function(){e?(r.onNext(n),r.onCompleted()):r.onError(new Gt)})},t)}function Q(t,e,n){return new Lr(function(r){var i=n,o=!1;return t.subscribe(function(t){i=t,o=!0},function(t){r.onError(t)},function(){o||e?(r.onNext(i),r.onCompleted()):r.onError(new Gt)})},t)}function Z(t,e,n,r){var o=oe(e,n,3);return new Lr(function(e){var n=0;return t.subscribe(function(i){var s;try{s=o(i,n,t)}catch(u){return void e.onError(u)}s?(e.onNext(r?n:i),e.onCompleted()):n++},function(t){e.onError(t)},function(){e.onNext(r?-1:i),e.onCompleted()})},t)}function tt(t,e){return Array.isArray(t)?et.call(e,t):ot(t)?yr(t.call(e)):st(t)?yr(t):it(t)?nt(t):Tt(t)?rt(t):typeof t===br?t:Ne(t)||Array.isArray(t)?et.call(e,t):t}function et(t){var e=this;return function(n){function r(t,r){if(!i)try{if(t=tt(t,e),typeof t!==br)return u[r]=t,--s||n(null,u);t.call(e,function(t,e){if(!i){if(t)return i=!0,n(t);u[r]=e,--s||n(null,u)}})}catch(o){i=!0,n(o)}}var i,o=Object.keys(t),s=o.length,u=new t.constructor;if(!s)return void un.schedule(function(){n(null,u)});for(var a=0,c=o.length;c>a;a++)r(t[o[a]],o[a])}}function nt(t){return function(e){var n,r=!1;t.subscribe(function(t){n=t,r=!0},e,function(){r&&e(null,n)})}}function rt(t){return function(e){t.then(function(t){e(null,t)},e)}}function it(t){return t&&typeof t.subscribe===br}function ot(t){return t&&t.constructor&&"GeneratorFunction"===t.constructor.name}function st(t){return t&&typeof t.next===br&&typeof t[mr]===br}function ut(t){t&&un.schedule(function(){throw t})}function at(t,e,n){if(t.addEventListener)return t.addEventListener(e,n,!1),Pe(function(){t.removeEventListener(e,n,!1)});throw new Error("No listener found")}function ct(t,e,n){var r=new Le,i=Object.prototype.toString;if("[object NodeList]"===i.call(t)||"[object HTMLCollection]"===i.call(t))for(var o=0,s=t.length;s>o;o++)r.add(ct(t.item(o),e,n));else t&&r.add(at(t,e,n));return r}function ft(t,e,n){return new Lr(function(r){function i(t,e){if(c[e]=t,s[e]=!0,u||(u=s.every(qt))){if(o)return r.onError(o);var i=w(n).apply(null,c);if(i===ze)return r.onError(i.e);r.onNext(i)}a&&c[1]&&r.onCompleted()}var o,s=[!1,!1],u=!1,a=!1,c=new Array(2);return new Le(t.subscribe(function(t){i(t,0)},function(t){c[1]?r.onError(t):o=t},function(){a=!0,c[1]&&r.onCompleted()}),e.subscribe(function(t){i(t,1)},function(t){r.onError(t)},function(){a=!0,i(!0,1)}))},t)}function ht(t,e){return t.groupJoin(this,e,zn,function(t,e){return e})}function lt(t){var e=this;return new Lr(function(n){var r=new Pr,i=new Le,o=new Ge(i);return n.onNext(qe(r,o)),i.add(e.subscribe(function(t){r.onNext(t)},function(t){r.onError(t),n.onError(t)},function(){r.onCompleted(),n.onCompleted()})),Tt(t)&&(t=jn(t)),i.add(t.subscribe(function(t){r.onCompleted(),r=new Pr,n.onNext(qe(r,o))},function(t){r.onError(t),n.onError(t)},function(){r.onCompleted(),n.onCompleted()})),o},e)}function pt(t){var e=this;return new Lr(function(n){function r(){var e;try{e=t()}catch(o){return void n.onError(o)}Tt(e)&&(e=jn(e));var a=new Ve;i.setDisposable(a),a.setDisposable(e.take(1).subscribe(Mt,function(t){u.onError(t),n.onError(t)},function(){u.onCompleted(),u=new Pr,n.onNext(qe(u,s)),r()}))}var i=new Ke,o=new Le(i),s=new Ge(o),u=new Pr;return n.onNext(qe(u,s)),o.add(e.subscribe(function(t){u.onNext(t)},function(t){u.onError(t),n.onError(t)},function(){u.onCompleted(),n.onCompleted()})),r(),s},e)}function dt(t,e){return new Or(t,e)}function vt(t){this.patterns=t}function bt(t,e){this.expression=t,this.selector=e}function mt(t,e,n){var r=t.get(e);if(!r){var i=new Ir(e,n);return t.set(e,i),i}return r}function yt(t,e,n){this.joinObserverArray=t,this.onNext=e,this.onCompleted=n,this.joinObservers=new zr;for(var r=0,i=this.joinObserverArray.length;i>r;r++){var o=this.joinObserverArray[r];this.joinObservers.set(o,o)}}function gt(t,e){return new Lr(function(n){return e.scheduleWithAbsolute(t,function(){n.onNext(0),n.onCompleted()})})}function wt(t,e,n){return new Lr(function(r){var i=t,o=Xe(e);return n.scheduleRecursiveWithAbsoluteAndState(0,i,function(t,e){if(o>0){var s=n.now();i+=o,s>=i&&(i=s+o)}r.onNext(t),e(t+1,i)})})}function _t(t,e){return new Lr(function(n){return e.scheduleWithRelative(Xe(t),function(){n.onNext(0),n.onCompleted()})})}function Et(t,e,n){return t===e?new Lr(function(t){return n.schedulePeriodicWithState(0,e,function(e){return t.onNext(e),e+1})}):Mn(function(){return wt(n.now()+t,e,n)})}function xt(t,e,n){return new Lr(function(r){var i,o=!1,s=new Ke,u=null,a=[],c=!1;return i=t.materialize().timestamp(n).subscribe(function(t){var i,f;"E"===t.value.kind?(a=[],a.push(t),u=t.value.exception,f=!c):(a.push({value:t.value,timestamp:t.timestamp+e}),f=!o,o=!0),f&&(null!==u?r.onError(u):(i=new Ve,s.setDisposable(i),i.setDisposable(n.scheduleRecursiveWithRelative(e,function(t){var e,i,s,f;if(null===u){c=!0;do s=null,a.length>0&&a[0].timestamp-n.now()<=0&&(s=a.shift().value),null!==s&&s.accept(r);while(null!==s);f=!1,i=0,a.length>0?(f=!0,i=Math.max(0,a[0].timestamp-n.now())):o=!1,e=u,c=!1,null!==e?r.onError(e):f&&t(i)}}))))}),new Le(i,s)},t)}function St(t,e,n){return Mn(function(){return xt(t,e-n.now(),n)})}function Ct(t,e){return new Lr(function(n){function r(){s&&(s=!1,n.onNext(i)),o&&n.onCompleted()}var i,o=!1,s=!1,u=new Ve;return u.setDisposable(t.subscribe(function(t){s=!0,i=t},function(t){n.onError(t)},function(){o=!0,u.dispose()})),new Le(u,e.subscribe(r,function(t){n.onError(t)},r))},t)}var kt={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},Nt=kt[typeof window]&&window||this,$t=kt[typeof n]&&n&&!n.nodeType&&n,At=kt[typeof e]&&e&&!e.nodeType&&e,Dt=At&&At.exports===$t&&$t,jt=kt[typeof r]&&r;!jt||jt.global!==jt&&jt.window!==jt||(Nt=jt);var Ot={internals:{},config:{Promise:Nt.Promise},helpers:{}},Mt=Ot.helpers.noop=function(){},qt=(Ot.helpers.notDefined=function(t){return"undefined"==typeof t},Ot.helpers.identity=function(t){return t}),zt=(Ot.helpers.pluck=function(t){return function(e){return e[t]}},Ot.helpers.just=function(t){return function(){return t}},Ot.helpers.defaultNow=Date.now),It=Ot.helpers.defaultComparer=function(t,e){return De(t,e)},Rt=Ot.helpers.defaultSubComparer=function(t,e){return t>e?1:e>t?-1:0},Lt=(Ot.helpers.defaultKeySerializer=function(t){return t.toString()},Ot.helpers.defaultError=function(t){throw t}),Tt=Ot.helpers.isPromise=function(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then},Wt=(Ot.helpers.asArray=function(){return Array.prototype.slice.call(arguments)},Ot.helpers.not=function(t){return!t}),Pt=Ot.helpers.isFunction=function(){var t=function(t){return"function"==typeof t||!1};return t(/x/)&&(t=function(t){return"function"==typeof t&&"[object Function]"==ye.call(t)}),t}();Ot.config.longStackSupport=!1;var Ft=!1;try{throw new Error}catch(Bt){Ft=!!Bt.stack}var Ut,Vt=h(),Kt="From previous event:",Gt=Ot.EmptyError=function(){this.message="Sequence contains no elements.",Error.call(this)};Gt.prototype=Error.prototype;var Jt=Ot.ObjectDisposedError=function(){this.message="Object has been disposed",Error.call(this)};Jt.prototype=Error.prototype;var Ht=Ot.ArgumentOutOfRangeError=function(){this.message="Argument out of range",Error.call(this)};Ht.prototype=Error.prototype;var Xt=Ot.NotSupportedError=function(t){this.message=t||"This operation is not supported",Error.call(this)};Xt.prototype=Error.prototype;var Yt=Ot.NotImplementedError=function(t){this.message=t||"This operation is not implemented",Error.call(this)};Yt.prototype=Error.prototype;var Qt=Ot.helpers.notImplemented=function(){throw new Yt},Zt=Ot.helpers.notSupported=function(){throw new Xt},te="function"==typeof Symbol&&Symbol.iterator||"_es6shim_iterator_";Nt.Set&&"function"==typeof(new Nt.Set)["@@iterator"]&&(te="@@iterator");var ee=Ot.doneEnumerator={done:!0,value:i},ne=Ot.helpers.isIterable=function(t){return t[te]!==i},re=Ot.helpers.isArrayLike=function(t){return t&&t.length!==i};Ot.helpers.iterator=te;var ie,oe=Ot.internals.bindCallback=function(t,e,n){if("undefined"==typeof e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},se=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ue=se.length,ae="[object Arguments]",ce="[object Array]",fe="[object Boolean]",he="[object Date]",le="[object Error]",pe="[object Function]",de="[object Number]",ve="[object Object]",be="[object RegExp]",me="[object String]",ye=Object.prototype.toString,ge=Object.prototype.hasOwnProperty,we=ye.call(arguments)==ae,_e=Error.prototype,Ee=Object.prototype,xe=String.prototype,Se=Ee.propertyIsEnumerable;try{ie=!(ye.call(document)==ve&&!({toString:0}+""))}catch(Bt){ie=!0}var Ce={};Ce[ce]=Ce[he]=Ce[de]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},Ce[fe]=Ce[me]={constructor:!0,toString:!0,valueOf:!0},Ce[le]=Ce[pe]=Ce[be]={constructor:!0,toString:!0},Ce[ve]={constructor:!0};var ke={};!function(){var t=function(){this.x=1},e=[];t.prototype={valueOf:1,y:1};for(var n in new t)e.push(n);for(n in arguments);ke.enumErrorProps=Se.call(_e,"message")||Se.call(_e,"name"),ke.enumPrototypes=Se.call(t,"prototype"),ke.nonEnumArgs=0!=n,ke.nonEnumShadows=!/valueOf/.test(e)}(1);var Ne=Ot.internals.isObject=function(t){var e=typeof t;return t&&("function"==e||"object"==e)||!1},$e=function(t){return t&&"object"==typeof t?ye.call(t)==ae:!1};we||($e=function(t){return t&&"object"==typeof t?ge.call(t,"callee"):!1});var Ae,De=Ot.internals.isEqual=function(t,e){return m(t,e,[],[])},je=({}.hasOwnProperty,Array.prototype.slice),Oe=this.inherits=Ot.internals.inherits=function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n},Me=Ot.internals.addProperties=function(t){for(var e=[],n=1,r=arguments.length;r>n;n++)e.push(arguments[n]);for(var i=0,o=e.length;o>i;i++){var s=e[i];for(var u in s)t[u]=s[u]}},qe=Ot.internals.addRef=function(t,e){return new Lr(function(n){return new Le(e.getDisposable(),t.subscribe(n))})},ze={e:{}};E.prototype.compareTo=function(t){var e=this.value.compareTo(t.value);return 0===e&&(e=this.id-t.id),e};var Ie=Ot.internals.PriorityQueue=function(t){this.items=new Array(t),this.length=0},Re=Ie.prototype;Re.isHigherPriority=function(t,e){return this.items[t].compareTo(this.items[e])<0},Re.percolate=function(t){if(!(t>=this.length||0>t)){var e=t-1>>1;if(!(0>e||e===t)&&this.isHigherPriority(t,e)){var n=this.items[t];this.items[t]=this.items[e],this.items[e]=n,this.percolate(e)}}},Re.heapify=function(t){if(+t||(t=0),!(t>=this.length||0>t)){var e=2*t+1,n=2*t+2,r=t;if(e<this.length&&this.isHigherPriority(e,r)&&(r=e),n<this.length&&this.isHigherPriority(n,r)&&(r=n),r!==t){var i=this.items[t];this.items[t]=this.items[r],this.items[r]=i,this.heapify(r)}}},Re.peek=function(){return this.items[0].value},Re.removeAt=function(t){this.items[t]=this.items[--this.length],this.items[this.length]=i,this.heapify()},Re.dequeue=function(){var t=this.peek();return this.removeAt(0),t},Re.enqueue=function(t){var e=this.length++;this.items[e]=new E(Ie.count++,t),this.percolate(e)},Re.remove=function(t){for(var e=0;e<this.length;e++)if(this.items[e].value===t)return this.removeAt(e),!0;return!1},Ie.count=0;var Le=Ot.CompositeDisposable=function(){var t,e,n=[];if(Array.isArray(arguments[0]))n=arguments[0],e=n.length;else for(e=arguments.length,n=new Array(e),t=0;e>t;t++)n[t]=arguments[t];for(t=0;e>t;t++)if(!Be(n[t]))throw new TypeError("Not a disposable");this.disposables=n,this.isDisposed=!1,this.length=n.length},Te=Le.prototype;Te.add=function(t){this.isDisposed?t.dispose():(this.disposables.push(t),this.length++)},Te.remove=function(t){var e=!1;if(!this.isDisposed){var n=this.disposables.indexOf(t);-1!==n&&(e=!0,this.disposables.splice(n,1),this.length--,t.dispose())}return e},Te.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var t=this.disposables.length,e=new Array(t),n=0;t>n;n++)e[n]=this.disposables[n];for(this.disposables=[],this.length=0,n=0;t>n;n++)e[n].dispose()}};var We=Ot.Disposable=function(t){this.isDisposed=!1,this.action=t||Mt};We.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)};var Pe=We.create=function(t){return new We(t)},Fe=We.empty={dispose:Mt},Be=We.isDisposable=function(t){return t&&Pt(t.dispose)},Ue=We.checkDisposed=function(t){if(t.isDisposed)throw new Jt},Ve=Ot.SingleAssignmentDisposable=function(){this.isDisposed=!1,this.current=null};Ve.prototype.getDisposable=function(){return this.current},Ve.prototype.setDisposable=function(t){if(this.current)throw new Error("Disposable has already been assigned");var e=this.isDisposed;!e&&(this.current=t),e&&t&&t.dispose()},Ve.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this.current;this.current=null}t&&t.dispose()};var Ke=Ot.SerialDisposable=function(){this.isDisposed=!1,this.current=null};Ke.prototype.getDisposable=function(){return this.current},Ke.prototype.setDisposable=function(t){var e=this.isDisposed;if(!e){var n=this.current;this.current=t}n&&n.dispose(),e&&t&&t.dispose()},Ke.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this.current;this.current=null}t&&t.dispose()};var Ge=Ot.RefCountDisposable=function(){function t(t){this.disposable=t,this.disposable.count++,this.isInnerDisposed=!1}function e(t){this.underlyingDisposable=t,this.isDisposed=!1,this.isPrimaryDisposed=!1,this.count=0}return t.prototype.dispose=function(){this.disposable.isDisposed||this.isInnerDisposed||(this.isInnerDisposed=!0,this.disposable.count--,0===this.disposable.count&&this.disposable.isPrimaryDisposed&&(this.disposable.isDisposed=!0,this.disposable.underlyingDisposable.dispose()))},e.prototype.dispose=function(){this.isDisposed||this.isPrimaryDisposed||(this.isPrimaryDisposed=!0,0===this.count&&(this.isDisposed=!0,this.underlyingDisposable.dispose()));
},e.prototype.getDisposable=function(){return this.isDisposed?Fe:new t(this)},e}();x.prototype.dispose=function(){this.scheduler.scheduleWithState(this,S)};var Je=Ot.internals.ScheduledItem=function(t,e,n,r,i){this.scheduler=t,this.state=e,this.action=n,this.dueTime=r,this.comparer=i||Rt,this.disposable=new Ve};Je.prototype.invoke=function(){this.disposable.setDisposable(this.invokeCore())},Je.prototype.compareTo=function(t){return this.comparer(this.dueTime,t.dueTime)},Je.prototype.isCancelled=function(){return this.disposable.isDisposed},Je.prototype.invokeCore=function(){return this.action(this.scheduler,this.state)};var He=Ot.Scheduler=function(){function t(t,e,n,r){this.now=t,this._schedule=e,this._scheduleRelative=n,this._scheduleAbsolute=r}function e(t,e){return e(),Fe}t.isScheduler=function(e){return e instanceof t};var n=t.prototype;return n.schedule=function(t){return this._schedule(t,e)},n.scheduleWithState=function(t,e){return this._schedule(t,e)},n.scheduleWithRelative=function(t,n){return this._scheduleRelative(n,t,e)},n.scheduleWithRelativeAndState=function(t,e,n){return this._scheduleRelative(t,e,n)},n.scheduleWithAbsolute=function(t,n){return this._scheduleAbsolute(n,t,e)},n.scheduleWithAbsoluteAndState=function(t,e,n){return this._scheduleAbsolute(t,e,n)},t.now=zt,t.normalize=function(t){return 0>t&&(t=0),t},t}(),Xe=He.normalize,Ye=He.isScheduler;!function(t){function e(t,e){function n(e){i(e,function(e){var r=!1,i=!1,s=t.scheduleWithState(e,function(t,e){return r?o.remove(s):i=!0,n(e),Fe});i||(o.add(s),r=!0)})}var r=e[0],i=e[1],o=new Le;return n(r),o}function n(t,e,n){function r(e){o(e,function(e,i){var o=!1,u=!1,a=t[n](e,i,function(t,e){return o?s.remove(a):u=!0,r(e),Fe});u||(s.add(a),o=!0)})}var i=e[0],o=e[1],s=new Le;return r(i),s}function r(t,e){t(function(n){e(t,n)})}t.scheduleRecursive=function(t){return this.scheduleRecursiveWithState(t,r)},t.scheduleRecursiveWithState=function(t,n){return this.scheduleWithState([t,n],e)},t.scheduleRecursiveWithRelative=function(t,e){return this.scheduleRecursiveWithRelativeAndState(e,t,r)},t.scheduleRecursiveWithRelativeAndState=function(t,e,r){return this._scheduleRelative([t,r],e,function(t,e){return n(t,e,"scheduleWithRelativeAndState")})},t.scheduleRecursiveWithAbsolute=function(t,e){return this.scheduleRecursiveWithAbsoluteAndState(e,t,r)},t.scheduleRecursiveWithAbsoluteAndState=function(t,e,r){return this._scheduleAbsolute([t,r],e,function(t,e){return n(t,e,"scheduleWithAbsoluteAndState")})}}(He.prototype),function(t){He.prototype.schedulePeriodic=function(t,e){return this.schedulePeriodicWithState(null,t,e)},He.prototype.schedulePeriodicWithState=function(t,e,n){if("undefined"==typeof Nt.setInterval)throw new Xt;e=Xe(e);var r=t,i=Nt.setInterval(function(){r=n(r)},e);return Pe(function(){Nt.clearInterval(i)})}}(He.prototype),function(t){t.catchError=t["catch"]=function(t){return new an(this,t)}}(He.prototype);var Qe,Ze,tn=Ot.internals.SchedulePeriodicRecursive=function(){function t(t,e){e(0,this._period);try{this._state=this._action(this._state)}catch(n){throw this._cancel.dispose(),n}}function e(t,e,n,r){this._scheduler=t,this._state=e,this._period=n,this._action=r}return e.prototype.start=function(){var e=new Ve;return this._cancel=e,e.setDisposable(this._scheduler.scheduleRecursiveWithRelativeAndState(0,this._period,t.bind(this))),e},e}(),en=He.immediate=function(){function t(t,e){return e(this,t)}return new He(zt,t,Zt,Zt)}(),nn=He.currentThread=function(){function t(){for(;n.length>0;){var t=n.dequeue();!t.isCancelled()&&t.invoke()}}function e(e,r){var i=new Je(this,e,r,this.now());if(n)n.enqueue(i);else{n=new Ie(4),n.enqueue(i);var o=w(t)();if(n=null,o===ze)return _(o.e)}return i.disposable}var n,r=new He(zt,e,Zt,Zt);return r.scheduleRequired=function(){return!n},r}(),rn=function(){var t,e=Mt;if(Nt.setTimeout)t=Nt.setTimeout,e=Nt.clearTimeout;else{if(!Nt.WScript)throw new Xt;t=function(t,e){Nt.WScript.Sleep(e),t()}}return{setTimeout:t,clearTimeout:e}}(),on=rn.setTimeout,sn=rn.clearTimeout;!function(){function e(t){if(s)on(function(){e(t)},0);else{var n=o[t];if(n){s=!0;var r=w(n)();if(Ze(t),s=!1,r===ze)return _(r.e)}}}function n(){if(!Nt.postMessage||Nt.importScripts)return!1;var t=!1,e=Nt.onmessage;return Nt.onmessage=function(){t=!0},Nt.postMessage("","*"),Nt.onmessage=e,t}function r(t){"string"==typeof t.data&&t.data.substring(0,c.length)===c&&e(t.data.substring(c.length))}var i=1,o={},s=!1;Ze=function(t){delete o[t]};var u=RegExp("^"+String(ye).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),a="function"==typeof(a=jt&&Dt&&jt.setImmediate)&&!u.test(a)&&a;if(Pt(a))Qe=function(t){var n=i++;return o[n]=t,a(function(){e(n)}),n};else if("undefined"!=typeof t&&"[object process]"==={}.toString.call(t))Qe=function(n){var r=i++;return o[r]=n,t.nextTick(function(){e(r)}),r};else if(n()){var c="ms.rx.schedule"+Math.random();Nt.addEventListener?Nt.addEventListener("message",r,!1):Nt.attachEvent?Nt.attachEvent("onmessage",r):Nt.onmessage=r,Qe=function(t){var e=i++;return o[e]=t,Nt.postMessage(c+currentId,"*"),e}}else if(Nt.MessageChannel){var f=new Nt.MessageChannel;f.port1.onmessage=function(t){e(t.data)},Qe=function(t){var e=i++;return o[e]=t,f.port2.postMessage(e),e}}else Qe="document"in Nt&&"onreadystatechange"in Nt.document.createElement("script")?function(t){var n=Nt.document.createElement("script"),r=i++;return o[r]=t,n.onreadystatechange=function(){e(r),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},Nt.document.documentElement.appendChild(n),r}:function(t){var n=i++;return o[n]=t,on(function(){e(n)},0),n}}();var un=He.timeout=He["default"]=function(){function t(t,e){var n=this,r=new Ve,i=Qe(function(){!r.isDisposed&&r.setDisposable(e(n,t))});return new Le(r,Pe(function(){Ze(i)}))}function e(t,e,n){var r=this,i=He.normalize(e),o=new Ve;if(0===i)return r.scheduleWithState(t,n);var s=on(function(){!o.isDisposed&&o.setDisposable(n(r,t))},i);return new Le(o,Pe(function(){sn(s)}))}function n(t,e,n){return this.scheduleWithRelativeAndState(t,e-this.now(),n)}return new He(zt,t,e,n)}(),an=function(t){function e(t,e){return this._scheduler.scheduleWithState(t,this._wrap(e))}function n(t,e,n){return this._scheduler.scheduleWithRelativeAndState(t,e,this._wrap(n))}function r(t,e,n){return this._scheduler.scheduleWithAbsoluteAndState(t,e,this._wrap(n))}function i(i,o){this._scheduler=i,this._handler=o,this._recursiveOriginal=null,this._recursiveWrapper=null,t.call(this,this._scheduler.now.bind(this._scheduler),e,n,r)}return Oe(i,t),i.prototype._clone=function(t){return new i(t,this._handler)},i.prototype._wrap=function(t){var e=this;return function(n,r){try{return t(e._getRecursiveWrapper(n),r)}catch(i){if(!e._handler(i))throw i;return Fe}}},i.prototype._getRecursiveWrapper=function(t){if(this._recursiveOriginal!==t){this._recursiveOriginal=t;var e=this._clone(t);e._recursiveOriginal=t,e._recursiveWrapper=e,this._recursiveWrapper=e}return this._recursiveWrapper},i.prototype.schedulePeriodicWithState=function(t,e,n){var r=this,i=!1,o=new Ve;return o.setDisposable(this._scheduler.schedulePeriodicWithState(t,e,function(t){if(i)return null;try{return n(t)}catch(e){if(i=!0,!r._handler(e))throw e;return o.dispose(),null}})),o},i}(He),cn=Ot.Notification=function(){function t(t,e,n,r,i,o){this.kind=t,this.value=e,this.exception=n,this._accept=r,this._acceptObservable=i,this.toString=o}return t.prototype.accept=function(t,e,n){return t&&"object"==typeof t?this._acceptObservable(t):this._accept(t,e,n)},t.prototype.toObservable=function(t){var e=this;return Ye(t)||(t=en),new Lr(function(n){return t.scheduleWithState(e,function(t,e){e._acceptObservable(n),"N"===e.kind&&n.onCompleted()})})},t}(),fn=cn.createOnNext=function(){function t(t){return t(this.value)}function e(t){return t.onNext(this.value)}function n(){return"OnNext("+this.value+")"}return function(r){return new cn("N",r,null,t,e,n)}}(),hn=cn.createOnError=function(){function t(t,e){return e(this.exception)}function e(t){return t.onError(this.exception)}function n(){return"OnError("+this.exception+")"}return function(r){return new cn("E",null,r,t,e,n)}}(),ln=cn.createOnCompleted=function(){function t(t,e,n){return n()}function e(t){return t.onCompleted()}function n(){return"OnCompleted()"}return function(){return new cn("C",null,null,t,e,n)}}(),pn=Ot.Observer=function(){};pn.prototype.toNotifier=function(){var t=this;return function(e){return e.accept(t)}},pn.prototype.asObserver=function(){return new mn(this.onNext.bind(this),this.onError.bind(this),this.onCompleted.bind(this))},pn.prototype.checked=function(){return new yn(this)};var dn=pn.create=function(t,e,n){return t||(t=Mt),e||(e=Lt),n||(n=Mt),new mn(t,e,n)};pn.fromNotifier=function(t,e){return new mn(function(n){return t.call(e,fn(n))},function(n){return t.call(e,hn(n))},function(){return t.call(e,ln())})},pn.prototype.notifyOn=function(t){return new wn(t,this)},pn.prototype.makeSafe=function(t){return new AnonymousSafeObserver(this._onNext,this._onError,this._onCompleted,t)};var vn,bn=Ot.internals.AbstractObserver=function(t){function e(){this.isStopped=!1,t.call(this)}return Oe(e,t),e.prototype.next=Qt,e.prototype.error=Qt,e.prototype.completed=Qt,e.prototype.onNext=function(t){this.isStopped||this.next(t)},e.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.error(t))},e.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.completed())},e.prototype.dispose=function(){this.isStopped=!0},e.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.error(t),!0)},e}(pn),mn=Ot.AnonymousObserver=function(t){function e(e,n,r){t.call(this),this._onNext=e,this._onError=n,this._onCompleted=r}return Oe(e,t),e.prototype.next=function(t){this._onNext(t)},e.prototype.error=function(t){this._onError(t)},e.prototype.completed=function(){this._onCompleted()},e}(bn),yn=function(t){function e(e){t.call(this),this._observer=e,this._state=0}Oe(e,t);var n=e.prototype;return n.onNext=function(t){this.checkAccess();var e=w(this._observer.onNext).call(this._observer,t);this._state=0,e===ze&&_(e.e)},n.onError=function(t){this.checkAccess();var e=w(this._observer.onError).call(this._observer,t);this._state=2,e===ze&&_(e.e)},n.onCompleted=function(){this.checkAccess();var t=w(this._observer.onCompleted).call(this._observer);this._state=2,t===ze&&_(t.e)},n.checkAccess=function(){if(1===this._state)throw new Error("Re-entrancy detected");if(2===this._state)throw new Error("Observer completed");0===this._state&&(this._state=1)},e}(pn),gn=Ot.internals.ScheduledObserver=function(t){function e(e,n){t.call(this),this.scheduler=e,this.observer=n,this.isAcquired=!1,this.hasFaulted=!1,this.queue=[],this.disposable=new Ke}return Oe(e,t),e.prototype.next=function(t){var e=this;this.queue.push(function(){e.observer.onNext(t)})},e.prototype.error=function(t){var e=this;this.queue.push(function(){e.observer.onError(t)})},e.prototype.completed=function(){var t=this;this.queue.push(function(){t.observer.onCompleted()})},e.prototype.ensureActive=function(){var t=!1,e=this;!this.hasFaulted&&this.queue.length>0&&(t=!this.isAcquired,this.isAcquired=!0),t&&this.disposable.setDisposable(this.scheduler.scheduleRecursive(function(t){var n;if(!(e.queue.length>0))return void(e.isAcquired=!1);n=e.queue.shift();try{n()}catch(r){throw e.queue=[],e.hasFaulted=!0,r}t()}))},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.disposable.dispose()},e}(bn),wn=function(t){function e(e,n,r){t.call(this,e,n),this._cancel=r}return Oe(e,t),e.prototype.next=function(e){t.prototype.next.call(this,e),this.ensureActive()},e.prototype.error=function(e){t.prototype.error.call(this,e),this.ensureActive()},e.prototype.completed=function(){t.prototype.completed.call(this),this.ensureActive()},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._cancel&&this._cancel.dispose(),this._cancel=null},e}(gn),_n=Ot.Observable=function(){function t(t){if(Ot.config.longStackSupport&&Ft){try{throw new Error}catch(e){this.stack=e.stack.substring(e.stack.indexOf("\n")+1)}var n=this;this._subscribe=function(e){var r=e.onError.bind(e);return e.onError=function(t){u(t,n),r(t)},t.call(n,e)}}else this._subscribe=t}return vn=t.prototype,vn.subscribe=vn.forEach=function(t,e,n){return this._subscribe("object"==typeof t?t:dn(t,e,n))},vn.subscribeOnNext=function(t,e){return this._subscribe(dn("undefined"!=typeof e?function(n){t.call(e,n)}:t))},vn.subscribeOnError=function(t,e){return this._subscribe(dn(null,"undefined"!=typeof e?function(n){t.call(e,n)}:t))},vn.subscribeOnCompleted=function(t,e){return this._subscribe(dn(null,null,"undefined"!=typeof e?function(){t.call(e)}:t))},t}(),En=Ot.ObservableBase=function(t){function e(t){return t&&Pt(t.dispose)?t:Pt(t)?Pe(t):Fe}function n(t,n){var r=n[0],i=n[1],o=w(i.subscribeCore).call(i,r);return o!==ze||r.fail(ze.e)?void r.setDisposable(e(o)):_(ze.e)}function r(t){var e=new Tr(t),r=[e,this];return nn.scheduleRequired()?nn.scheduleWithState(r,n):n(null,r),e}function i(){t.call(this,r)}return Oe(i,t),i.prototype.subscribeCore=Qt,i}(_n),xn=Ot.internals.Enumerable=function(){},Sn=function(t){function e(e){this.sources=e,t.call(this)}function n(t,e,n){this.o=t,this.s=e,this.e=n,this.isStopped=!1}return Oe(e,t),e.prototype.subscribeCore=function(t){var e,r=new Ke,i=en.scheduleRecursiveWithState(this.sources[te](),function(i,o){if(!e){var s=w(i.next).call(i);if(s===ze)return t.onError(s.e);if(s.done)return t.onCompleted();var u=s.value;Tt(u)&&(u=jn(u));var a=new Ve;r.setDisposable(a),a.setDisposable(u.subscribe(new n(t,o,i)))}});return new Le(r,i,Pe(function(){e=!0}))},n.prototype.onNext=function(t){this.isStopped||this.o.onNext(t)},n.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.s(this.e))},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(t),!0)},e}(En);xn.prototype.concat=function(){return new Sn(this)};var Cn=function(t){function e(e){this.sources=e,t.call(this)}return Oe(e,t),e.prototype.subscribeCore=function(t){var e,n=this.sources[te](),r=new Ke,i=en.scheduleRecursiveWithState(null,function(i,o){if(!e){var s=w(n.next).call(n);if(s===ze)return t.onError(s.e);if(s.done)return null!==i?t.onError(i):t.onCompleted();var u=s.value;Tt(u)&&(u=jn(u));var a=new Ve;r.setDisposable(a),a.setDisposable(u.subscribe(function(e){t.onNext(e)},o,function(){t.onCompleted()}))}});return new Le(r,i,Pe(function(){e=!0}))},e}(En);xn.prototype.catchError=function(){return new Cn(this)},xn.prototype.catchErrorWhen=function(t){var e=this;return new Lr(function(n){var r,i,o=new Pr,s=new Pr,u=t(o),a=u.subscribe(s),c=e[te](),f=new Ke,h=en.scheduleRecursive(function(t){if(!r){var e=w(c.next).call(c);if(e===ze)return n.onError(e.e);if(e.done)return void(i?n.onError(i):n.onCompleted());var u=e.value;Tt(u)&&(u=jn(u));var a=new Ve,h=new Ve;f.setDisposable(new Le(h,a)),a.setDisposable(u.subscribe(function(t){n.onNext(t)},function(e){h.setDisposable(s.subscribe(t,function(t){n.onError(t)},function(){n.onCompleted()})),o.onNext(e)},function(){n.onCompleted()}))}});return new Le(a,f,h,Pe(function(){r=!0}))})};var kn=function(t){function e(t,e){this.v=t,this.c=null==e?-1:e}function n(t){this.v=t.v,this.l=t.c}return Oe(e,t),e.prototype[te]=function(){return new n(this)},n.prototype.next=function(){return 0===this.l?ee:(this.l>0&&this.l--,{done:!1,value:this.v})},e}(xn),Nn=xn.repeat=function(t,e){return new kn(t,e)},$n=function(t){function e(t,e,n){this.s=t,this.fn=e?oe(e,n,3):null}function n(t){this.i=-1,this.s=t.s,this.l=this.s.length,this.fn=t.fn}return Oe(e,t),e.prototype[te]=function(){return new n(this)},n.prototype.next=function(){return++this.i<this.l?{done:!1,value:this.fn?this.fn(this.s[this.i],this.i,this.s):this.s[this.i]}:ee},e}(xn),An=xn.of=function(t,e,n){return new $n(t,e,n)};vn.observeOn=function(t){var e=this;return new Lr(function(n){return e.subscribe(new wn(t,n))},e)},vn.subscribeOn=function(t){var e=this;return new Lr(function(n){var r=new Ve,i=new Ke;return i.setDisposable(r),r.setDisposable(t.schedule(function(){i.setDisposable(new x(t,e.subscribe(n)))})),i},e)};var Dn=function(t){function e(e){this.p=e,t.call(this)}return Oe(e,t),e.prototype.subscribeCore=function(t){return this.p.then(function(e){t.onNext(e),t.onCompleted()},function(e){t.onError(e)}),Fe},e}(En),jn=_n.fromPromise=function(t){return new Dn(t)};vn.toPromise=function(t){if(t||(t=Ot.config.Promise),!t)throw new Xt("Promise type not provided nor in Rx.config.Promise");var e=this;return new t(function(t,n){var r,i=!1;e.subscribe(function(t){r=t,i=!0},n,function(){i&&t(r)})})};var On=function(t){function e(e){this.source=e,t.call(this)}function n(t){this.o=t,this.a=[],this.isStopped=!1}return Oe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t))},n.prototype.onNext=function(t){this.isStopped||this.a.push(t)},n.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onNext(this.a),this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(t),!0)},e}(En);vn.toArray=function(){return new On(this)},_n.create=_n.createWithDisposable=function(t,e){return new Lr(t,e)};var Mn=_n.defer=function(t){return new Lr(function(e){var n;try{n=t()}catch(r){return Xn(r).subscribe(e)}return Tt(n)&&(n=jn(n)),n.subscribe(e)})},qn=function(t){function e(e){this.scheduler=e,t.call(this)}function n(t,e){this.observer=t,this.parent=e}function r(t,e){e.onCompleted()}return Oe(e,t),e.prototype.subscribeCore=function(t){var e=new n(t,this);return e.run()},n.prototype.run=function(){return this.parent.scheduler.scheduleWithState(this.observer,r)},e}(En),zn=_n.empty=function(t){return Ye(t)||(t=en),new qn(t)},In=function(t){function e(e,n,r){this.iterable=e,this.mapper=n,this.scheduler=r,t.call(this)}return Oe(e,t),e.prototype.subscribeCore=function(t){var e=new Rn(t,this);return e.run()},e}(En),Rn=function(){function t(t,e){this.observer=t,this.parent=e}return t.prototype.run=function(){function t(t,e){try{var o=n.next()}catch(s){return r.onError(s)}if(o.done)return r.onCompleted();var u=o.value;if(i)try{u=i(u,t)}catch(s){return r.onError(s)}r.onNext(u),e(t+1)}var e=Object(this.parent.iterable),n=D(e),r=this.observer,i=this.parent.mapper;return this.parent.scheduler.scheduleRecursiveWithState(0,t)},t}(),Ln=Math.pow(2,53)-1;C.prototype[te]=function(){return new k(this._s)},k.prototype[te]=function(){return this},k.prototype.next=function(){return this._i<this._l?{done:!1,value:this._s.charAt(this._i++)}:ee},N.prototype[te]=function(){return new $(this._a)},$.prototype[te]=function(){return this},$.prototype.next=function(){return this._i<this._l?{done:!1,value:this._a[this._i++]}:ee};var Tn=_n.from=function(t,e,n,r){if(null==t)throw new Error("iterable cannot be null.");if(e&&!Pt(e))throw new Error("mapFn when provided must be a function");if(e)var i=oe(e,n,2);return Ye(r)||(r=nn),new In(t,i,r)},Wn=function(t){function e(e,n){this.args=e,this.scheduler=n,t.call(this)}return Oe(e,t),e.prototype.subscribeCore=function(t){var e=new M(t,this);return e.run()},e}(En);M.prototype.run=function(){function t(t,i){r>t?(e.onNext(n[t]),i(t+1)):e.onCompleted()}var e=this.observer,n=this.parent.args,r=n.length;return this.parent.scheduler.scheduleRecursiveWithState(0,t)};var Pn=_n.fromArray=function(t,e){return Ye(e)||(e=nn),new Wn(t,e)};_n.generate=function(t,e,n,r,i){return Ye(i)||(i=nn),new Lr(function(o){var s=!0;return i.scheduleRecursiveWithState(t,function(t,i){var u,a;try{s?s=!1:t=n(t),u=e(t),u&&(a=r(t))}catch(c){return o.onError(c)}u?(o.onNext(a),i(t)):o.onCompleted()})})},_n.of=function(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];return new Wn(e,nn)},_n.ofWithScheduler=function(t){for(var e=arguments.length,n=new Array(e-1),r=1;e>r;r++)n[r-1]=arguments[r];return new Wn(n,t)},_n.ofArrayChanges=function(t){if(!Array.isArray(t))throw new TypeError("Array.observe only accepts arrays.");if("function"!=typeof Array.observe&&"function"!=typeof Array.unobserve)throw new TypeError("Array.observe is not supported on your platform");return new Lr(function(e){function n(t){for(var n=0,r=t.length;r>n;n++)e.onNext(t[n])}return Array.observe(t,n),function(){Array.unobserve(t,n)}})},_n.ofObjectChanges=function(t){if(null==t)throw new TypeError("object must not be null or undefined.");if("function"!=typeof Object.observe&&"function"!=typeof Object.unobserve)throw new TypeError("Object.observe is not supported on your platform");return new Lr(function(e){function n(t){for(var n=0,r=t.length;r>n;n++)e.onNext(t[n])}return Object.observe(t,n),function(){Object.unobserve(t,n)}})};var Fn=function(t){function e(){t.call(this)}return Oe(e,t),e.prototype.subscribeCore=function(t){return Fe},e}(En),Bn=_n.never=function(){return new Fn},Un=function(t){function e(e,n){this.obj=e,this.keys=Object.keys(e),this.scheduler=n,t.call(this)}return Oe(e,t),e.prototype.subscribeCore=function(t){var e=new z(t,this);return e.run()},e}(En);z.prototype.run=function(){function t(t,o){if(i>t){var s=r[t];e.onNext([s,n[s]]),o(t+1)}else e.onCompleted()}var e=this.observer,n=this.parent.obj,r=this.parent.keys,i=r.length;return this.parent.scheduler.scheduleRecursiveWithState(0,t)},_n.pairs=function(t,e){return e||(e=nn),new Un(t,e)};var Vn=function(t){function e(e,n,r){this.start=e,this.rangeCount=n,this.scheduler=r,t.call(this)}return Oe(e,t),e.prototype.subscribeCore=function(t){var e=new Kn(t,this);return e.run()},e}(En),Kn=function(){function t(t,e){this.observer=t,this.parent=e}return t.prototype.run=function(){function t(t,i){n>t?(r.onNext(e+t),i(t+1)):r.onCompleted()}var e=this.parent.start,n=this.parent.rangeCount,r=this.observer;return this.parent.scheduler.scheduleRecursiveWithState(0,t)},t}();_n.range=function(t,e,n){return Ye(n)||(n=nn),new Vn(t,e,n)};var Gn=function(t){function e(e,n,r){this.value=e,this.repeatCount=null==n?-1:n,this.scheduler=r,t.call(this)}return Oe(e,t),e.prototype.subscribeCore=function(t){var e=new I(t,this);return e.run()},e}(En);I.prototype.run=function(){function t(t,r){return(-1===t||t>0)&&(e.onNext(n),t>0&&t--),0===t?e.onCompleted():void r(t)}var e=this.observer,n=this.parent.value;return this.parent.scheduler.scheduleRecursiveWithState(this.parent.repeatCount,t)},_n.repeat=function(t,e,n){return Ye(n)||(n=nn),new Gn(t,e,n)};var Jn=function(t){function e(e,n){this.value=e,this.scheduler=n,t.call(this)}function n(t,e){this.observer=t,this.parent=e}function r(t,e){var n=e[0],r=e[1];r.onNext(n),r.onCompleted()}return Oe(e,t),e.prototype.subscribeCore=function(t){var e=new n(t,this);return e.run()},n.prototype.run=function(){return this.parent.scheduler.scheduleWithState([this.parent.value,this.observer],r)},e}(En),Hn=(_n["return"]=_n.just=_n.returnValue=function(t,e){return Ye(e)||(e=en),new Jn(t,e)},function(t){function e(e,n){this.error=e,this.scheduler=n,t.call(this)}function n(t,e){this.o=t,this.p=e}function r(t,e){var n=e[0],r=e[1];r.onError(n)}return Oe(e,t),e.prototype.subscribeCore=function(t){var e=new n(t,this);return e.run()},n.prototype.run=function(){return this.p.scheduler.scheduleWithState([this.p.error,this.o],r)},e}(En)),Xn=_n["throw"]=_n.throwError=_n.throwException=function(t,e){return Ye(e)||(e=en),new Hn(t,e)};_n.using=function(t,e){return new Lr(function(n){var r,i,o=Fe;try{r=t(),r&&(o=r),i=e(r)}catch(s){return new Le(Xn(s).subscribe(n),o)}return new Le(i.subscribe(n),o)})},vn.amb=function(t){var e=this;return new Lr(function(n){function r(){o||(o=s,c.dispose())}function i(){o||(o=u,a.dispose())}var o,s="L",u="R",a=new Ve,c=new Ve;return Tt(t)&&(t=jn(t)),a.setDisposable(e.subscribe(function(t){r(),o===s&&n.onNext(t)},function(t){r(),o===s&&n.onError(t)},function(){r(),o===s&&n.onCompleted()})),c.setDisposable(t.subscribe(function(t){i(),o===u&&n.onNext(t)},function(t){i(),o===u&&n.onError(t)},function(){i(),o===u&&n.onCompleted()})),new Le(a,c)})},_n.amb=function(){function t(t,e){return t.amb(e)}var e=Bn(),n=[];if(Array.isArray(arguments[0]))n=arguments[0];else for(var r=0,i=arguments.length;i>r;r++)n.push(arguments[r]);for(var r=0,i=n.length;i>r;r++)e=t(e,n[r]);return e},vn["catch"]=vn.catchError=vn.catchException=function(t){return"function"==typeof t?R(this,t):Yn([this,t])};var Yn=_n.catchError=_n["catch"]=_n.catchException=function(){var t=[];if(Array.isArray(arguments[0]))t=arguments[0];else for(var e=0,n=arguments.length;n>e;e++)t.push(arguments[e]);return An(t).catchError()};vn.combineLatest=function(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];return Array.isArray(e[0])?e[0].unshift(this):e.unshift(this),Qn.apply(this,e)};var Qn=_n.combineLatest=function(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];var r=e.pop();return Array.isArray(e[0])&&(e=e[0]),new Lr(function(t){function n(e){if(u[e]=!0,a||(a=u.every(qt))){try{var n=r.apply(null,f)}catch(i){return t.onError(i)}t.onNext(n)}else c.filter(function(t,n){return n!==e}).every(qt)&&t.onCompleted()}function i(e){c[e]=!0,c.every(qt)&&t.onCompleted()}for(var o=e.length,s=function(){return!1},u=y(o,s),a=!1,c=y(o,s),f=new Array(o),h=new Array(o),l=0;o>l;l++)!function(r){var o=e[r],s=new Ve;Tt(o)&&(o=jn(o)),s.setDisposable(o.subscribe(function(t){f[r]=t,n(r)},function(e){t.onError(e)},function(){i(r)})),h[r]=s}(l);return new Le(h)},this)};vn.concat=function(){for(var t=[],e=0,n=arguments.length;n>e;e++)t.push(arguments[e]);return t.unshift(this),tr.apply(null,t)};var Zn=function(t){function e(e){this.sources=e,t.call(this)}function n(t,e){this.sources=t,this.o=e}return Oe(e,t),e.prototype.subscribeCore=function(t){var e=new n(this.sources,t);return e.run()},n.prototype.run=function(){var t,e=new Ke,n=this.sources,r=n.length,i=this.o,o=en.scheduleRecursiveWithState(0,function(o,s){if(!t){if(o===r)return i.onCompleted();var u=n[o];Tt(u)&&(u=jn(u));var a=new Ve;e.setDisposable(a),a.setDisposable(u.subscribe(function(t){i.onNext(t)},function(t){i.onError(t)},function(){s(o+1)}))}});return new Le(e,o,Pe(function(){t=!0}))},e}(En),tr=_n.concat=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(arguments.length);for(var e=0,n=arguments.length;n>e;e++)t[e]=arguments[e]}return new Zn(t)};vn.concatAll=vn.concatObservable=function(){return this.merge(1)};var er=function(t){function e(e,n){this.source=e,this.maxConcurrent=n,t.call(this)}return Oe(e,t),e.prototype.subscribeCore=function(t){var e=new Le;return e.add(this.source.subscribe(new nr(t,this.maxConcurrent,e))),e},e}(En),nr=function(){function t(t,e,n){this.o=t,this.max=e,this.g=n,this.done=!1,this.q=[],this.activeCount=0,this.isStopped=!1}function e(t,e){this.parent=t,this.sad=e,this.isStopped=!1}return t.prototype.handleSubscribe=function(t){var n=new Ve;this.g.add(n),Tt(t)&&(t=jn(t)),n.setDisposable(t.subscribe(new e(this,n)))},t.prototype.onNext=function(t){this.isStopped||(this.activeCount<this.max?(this.activeCount++,this.handleSubscribe(t)):this.q.push(t))},t.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},t.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.done=!0,0===this.activeCount&&this.o.onCompleted())},t.prototype.dispose=function(){this.isStopped=!0},t.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(t),!0)},e.prototype.onNext=function(t){this.isStopped||this.parent.o.onNext(t)},e.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.parent.o.onError(t))},e.prototype.onCompleted=function(){if(!this.isStopped){this.isStopped=!0;var t=this.parent;t.g.remove(this.sad),t.q.length>0?t.handleSubscribe(t.q.shift()):(t.activeCount--,t.done&&0===t.activeCount&&t.o.onCompleted())}},e.prototype.dispose=function(){this.isStopped=!0},e.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.parent.o.onError(t),!0)},t}();vn.merge=function(t){return"number"!=typeof t?rr(this,t):new er(this,t)};var rr=_n.merge=function(){var t,e,n=[],r=arguments.length;if(arguments[0])if(Ye(arguments[0]))for(t=arguments[0],e=1;r>e;e++)n.push(arguments[e]);else for(t=en,e=0;r>e;e++)n.push(arguments[e]);else for(t=en,e=1;r>e;e++)n.push(arguments[e]);return Array.isArray(n[0])&&(n=n[0]),q(t,n).mergeAll()},ir=function(t){function e(e){this.source=e,t.call(this)}function n(t,e){this.o=t,this.g=e,this.isStopped=!1,this.done=!1}function r(t,e,n){this.parent=t,this.g=e,this.sad=n,this.isStopped=!1}return Oe(e,t),e.prototype.subscribeCore=function(t){var e=new Le,r=new Ve;return e.add(r),r.setDisposable(this.source.subscribe(new n(t,e))),e},n.prototype.onNext=function(t){if(!this.isStopped){var e=new Ve;this.g.add(e),Tt(t)&&(t=jn(t)),e.setDisposable(t.subscribe(new r(this,this.g,e)))}},n.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.done=!0,1===this.g.length&&this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(t),!0)},r.prototype.onNext=function(t){this.isStopped||this.parent.o.onNext(t)},r.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.parent.o.onError(t))},r.prototype.onCompleted=function(){if(!this.isStopped){var t=this.parent;this.isStopped=!0,t.g.remove(this.sad),t.done&&1===t.g.length&&t.o.onCompleted()}},r.prototype.dispose=function(){this.isStopped=!0},r.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.parent.o.onError(t),!0)},e}(En);vn.mergeAll=vn.mergeObservable=function(){return new ir(this)};var or=Ot.CompositeError=function(t){this.name="NotImplementedError",this.innerErrors=t,this.message="This contains multiple errors. Check the innerErrors",Error.call(this)};or.prototype=Error.prototype,_n.mergeDelayError=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{var e=arguments.length;t=new Array(e);for(var n=0;e>n;n++)t[n]=arguments[n]}var r=q(null,t);return new Lr(function(t){function e(){0===s.length?t.onCompleted():1===s.length?t.onError(s[0]):t.onError(new or(s))}var n=new Le,i=new Ve,o=!1,s=[];return n.add(i),i.setDisposable(r.subscribe(function(r){var i=new Ve;n.add(i),Tt(r)&&(r=jn(r)),i.setDisposable(r.subscribe(function(e){t.onNext(e)},function(t){s.push(t),n.remove(i),o&&1===n.length&&e()},function(){n.remove(i),o&&1===n.length&&e()}))},function(t){s.push(t),o=!0,1===n.length&&e()},function(){o=!0,1===n.length&&e()})),n})},vn.onErrorResumeNext=function(t){if(!t)throw new Error("Second observable is required");return sr([this,t])};var sr=_n.onErrorResumeNext=function(){var t=[];if(Array.isArray(arguments[0]))t=arguments[0];else for(var e=0,n=arguments.length;n>e;e++)t.push(arguments[e]);return new Lr(function(e){var n=0,r=new Ke,i=en.scheduleRecursive(function(i){var o,s;n<t.length?(o=t[n++],Tt(o)&&(o=jn(o)),s=new Ve,r.setDisposable(s),s.setDisposable(o.subscribe(e.onNext.bind(e),i,i))):e.onCompleted()});return new Le(r,i)})};vn.skipUntil=function(t){var e=this;return new Lr(function(n){var r=!1,i=new Le(e.subscribe(function(t){r&&n.onNext(t)},function(t){n.onError(t)},function(){r&&n.onCompleted()}));Tt(t)&&(t=jn(t));var o=new Ve;return i.add(o),o.setDisposable(t.subscribe(function(){r=!0,o.dispose()},function(t){n.onError(t)},function(){o.dispose()})),i},e)};var ur=function(t){function e(e){this.source=e,t.call(this)}function n(t,e){this.o=t,this.inner=e,this.stopped=!1,this.latest=0,this.hasLatest=!1,this.isStopped=!1}function r(t,e){this.parent=t,this.id=e,this.isStopped=!1}return Oe(e,t),e.prototype.subscribeCore=function(t){var e=new Ke,r=this.source.subscribe(new n(t,e));
return new Le(r,e)},n.prototype.onNext=function(t){if(!this.isStopped){var e=new Ve,n=++this.latest;this.hasLatest=!0,this.inner.setDisposable(e),Tt(t)&&(t=jn(t)),e.setDisposable(t.subscribe(new r(this,n)))}},n.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.stopped=!0,!this.hasLatest&&this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(t),!0)},r.prototype.onNext=function(t){this.isStopped||this.parent.latest===this.id&&this.parent.o.onNext(t)},r.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.parent.latest===this.id&&this.parent.o.onError(t))},r.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.parent.latest===this.id&&(this.parent.hasLatest=!1,this.parent.isStopped&&this.parent.o.onCompleted()))},r.prototype.dispose=function(){this.isStopped=!0},r.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.parent.o.onError(t),!0)},e}(En);vn["switch"]=vn.switchLatest=function(){return new ur(this)};var ar=function(t){function e(e,n){this.source=e,this.other=Tt(n)?jn(n):n,t.call(this)}function n(t){this.o=t,this.isStopped=!1}return Oe(e,t),e.prototype.subscribeCore=function(t){return new Le(this.source.subscribe(t),this.other.subscribe(new n(t)))},n.prototype.onNext=function(t){this.isStopped||this.o.onCompleted()},n.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},n.prototype.onCompleted=function(){!this.isStopped&&(this.isStopped=!0)},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(t),!0)},e}(En);vn.takeUntil=function(t){return new ar(this,t)},vn.withLatestFrom=function(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];var r=e.pop(),i=this;return Array.isArray(e[0])&&(e=e[0]),new Lr(function(t){for(var n=e.length,o=y(n,L),s=!1,u=new Array(n),a=new Array(n+1),c=0;n>c;c++)!function(n){var r=e[n],i=new Ve;Tt(r)&&(r=jn(r)),i.setDisposable(r.subscribe(function(t){u[n]=t,o[n]=!0,s=o.every(qt)},function(e){t.onError(e)},Mt)),a[n]=i}(c);var f=new Ve;return f.setDisposable(i.subscribe(function(e){var n=[e].concat(u);if(s){var i=w(r).apply(null,n);return i===ze?t.onError(i.e):void t.onNext(i)}},function(e){t.onError(e)},function(){t.onCompleted()})),a[n]=f,new Le(a)},this)},vn.zip=function(){if(Array.isArray(arguments[0]))return T.apply(this,arguments);for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];var r=this,i=e.pop();return e.unshift(r),new Lr(function(t){for(var n=e.length,o=y(n,W),s=y(n,L),u=new Array(n),a=0;n>a;a++)!function(n){var a=e[n],c=new Ve;Tt(a)&&(a=jn(a)),c.setDisposable(a.subscribe(function(e){if(o[n].push(e),o.every(function(t){return t.length>0})){var u=o.map(function(t){return t.shift()}),a=w(i).apply(r,u);if(a===ze)return t.onError(a.e);t.onNext(a)}else s.filter(function(t,e){return e!==n}).every(qt)&&t.onCompleted()},function(e){t.onError(e)},function(){s[n]=!0,s.every(qt)&&t.onCompleted()})),u[n]=c}(a);return new Le(u)},r)},_n.zip=function(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];var r=e.shift();return r.zip.apply(r,e)},_n.zipArray=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{var e=arguments.length;t=new Array(e);for(var n=0;e>n;n++)t[n]=arguments[n]}return new Lr(function(e){for(var n=t.length,r=y(n,P),i=y(n,L),o=new Array(n),s=0;n>s;s++)!function(n){o[n]=new Ve,o[n].setDisposable(t[n].subscribe(function(t){if(r[n].push(t),r.every(function(t){return t.length>0})){var o=r.map(function(t){return t.shift()});e.onNext(o)}else if(i.filter(function(t,e){return e!==n}).every(qt))return e.onCompleted()},function(t){e.onError(t)},function(){i[n]=!0,i.every(qt)&&e.onCompleted()}))}(s);return new Le(o)})},vn.asObservable=function(){var t=this;return new Lr(function(e){return t.subscribe(e)},t)},vn.bufferWithCount=function(t,e){return"number"!=typeof e&&(e=t),this.windowWithCount(t,e).selectMany(function(t){return t.toArray()}).where(function(t){return t.length>0})},vn.dematerialize=function(){var t=this;return new Lr(function(e){return t.subscribe(function(t){return t.accept(e)},function(t){e.onError(t)},function(){e.onCompleted()})},this)},vn.distinctUntilChanged=function(t,e){var n=this;return e||(e=It),new Lr(function(r){var i,o=!1;return n.subscribe(function(n){var s=n;if(t&&(s=w(t)(n),s===ze))return r.onError(s.e);if(o){var u=w(e)(i,s);if(u===ze)return r.onError(u.e)}o&&u||(o=!0,i=s,r.onNext(n))},function(t){r.onError(t)},function(){r.onCompleted()})},this)};var cr=function(t){function e(e,n,r,i){this.source=e,this.t=!n||Pt(n)?dn(n||Mt,r||Mt,i||Mt):n,t.call(this)}function n(t,e){this.o=t,this.t=e,this.isStopped=!1}return Oe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this.t))},n.prototype.onNext=function(t){if(!this.isStopped){var e=w(this.t.onNext).call(this.t,t);e===ze&&this.o.onError(e.e),this.o.onNext(t)}},n.prototype.onError=function(t){if(!this.isStopped){this.isStopped=!0;var e=w(this.t.onError).call(this.t,t);if(e===ze)return this.o.onError(e.e);this.o.onError(t)}},n.prototype.onCompleted=function(){if(!this.isStopped){this.isStopped=!0;var t=w(this.t.onCompleted).call(this.t);if(t===ze)return this.o.onError(t.e);this.o.onCompleted()}},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(t),!0)},e}(En);vn["do"]=vn.tap=vn.doAction=function(t,e,n){return new cr(this,t,e,n)},vn.doOnNext=vn.tapOnNext=function(t,e){return this.tap("undefined"!=typeof e?function(n){t.call(e,n)}:t)},vn.doOnError=vn.tapOnError=function(t,e){return this.tap(Mt,"undefined"!=typeof e?function(n){t.call(e,n)}:t)},vn.doOnCompleted=vn.tapOnCompleted=function(t,e){return this.tap(Mt,null,"undefined"!=typeof e?function(){t.call(e)}:t)},vn["finally"]=vn.ensure=function(t){var e=this;return new Lr(function(n){var r;try{r=e.subscribe(n)}catch(i){throw t(),i}return Pe(function(){try{r.dispose()}catch(e){throw e}finally{t()}})},this)},vn.finallyAction=function(t){return this.ensure(t)};var fr=function(t){function e(e){this.source=e,t.call(this)}function n(t){this.o=t,this.isStopped=!1}return Oe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t))},n.prototype.onNext=Mt,n.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.observer.onError(t),!0)},e}(En);vn.ignoreElements=function(){return new fr(this)},vn.materialize=function(){var t=this;return new Lr(function(e){return t.subscribe(function(t){e.onNext(fn(t))},function(t){e.onNext(hn(t)),e.onCompleted()},function(){e.onNext(ln()),e.onCompleted()})},t)},vn.repeat=function(t){return Nn(this,t).concat()},vn.retry=function(t){return Nn(this,t).catchError()},vn.retryWhen=function(t){return Nn(this).catchErrorWhen(t)};var hr=function(t){function e(e,n,r,i){this.source=e,this.accumulator=n,this.hasSeed=r,this.seed=i,t.call(this)}return Oe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new F(t,this))},e}(En);F.prototype.onNext=function(t){if(!this.isStopped){!this.hasValue&&(this.hasValue=!0);try{this.hasAccumulation?this.accumulation=this.accumulator(this.accumulation,t):(this.accumulation=this.hasSeed?this.accumulator(this.seed,t):t,this.hasAccumulation=!0)}catch(e){return this.observer.onError(e)}this.observer.onNext(this.accumulation)}},F.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.observer.onError(t))},F.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,!this.hasValue&&this.hasSeed&&this.observer.onNext(this.seed),this.observer.onCompleted())},F.prototype.dispose=function(){this.isStopped=!0},F.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.observer.onError(t),!0)},vn.scan=function(){var t,e,n=!1;return 2===arguments.length?(n=!0,t=arguments[0],e=arguments[1]):e=arguments[0],new hr(this,e,n,t)},vn.skipLast=function(t){if(0>t)throw new Ht;var e=this;return new Lr(function(n){var r=[];return e.subscribe(function(e){r.push(e),r.length>t&&n.onNext(r.shift())},function(t){n.onError(t)},function(){n.onCompleted()})},e)},vn.startWith=function(){var t,e=0;arguments.length&&Ye(arguments[0])?(t=arguments[0],e=1):t=en;for(var n=[],r=e,i=arguments.length;i>r;r++)n.push(arguments[r]);return An([Pn(n,t),this]).concat()},vn.takeLast=function(t){if(0>t)throw new Ht;var e=this;return new Lr(function(n){var r=[];return e.subscribe(function(e){r.push(e),r.length>t&&r.shift()},function(t){n.onError(t)},function(){for(;r.length>0;)n.onNext(r.shift());n.onCompleted()})},e)},vn.takeLastBuffer=function(t){var e=this;return new Lr(function(n){var r=[];return e.subscribe(function(e){r.push(e),r.length>t&&r.shift()},function(t){n.onError(t)},function(){n.onNext(r),n.onCompleted()})},e)},vn.windowWithCount=function(t,e){var n=this;if(+t||(t=0),Math.abs(t)===1/0&&(t=0),0>=t)throw new Ht;if(null==e&&(e=t),+e||(e=0),Math.abs(e)===1/0&&(e=0),0>=e)throw new Ht;return new Lr(function(r){function i(){var t=new Pr;a.push(t),r.onNext(qe(t,s))}var o=new Ve,s=new Ge(o),u=0,a=[];return i(),o.setDisposable(n.subscribe(function(n){for(var r=0,o=a.length;o>r;r++)a[r].onNext(n);var s=u-t+1;s>=0&&s%e===0&&a.shift().onCompleted(),++u%e===0&&i()},function(t){for(;a.length>0;)a.shift().onError(t);r.onError(t)},function(){for(;a.length>0;)a.shift().onCompleted();r.onCompleted()})),s},n)},vn.selectConcat=vn.concatMap=function(t,e,n){return Pt(t)&&Pt(e)?this.concatMap(function(n,r){var i=t(n,r);return Tt(i)&&(i=jn(i)),(re(i)||ne(i))&&(i=Tn(i)),i.map(function(t,i){return e(n,t,r,i)})}):Pt(t)?B(this,t,n):B(this,function(){return t})},vn.concatMapObserver=vn.selectConcatObserver=function(t,e,n,r){var i=this,o=oe(t,r,2),s=oe(e,r,1),u=oe(n,r,0);return new Lr(function(t){var e=0;return i.subscribe(function(n){var r;try{r=o(n,e++)}catch(i){return void t.onError(i)}Tt(r)&&(r=jn(r)),t.onNext(r)},function(e){var n;try{n=s(e)}catch(r){return void t.onError(r)}Tt(n)&&(n=jn(n)),t.onNext(n),t.onCompleted()},function(){var e;try{e=u()}catch(n){return void t.onError(n)}Tt(e)&&(e=jn(e)),t.onNext(e),t.onCompleted()})},this).concatAll()},vn.defaultIfEmpty=function(t){var e=this;return t===i&&(t=null),new Lr(function(n){var r=!1;return e.subscribe(function(t){r=!0,n.onNext(t)},function(t){n.onError(t)},function(){!r&&n.onNext(t),n.onCompleted()})},e)},V.prototype.push=function(t){var e=-1===U(this.set,t,this.comparer);return e&&this.set.push(t),e},vn.distinct=function(t,e){var n=this;return e||(e=It),new Lr(function(r){var i=new V(e);return n.subscribe(function(e){var n=e;if(t)try{n=t(e)}catch(o){return void r.onError(o)}i.push(n)&&r.onNext(e)},function(t){r.onError(t)},function(){r.onCompleted()})},this)},vn.groupBy=function(t,e,n){return this.groupByUntil(t,e,Bn,n)},vn.groupByUntil=function(t,e,n,r){var i=this;return e||(e=qt),r||(r=It),new Lr(function(o){function s(t){return function(e){e.onError(t)}}var u=new jr(0,r),a=new Le,c=new Ge(a);return a.add(i.subscribe(function(r){var i;try{i=t(r)}catch(f){return u.getValues().forEach(s(f)),void o.onError(f)}var h=!1,l=u.tryGetValue(i);if(l||(l=new Pr,u.set(i,l),h=!0),h){var p=new Wr(i,l,c),d=new Wr(i,l);try{duration=n(d)}catch(f){return u.getValues().forEach(s(f)),void o.onError(f)}o.onNext(p);var v=new Ve;a.add(v);var b=function(){u.remove(i)&&l.onCompleted(),a.remove(v)};v.setDisposable(duration.take(1).subscribe(Mt,function(t){u.getValues().forEach(s(t)),o.onError(t)},b))}var m;try{m=e(r)}catch(f){return u.getValues().forEach(s(f)),void o.onError(f)}l.onNext(m)},function(t){u.getValues().forEach(s(t)),o.onError(t)},function(){u.getValues().forEach(function(t){t.onCompleted()}),o.onCompleted()})),c},i)};var lr=function(t){function e(e,n,r){this.source=e,this.selector=oe(n,r,3),t.call(this)}function n(t,e){return function(n,r,i){return t.call(this,e.selector(n,r,i),r,i)}}function r(t,e,n){this.o=t,this.selector=e,this.source=n,this.i=0,this.isStopped=!1}return Oe(e,t),e.prototype.internalMap=function(t,r){return new e(this.source,n(t,this),r)},e.prototype.subscribeCore=function(t){return this.source.subscribe(new r(t,this.selector,this))},r.prototype.onNext=function(t){if(!this.isStopped){var e=w(this.selector)(t,this.i++,this.source);return e===ze?this.o.onError(e.e):void this.o.onNext(e)}},r.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},r.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},r.prototype.dispose=function(){this.isStopped=!0},r.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(t),!0)},e}(En);vn.map=vn.select=function(t,e){var n="function"==typeof t?t:function(){return t};return this instanceof lr?this.internalMap(n,e):new lr(this,n,e)},vn.pluck=function(){var t=arguments,e=arguments.length;if(0===e)throw new Error("List of properties cannot be empty.");return this.map(function(n){for(var r=n,o=0;e>o;o++){var s=r[t[o]];if("undefined"==typeof s)return i;r=s}return r})},vn.selectMany=vn.flatMap=function(t,e,n){return Pt(t)&&Pt(e)?this.flatMap(function(n,r){var i=t(n,r);return Tt(i)&&(i=jn(i)),(re(i)||ne(i))&&(i=Tn(i)),i.map(function(t,i){return e(n,t,r,i)})},n):Pt(t)?K(this,t,n):K(this,function(){return t})},vn.flatMapObserver=vn.selectManyObserver=function(t,e,n,r){var i=this;return new Lr(function(o){var s=0;return i.subscribe(function(e){var n;try{n=t.call(r,e,s++)}catch(i){return void o.onError(i)}Tt(n)&&(n=jn(n)),o.onNext(n)},function(t){var n;try{n=e.call(r,t)}catch(i){return void o.onError(i)}Tt(n)&&(n=jn(n)),o.onNext(n),o.onCompleted()},function(){var t;try{t=n.call(r)}catch(e){return void o.onError(e)}Tt(t)&&(t=jn(t)),o.onNext(t),o.onCompleted()})},i).mergeAll()},vn.selectSwitch=vn.flatMapLatest=vn.switchMap=function(t,e){return this.select(t,e).switchLatest()};var pr=function(t){function e(e,n){this.source=e,this.skipCount=n,t.call(this)}function n(t,e){this.c=e,this.r=e,this.o=t,this.isStopped=!1}return Oe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this.skipCount))},n.prototype.onNext=function(t){this.isStopped||(this.r<=0?this.o.onNext(t):this.r--)},n.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(t),!0)},e}(En);vn.skip=function(t){if(0>t)throw new Ht;return new pr(this,t)},vn.skipWhile=function(t,e){var n=this,r=oe(t,e,3);return new Lr(function(t){var e=0,i=!1;return n.subscribe(function(o){if(!i)try{i=!r(o,e++,n)}catch(s){return void t.onError(s)}i&&t.onNext(o)},function(e){t.onError(e)},function(){t.onCompleted()})},n)},vn.take=function(t,e){if(0>t)throw new Ht;if(0===t)return zn(e);var n=this;return new Lr(function(e){var r=t;return n.subscribe(function(t){r-- >0&&(e.onNext(t),0>=r&&e.onCompleted())},function(t){e.onError(t)},function(){e.onCompleted()})},n)},vn.takeWhile=function(t,e){var n=this,r=oe(t,e,3);return new Lr(function(t){var e=0,i=!0;return n.subscribe(function(o){if(i){try{i=r(o,e++,n)}catch(s){return void t.onError(s)}i?t.onNext(o):t.onCompleted()}},function(e){t.onError(e)},function(){t.onCompleted()})},n)};var dr=function(t){function e(e,n,r){this.source=e,this.predicate=oe(n,r,3),t.call(this)}function n(t,e){return function(n,r,i){return e.predicate(n,r,i)&&t.call(this,n,r,i)}}function r(t,e,n){this.o=t,this.predicate=e,this.source=n,this.i=0,this.isStopped=!1}return Oe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new r(t,this.predicate,this))},e.prototype.internalFilter=function(t,r){return new e(this.source,n(t,this),r)},r.prototype.onNext=function(t){if(!this.isStopped){var e=w(this.predicate)(t,this.i++,this.source);return e===ze?this.o.onError(e.e):void(e&&this.o.onNext(t))}},r.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},r.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},r.prototype.dispose=function(){this.isStopped=!0},r.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(t),!0)},e}(En);vn.filter=vn.where=function(t,e){return this instanceof dr?this.internalFilter(t,e):new dr(this,t,e)},vn.aggregate=function(){var t,e,n=!1,r=this;return 2===arguments.length?(n=!0,e=arguments[0],t=arguments[1]):t=arguments[0],new Lr(function(i){var o,s,u;return r.subscribe(function(r){!u&&(u=!0);try{o?s=t(s,r):(s=n?t(e,r):r,o=!0)}catch(a){return i.onError(a)}},function(t){i.onError(t)},function(){u&&i.onNext(s),!u&&n&&i.onNext(e),!u&&!n&&i.onError(new Gt),i.onCompleted()})},r)};var vr=function(t){function e(e,n,r,i){this.source=e,this.acc=n,this.hasSeed=r,this.seed=i,t.call(this)}function n(t,e){this.o=t,this.acc=e.acc,this.hasSeed=e.hasSeed,this.seed=e.seed,this.hasAccumulation=!1,this.result=null,this.hasValue=!1,this.isStopped=!1}return Oe(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this))},n.prototype.onNext=function(t){this.isStopped||(!this.hasValue&&(this.hasValue=!0),this.hasAccumulation?this.result=w(this.acc)(this.result,t):(this.result=this.hasSeed?w(this.acc)(this.seed,t):t,this.hasAccumulation=!0),this.result===ze&&this.o.onError(this.result.e))},n.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.hasValue&&this.o.onNext(this.result),!this.hasValue&&this.hasSeed&&this.o.onNext(this.seed),!this.hasValue&&!this.hasSeed&&this.o.onError(new Gt),this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(t),!0)},e}(En);vn.reduce=function(t){var e=!1;if(2===arguments.length){e=!0;var n=arguments[1]}return new vr(this,t,e,n)},vn.some=function(t,e){var n=this;return t?n.filter(t,e).some():new Lr(function(t){return n.subscribe(function(){t.onNext(!0),t.onCompleted()},function(e){t.onError(e)},function(){t.onNext(!1),t.onCompleted()})},n)},vn.any=function(){return this.some.apply(this,arguments)},vn.isEmpty=function(){return this.any().map(Wt)},vn.every=function(t,e){return this.filter(function(e){return!t(e)},e).some().map(Wt)},vn.all=function(){return this.every.apply(this,arguments)},vn.includes=function(t,e){function n(t,e){return 0===t&&0===e||t===e||isNaN(t)&&isNaN(e)}var r=this;return new Lr(function(i){var o=0,s=+e||0;return Math.abs(s)===1/0&&(s=0),0>s?(i.onNext(!1),i.onCompleted(),Fe):r.subscribe(function(e){o++>=s&&n(e,t)&&(i.onNext(!0),i.onCompleted())},function(t){i.onError(t)},function(){i.onNext(!1),i.onCompleted()})},this)},vn.contains=function(t,e){vn.includes(t,e)},vn.count=function(t,e){return t?this.filter(t,e).count():this.reduce(function(t){return t+1},0)},vn.indexOf=function(t,e){var n=this;return new Lr(function(r){var i=0,o=+e||0;return Math.abs(o)===1/0&&(o=0),0>o?(r.onNext(-1),r.onCompleted(),Fe):n.subscribe(function(e){i>=o&&e===t&&(r.onNext(i),r.onCompleted()),i++},function(t){r.onError(t)},function(){r.onNext(-1),r.onCompleted()})},n)},vn.sum=function(t,e){return t&&Pt(t)?this.map(t,e).sum():this.reduce(function(t,e){return t+e},0)},vn.minBy=function(t,e){return e||(e=Rt),G(this,t,function(t,n){return-1*e(t,n)})},vn.min=function(t){return this.minBy(qt,t).map(function(t){return J(t)})},vn.maxBy=function(t,e){return e||(e=Rt),G(this,t,e)},vn.max=function(t){return this.maxBy(qt,t).map(function(t){return J(t)})},vn.average=function(t,e){return t&&Pt(t)?this.map(t,e).average():this.reduce(function(t,e){return{sum:t.sum+e,count:t.count+1}},{sum:0,count:0}).map(function(t){if(0===t.count)throw new Gt;return t.sum/t.count})},vn.sequenceEqual=function(t,e){var n=this;return e||(e=It),new Lr(function(r){var i=!1,o=!1,s=[],u=[],a=n.subscribe(function(t){var n,i;if(u.length>0){i=u.shift();try{n=e(i,t)}catch(a){return void r.onError(a)}n||(r.onNext(!1),r.onCompleted())}else o?(r.onNext(!1),r.onCompleted()):s.push(t)},function(t){r.onError(t)},function(){i=!0,0===s.length&&(u.length>0?(r.onNext(!1),r.onCompleted()):o&&(r.onNext(!0),r.onCompleted()))});(re(t)||ne(t))&&(t=Tn(t)),Tt(t)&&(t=jn(t));var c=t.subscribe(function(t){var n;if(s.length>0){var o=s.shift();try{n=e(o,t)}catch(a){return void r.onError(a)}n||(r.onNext(!1),r.onCompleted())}else i?(r.onNext(!1),r.onCompleted()):u.push(t)},function(t){r.onError(t)},function(){o=!0,0===u.length&&(s.length>0?(r.onNext(!1),r.onCompleted()):i&&(r.onNext(!0),r.onCompleted()))});return new Le(a,c)},n)},vn.elementAt=function(t){return H(this,t,!1)},vn.elementAtOrDefault=function(t,e){return H(this,t,!0,e)},vn.single=function(t,e){return t&&Pt(t)?this.where(t,e).single():X(this,!1)},vn.singleOrDefault=function(t,e,n){return t&&Pt(t)?this.filter(t,n).singleOrDefault(null,e):X(this,!0,e)},vn.first=function(t,e){return t?this.where(t,e).first():Y(this,!1)},vn.firstOrDefault=function(t,e,n){return t?this.where(t).firstOrDefault(null,e):Y(this,!0,e)},vn.last=function(t,e){return t?this.where(t,e).last():Q(this,!1)},vn.lastOrDefault=function(t,e,n){return t?this.where(t,n).lastOrDefault(null,e):Q(this,!0,e)},vn.find=function(t,e){return Z(this,t,e,!1)},vn.findIndex=function(t,e){return Z(this,t,e,!0)},vn.toSet=function(){if("undefined"==typeof Nt.Set)throw new TypeError;var t=this;return new Lr(function(e){var n=new Nt.Set;return t.subscribe(function(t){n.add(t)},function(t){e.onError(t)},function(){e.onNext(n),e.onCompleted()})},t)},vn.toMap=function(t,e){if("undefined"==typeof Nt.Map)throw new TypeError;var n=this;return new Lr(function(r){var i=new Nt.Map;return n.subscribe(function(n){var o;try{o=t(n)}catch(s){return void r.onError(s)}var u=n;if(e)try{u=e(n)}catch(s){return void r.onError(s)}i.set(o,u)},function(t){r.onError(t)},function(){r.onNext(i),r.onCompleted()})},n)};var br="function",mr="throw",Ne=Ot.internals.isObject,yr=Ot.spawn=function(t){var e=ot(t);return function(n){function r(t,e){un.schedule(n.bind(o,t,e))}function i(t,e){var n;if(arguments.length>2)for(var e=[],u=1,a=arguments.length;a>u;u++)e.push(arguments[u]);if(t)try{n=s[mr](t)}catch(c){return r(c)}if(!t)try{n=s.next(e)}catch(c){return r(c)}if(n.done)return r(null,n.value);if(n.value=tt(n.value,o),typeof n.value!==br)i(new TypeError("Rx.spawn only supports a function, Promise, Observable, Object or Array."));else{var f=!1;try{n.value.call(o,function(){f||(f=!0,i.apply(o,arguments))})}catch(c){un.schedule(function(){f||(f=!0,i.call(o,c))})}}}var o=this,s=t;if(e){for(var u=[],a=0,c=arguments.length;c>a;a++)u.push(arguments[a]);var c=u.length,f=c&&typeof u[c-1]===br;n=f?u.pop():ut,s=t.apply(this,u)}else n=n||ut;i()}};_n.start=function(t,e,n){return gr(t,e,n)()};var gr=_n.toAsync=function(t,e,n){return Ye(n)||(n=un),function(){var r=arguments,i=new Fr;return n.schedule(function(){var n;try{n=t.apply(e,r)}catch(o){return void i.onError(o)}i.onNext(n),i.onCompleted()}),i.asObservable()}};_n.fromCallback=function(t,e,n){return function(){for(var r=arguments.length,i=new Array(r),o=0;r>o;o++)i[o]=arguments[o];return new Lr(function(r){function o(){for(var t=arguments.length,i=new Array(t),o=0;t>o;o++)i[o]=arguments[o];if(n){try{i=n.apply(e,i)}catch(s){return r.onError(s)}r.onNext(i)}else i.length<=1?r.onNext.apply(r,i):r.onNext(i);r.onCompleted()}i.push(o),t.apply(e,i)}).publishLast().refCount()}},_n.fromNodeCallback=function(t,e,n){return function(){for(var r=arguments.length,i=new Array(r),o=0;r>o;o++)i[o]=arguments[o];return new Lr(function(r){function o(t){if(t)return void r.onError(t);for(var i=arguments.length,o=[],s=1;i>s;s++)o[s-1]=arguments[s];if(n){try{o=n.apply(e,o)}catch(u){return r.onError(u)}r.onNext(o)}else o.length<=1?r.onNext.apply(r,o):r.onNext(o);r.onCompleted()}i.push(o),t.apply(e,i)}).publishLast().refCount()}},Ot.config.useNativeEvents=!1,_n.fromEvent=function(t,e,n){return t.addListener?wr(function(n){t.addListener(e,n)},function(n){t.removeListener(e,n)},n):Ot.config.useNativeEvents||"function"!=typeof t.on||"function"!=typeof t.off?new Lr(function(r){return ct(t,e,function(t){var e=t;if(n)try{e=n(arguments)}catch(i){return r.onError(i)}r.onNext(e)})}).publish().refCount():wr(function(n){t.on(e,n)},function(n){t.off(e,n)},n)};var wr=_n.fromEventPattern=function(t,e,n){return new Lr(function(r){function i(t){var e=t;if(n)try{e=n(arguments)}catch(i){return r.onError(i)}r.onNext(e)}var o=t(i);return Pe(function(){e&&e(i,o)})}).publish().refCount()};_n.startAsync=function(t){var e;try{e=t()}catch(n){return Xn(n)}return jn(e)};var _r=function(t){function e(t){var e=this.source.publish(),n=e.subscribe(t),r=Fe,i=this.pauser.distinctUntilChanged().subscribe(function(t){t?r=e.connect():(r.dispose(),r=Fe)});return new Le(n,r,i)}function n(n,r){this.source=n,this.controller=new Pr,r&&r.subscribe?this.pauser=this.controller.merge(r):this.pauser=this.controller,t.call(this,e,n)}return Oe(n,t),n.prototype.pause=function(){this.controller.onNext(!1)},n.prototype.resume=function(){this.controller.onNext(!0)},n}(_n);vn.pausable=function(t){return new _r(this,t)};var Er=function(t){function e(t){function e(){for(;r.length>0;)t.onNext(r.shift())}var n,r=[],o=ft(this.source,this.pauser.distinctUntilChanged().startWith(!1),function(t,e){return{data:t,shouldFire:e}}).subscribe(function(o){n!==i&&o.shouldFire!=n?(n=o.shouldFire,o.shouldFire&&e()):(n=o.shouldFire,o.shouldFire?t.onNext(o.data):r.push(o.data))},function(n){e(),t.onError(n)},function(){e(),t.onCompleted()});return o}function n(n,r){this.source=n,this.controller=new Pr,r&&r.subscribe?this.pauser=this.controller.merge(r):this.pauser=this.controller,t.call(this,e,n)}return Oe(n,t),n.prototype.pause=function(){this.controller.onNext(!1)},n.prototype.resume=function(){this.controller.onNext(!0)},n}(_n);vn.pausableBuffered=function(t){return new Er(this,t)};var xr=function(t){function e(t){return this.source.subscribe(t)}function n(n,r,i){t.call(this,e,n),this.subject=new Sr(r,i),this.source=n.multicast(this.subject).refCount()}return Oe(n,t),n.prototype.request=function(t){return this.subject.request(null==t?-1:t)},n}(_n),Sr=function(t){function e(t){return this.subject.subscribe(t)}function n(n,r){null==n&&(n=!0),t.call(this,e),this.subject=new Pr,this.enableQueue=n,this.queue=n?[]:null,this.requestedCount=0,this.requestedDisposable=Fe,this.error=null,this.hasFailed=!1,this.hasCompleted=!1,this.scheduler=r||nn}return Oe(n,t),Me(n.prototype,pn,{onCompleted:function(){this.hasCompleted=!0,this.enableQueue&&0!==this.queue.length?this.queue.push(cn.createOnCompleted()):this.subject.onCompleted()},onError:function(t){this.hasFailed=!0,this.error=t,this.enableQueue&&0!==this.queue.length?this.queue.push(cn.createOnError(t)):this.subject.onError(t)},onNext:function(t){var e=!1;0===this.requestedCount?this.enableQueue&&this.queue.push(cn.createOnNext(t)):(-1!==this.requestedCount&&0===this.requestedCount--&&this.disposeCurrentRequest(),e=!0),e&&this.subject.onNext(t)},_processRequest:function(t){if(this.enableQueue){for(;this.queue.length>=t&&t>0||this.queue.length>0&&"N"!==this.queue[0].kind;){var e=this.queue.shift();e.accept(this.subject),"N"===e.kind?t--:(this.disposeCurrentRequest(),this.queue=[])}return{numberOfItems:t,returnValue:0!==this.queue.length}}return{numberOfItems:t,returnValue:!1}},request:function(t){this.disposeCurrentRequest();var e=this;return this.requestedDisposable=this.scheduler.scheduleWithState(t,function(t,n){var r=e._processRequest(n),i=r.numberOfItems;r.returnValue||(e.requestedCount=i,e.requestedDisposable=Pe(function(){e.requestedCount=0}))}),this.requestedDisposable},disposeCurrentRequest:function(){this.requestedDisposable.dispose(),this.requestedDisposable=Fe}}),n}(_n);vn.controlled=function(t,e){return t&&Ye(t)&&(e=t,t=!0),null==t&&(t=!0),new xr(this,t,e)};var Cr=function(t){function e(t){this.subscription=this.source.subscribe(new r(t,this,this.subscription));var e=this;return un.schedule(function(){e.source.request(1)}),this.subscription}function n(n){t.call(this,e,n),this.source=n}Oe(n,t);var r=function(t){function e(e,n,r){t.call(this),this.observer=e,this.observable=n,this.cancel=r}Oe(e,t);var n=e.prototype;return n.completed=function(){this.observer.onCompleted(),this.dispose()},n.error=function(t){this.observer.onError(t),this.dispose()},n.next=function(t){this.observer.onNext(t);var e=this;un.schedule(function(){e.observable.source.request(1)})},n.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),t.prototype.dispose.call(this)},e}(bn);return n}(_n);xr.prototype.stopAndWait=function(){return new Cr(this)};var kr=function(t){function e(t){this.subscription=this.source.subscribe(new r(t,this,this.subscription));var e=this;return un.schedule(function(){e.source.request(e.windowSize)}),this.subscription}function n(n,r){t.call(this,e,n),this.source=n,this.windowSize=r}Oe(n,t);var r=function(t){function e(t,e,n){this.observer=t,this.observable=e,this.cancel=n,this.received=0}Oe(e,t);var n=e.prototype;return n.completed=function(){this.observer.onCompleted(),this.dispose()},n.error=function(t){this.observer.onError(t),this.dispose()},n.next=function(t){if(this.observer.onNext(t),this.received=++this.received%this.observable.windowSize,0===this.received){var e=this;un.schedule(function(){e.observable.source.request(e.observable.windowSize)})}},n.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),t.prototype.dispose.call(this)},e}(bn);return n}(_n);xr.prototype.windowed=function(t){return new kr(this,t)},vn.pipe=function(t){function e(){n.resume()}var n=this.pausableBuffered();return t.addListener("drain",e),n.subscribe(function(e){!t.write(String(e))&&n.pause()},function(e){t.emit("error",e)},function(){!t._isStdio&&t.end(),t.removeListener("drain",e)}),n.resume(),t},vn.multicast=function(t,e){var n=this;return"function"==typeof t?new Lr(function(r){var i=n.multicast(t());return new Le(e(i).subscribe(r),i.connect())},n):new Dr(n,t)},vn.publish=function(t){return t&&Pt(t)?this.multicast(function(){return new Pr},t):this.multicast(new Pr)},vn.share=function(){return this.publish().refCount()},vn.publishLast=function(t){return t&&Pt(t)?this.multicast(function(){return new Fr},t):this.multicast(new Fr)},vn.publishValue=function(t,e){return 2===arguments.length?this.multicast(function(){return new $r(e)},t):this.multicast(new $r(t))},vn.shareValue=function(t){return this.publishValue(t).refCount()},vn.replay=function(t,e,n,r){return t&&Pt(t)?this.multicast(function(){return new Ar(e,n,r)},t):this.multicast(new Ar(e,n,r))},vn.shareReplay=function(t,e,n){return this.replay(null,t,e,n).refCount()};var Nr=function(t,e){this.subject=t,this.observer=e};Nr.prototype.dispose=function(){if(!this.subject.isDisposed&&null!==this.observer){var t=this.subject.observers.indexOf(this.observer);this.subject.observers.splice(t,1),this.observer=null}};var $r=Ot.BehaviorSubject=function(t){function e(t){return Ue(this),this.isStopped?(this.hasError?t.onError(this.error):t.onCompleted(),Fe):(this.observers.push(t),t.onNext(this.value),new Nr(this,t))}function n(n){t.call(this,e),this.value=n,this.observers=[],this.isDisposed=!1,this.isStopped=!1,this.hasError=!1}return Oe(n,t),Me(n.prototype,pn,{getValue:function(){if(Ue(this),this.hasError)throw this.error;return this.value},hasObservers:function(){return this.observers.length>0},onCompleted:function(){if(Ue(this),!this.isStopped){this.isStopped=!0;
for(var t=0,e=o(this.observers),n=e.length;n>t;t++)e[t].onCompleted();this.observers.length=0}},onError:function(t){if(Ue(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=t;for(var e=0,n=o(this.observers),r=n.length;r>e;e++)n[e].onError(t);this.observers.length=0}},onNext:function(t){if(Ue(this),!this.isStopped){this.value=t;for(var e=0,n=o(this.observers),r=n.length;r>e;e++)n[e].onNext(t)}},dispose:function(){this.isDisposed=!0,this.observers=null,this.value=null,this.exception=null}}),n}(_n),Ar=Ot.ReplaySubject=function(t){function e(t,e){return Pe(function(){e.dispose(),!t.isDisposed&&t.observers.splice(t.observers.indexOf(e),1)})}function n(t){var n=new gn(this.scheduler,t),r=e(this,n);Ue(this),this._trim(this.scheduler.now()),this.observers.push(n);for(var i=0,o=this.q.length;o>i;i++)n.onNext(this.q[i].value);return this.hasError?n.onError(this.error):this.isStopped&&n.onCompleted(),n.ensureActive(),r}function r(e,r,o){this.bufferSize=null==e?i:e,this.windowSize=null==r?i:r,this.scheduler=o||nn,this.q=[],this.observers=[],this.isStopped=!1,this.isDisposed=!1,this.hasError=!1,this.error=null,t.call(this,n)}var i=Math.pow(2,53)-1;return Oe(r,t),Me(r.prototype,pn.prototype,{hasObservers:function(){return this.observers.length>0},_trim:function(t){for(;this.q.length>this.bufferSize;)this.q.shift();for(;this.q.length>0&&t-this.q[0].interval>this.windowSize;)this.q.shift()},onNext:function(t){if(Ue(this),!this.isStopped){var e=this.scheduler.now();this.q.push({interval:e,value:t}),this._trim(e);for(var n=0,r=o(this.observers),i=r.length;i>n;n++){var s=r[n];s.onNext(t),s.ensureActive()}}},onError:function(t){if(Ue(this),!this.isStopped){this.isStopped=!0,this.error=t,this.hasError=!0;var e=this.scheduler.now();this._trim(e);for(var n=0,r=o(this.observers),i=r.length;i>n;n++){var s=r[n];s.onError(t),s.ensureActive()}this.observers.length=0}},onCompleted:function(){if(Ue(this),!this.isStopped){this.isStopped=!0;var t=this.scheduler.now();this._trim(t);for(var e=0,n=o(this.observers),r=n.length;r>e;e++){var i=n[e];i.onCompleted(),i.ensureActive()}this.observers.length=0}},dispose:function(){this.isDisposed=!0,this.observers=null}}),r}(_n),Dr=Ot.ConnectableObservable=function(t){function e(e,n){var r,i=!1,o=e.asObservable();this.connect=function(){return i||(i=!0,r=new Le(o.subscribe(n),Pe(function(){i=!1}))),r},t.call(this,function(t){return n.subscribe(t)})}return Oe(e,t),e.prototype.refCount=function(){var t,e=0,n=this;return new Lr(function(r){var i=1===++e,o=n.subscribe(r);return i&&(t=n.connect()),function(){o.dispose(),0===--e&&t.dispose()}})},e}(_n);vn.singleInstance=function(){function t(){return r||(r=!0,e=n["finally"](function(){r=!1}).publish().refCount()),e}var e,n=this,r=!1;return new Lr(function(e){return t().subscribe(e)})};var jr=function(){function t(t){if(0===(1&t))return 2===t;for(var e=Math.sqrt(t),n=3;e>=n;){if(t%n===0)return!1;n+=2}return!0}function e(e){var n,r,i;for(n=0;n<u.length;++n)if(r=u[n],r>=e)return r;for(i=1|e;i<u[u.length-1];){if(t(i))return i;i+=2}return e}function n(t){var e=757602046;if(!t.length)return e;for(var n=0,r=t.length;r>n;n++){var i=t.charCodeAt(n);e=(e<<5)-e+i,e&=e}return e}function r(t){var e=668265261;return t=61^t^t>>>16,t+=t<<3,t^=t>>>4,t*=e,t^=t>>>15}function o(){return{key:null,value:null,next:0,hashCode:0}}function s(t,e){if(0>t)throw new Ht;t>0&&this._initialize(t),this.comparer=e||It,this.freeCount=0,this.size=0,this.freeList=-1}var u=[1,3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143,4194301,8388593,16777213,33554393,67108859,134217689,268435399,536870909,1073741789,2147483647],a="no such key",c="duplicate key",f=function(){var t=0;return function(e){if(null==e)throw new Error(a);if("string"==typeof e)return n(e);if("number"==typeof e)return r(e);if("boolean"==typeof e)return e===!0?1:0;if(e instanceof Date)return r(e.valueOf());if(e instanceof RegExp)return n(e.toString());if("function"==typeof e.valueOf){var i=e.valueOf();if("number"==typeof i)return r(i);if("string"==typeof i)return n(i)}if(e.hashCode)return e.hashCode();var o=17*t++;return e.hashCode=function(){return o},o}}(),h=s.prototype;return h._initialize=function(t){var n,r=e(t);for(this.buckets=new Array(r),this.entries=new Array(r),n=0;r>n;n++)this.buckets[n]=-1,this.entries[n]=o();this.freeList=-1},h.add=function(t,e){this._insert(t,e,!0)},h._insert=function(t,e,n){this.buckets||this._initialize(0);for(var r,i=2147483647&f(t),o=i%this.buckets.length,s=this.buckets[o];s>=0;s=this.entries[s].next)if(this.entries[s].hashCode===i&&this.comparer(this.entries[s].key,t)){if(n)throw new Error(c);return void(this.entries[s].value=e)}this.freeCount>0?(r=this.freeList,this.freeList=this.entries[r].next,--this.freeCount):(this.size===this.entries.length&&(this._resize(),o=i%this.buckets.length),r=this.size,++this.size),this.entries[r].hashCode=i,this.entries[r].next=this.buckets[o],this.entries[r].key=t,this.entries[r].value=e,this.buckets[o]=r},h._resize=function(){var t=e(2*this.size),n=new Array(t);for(i=0;i<n.length;++i)n[i]=-1;var r=new Array(t);for(i=0;i<this.size;++i)r[i]=this.entries[i];for(var i=this.size;t>i;++i)r[i]=o();for(var s=0;s<this.size;++s){var u=r[s].hashCode%t;r[s].next=n[u],n[u]=s}this.buckets=n,this.entries=r},h.remove=function(t){if(this.buckets)for(var e=2147483647&f(t),n=e%this.buckets.length,r=-1,i=this.buckets[n];i>=0;i=this.entries[i].next){if(this.entries[i].hashCode===e&&this.comparer(this.entries[i].key,t))return 0>r?this.buckets[n]=this.entries[i].next:this.entries[r].next=this.entries[i].next,this.entries[i].hashCode=-1,this.entries[i].next=this.freeList,this.entries[i].key=null,this.entries[i].value=null,this.freeList=i,++this.freeCount,!0;r=i}return!1},h.clear=function(){var t,e;if(!(this.size<=0)){for(t=0,e=this.buckets.length;e>t;++t)this.buckets[t]=-1;for(t=0;t<this.size;++t)this.entries[t]=o();this.freeList=-1,this.size=0}},h._findEntry=function(t){if(this.buckets)for(var e=2147483647&f(t),n=this.buckets[e%this.buckets.length];n>=0;n=this.entries[n].next)if(this.entries[n].hashCode===e&&this.comparer(this.entries[n].key,t))return n;return-1},h.count=function(){return this.size-this.freeCount},h.tryGetValue=function(t){var e=this._findEntry(t);return e>=0?this.entries[e].value:i},h.getValues=function(){var t=0,e=[];if(this.entries)for(var n=0;n<this.size;n++)this.entries[n].hashCode>=0&&(e[t++]=this.entries[n].value);return e},h.get=function(t){var e=this._findEntry(t);if(e>=0)return this.entries[e].value;throw new Error(a)},h.set=function(t,e){this._insert(t,e,!1)},h.containskey=function(t){return this._findEntry(t)>=0},s}();vn.join=function(t,e,n,r){var i=this;return new Lr(function(o){var s=new Le,u=!1,a=!1,c=0,f=0,h=new jr,l=new jr;return s.add(i.subscribe(function(t){var n=c++,i=new Ve;h.add(n,t),s.add(i);var a,f=function(){h.remove(n)&&0===h.count()&&u&&o.onCompleted(),s.remove(i)};try{a=e(t)}catch(p){return void o.onError(p)}i.setDisposable(a.take(1).subscribe(Mt,o.onError.bind(o),f)),l.getValues().forEach(function(e){var n;try{n=r(t,e)}catch(i){return void o.onError(i)}o.onNext(n)})},o.onError.bind(o),function(){u=!0,(a||0===h.count())&&o.onCompleted()})),s.add(t.subscribe(function(t){var e=f++,i=new Ve;l.add(e,t),s.add(i);var u,c=function(){l.remove(e)&&0===l.count()&&a&&o.onCompleted(),s.remove(i)};try{u=n(t)}catch(p){return void o.onError(p)}i.setDisposable(u.take(1).subscribe(Mt,o.onError.bind(o),c)),h.getValues().forEach(function(e){var n;try{n=r(e,t)}catch(i){return void o.onError(i)}o.onNext(n)})},o.onError.bind(o),function(){a=!0,(u||0===l.count())&&o.onCompleted()})),s},i)},vn.groupJoin=function(t,e,n,r){var i=this;return new Lr(function(o){function s(t){return function(e){e.onError(t)}}var u=new Le,a=new Ge(u),c=new jr,f=new jr,h=0,l=0;return u.add(i.subscribe(function(t){var n=new Pr,i=h++;c.add(i,n);var l;try{l=r(t,qe(n,a))}catch(p){return c.getValues().forEach(s(p)),void o.onError(p)}o.onNext(l),f.getValues().forEach(function(t){n.onNext(t)});var d=new Ve;u.add(d);var v,b=function(){c.remove(i)&&n.onCompleted(),u.remove(d)};try{v=e(t)}catch(p){return c.getValues().forEach(s(p)),void o.onError(p)}d.setDisposable(v.take(1).subscribe(Mt,function(t){c.getValues().forEach(s(t)),o.onError(t)},b))},function(t){c.getValues().forEach(s(t)),o.onError(t)},o.onCompleted.bind(o))),u.add(t.subscribe(function(t){var e=l++;f.add(e,t);var r=new Ve;u.add(r);var i,a=function(){f.remove(e),u.remove(r)};try{i=n(t)}catch(h){return c.getValues().forEach(s(h)),void o.onError(h)}r.setDisposable(i.take(1).subscribe(Mt,function(t){c.getValues().forEach(s(t)),o.onError(t)},a)),c.getValues().forEach(function(e){e.onNext(t)})},function(t){c.getValues().forEach(s(t)),o.onError(t)})),a},i)},vn.buffer=function(t,e){return this.window.apply(this,arguments).selectMany(function(t){return t.toArray()})},vn.window=function(t,e){return 1===arguments.length&&"function"!=typeof arguments[0]?lt.call(this,t):"function"==typeof t?pt.call(this,t):ht.call(this,t,e)},vn.pairwise=function(){var t=this;return new Lr(function(e){var n,r=!1;return t.subscribe(function(t){r?e.onNext([n,t]):r=!0,n=t},e.onError.bind(e),e.onCompleted.bind(e))},t)},vn.partition=function(t,e){return[this.filter(t,e),this.filter(function(n,r,i){return!t.call(e,n,r,i)})]};var Or=function(t){function e(t,e){this.c=t,this.s=e}return Oe(e,t),e.prototype[te]=function(){var t=this;return{next:function(){return t.c()?{done:!1,value:t.s}:{done:!0,value:void 0}}}},e}(xn);vn.letBind=vn.let=function(t){return t(this)},_n["if"]=_n.ifThen=function(t,e,n){return Mn(function(){return n||(n=zn()),Tt(e)&&(e=jn(e)),Tt(n)&&(n=jn(n)),"function"==typeof n.now&&(n=zn(n)),t()?e:n})},_n["for"]=_n.forIn=function(t,e,n){return An(t,e,n).concat()};var Mr=_n["while"]=_n.whileDo=function(t,e){return Tt(e)&&(e=jn(e)),dt(t,e).concat()};vn.doWhile=function(t){return tr([this,Mr(t,this)])},_n["case"]=_n.switchCase=function(t,e,n){return Mn(function(){Tt(n)&&(n=jn(n)),n||(n=zn()),"function"==typeof n.now&&(n=zn(n));var r=e[t()];return Tt(r)&&(r=jn(r)),r||n})},vn.expand=function(t,e){Ye(e)||(e=en);var n=this;return new Lr(function(r){var i=[],o=new Ke,s=new Le(o),u=0,a=!1,c=function(){var n=!1;i.length>0&&(n=!a,a=!0),n&&o.setDisposable(e.scheduleRecursive(function(e){var n;if(!(i.length>0))return void(a=!1);n=i.shift();var o=new Ve;s.add(o),o.setDisposable(n.subscribe(function(e){r.onNext(e);var n=null;try{n=t(e)}catch(o){r.onError(o)}i.push(n),u++,c()},r.onError.bind(r),function(){s.remove(o),u--,0===u&&r.onCompleted()})),e()}))};return i.push(n),u++,c(),s},this)},_n.forkJoin=function(){var t=[];if(Array.isArray(arguments[0]))t=arguments[0];else for(var e=0,n=arguments.length;n>e;e++)t.push(arguments[e]);return new Lr(function(e){var n=t.length;if(0===n)return e.onCompleted(),Fe;for(var r=new Le,i=!1,o=new Array(n),s=new Array(n),u=new Array(n),a=0;n>a;a++)!function(a){var c=t[a];Tt(c)&&(c=jn(c)),r.add(c.subscribe(function(t){i||(o[a]=!0,u[a]=t)},function(t){i=!0,e.onError(t),r.dispose()},function(){if(!i){if(!o[a])return void e.onCompleted();s[a]=!0;for(var t=0;n>t;t++)if(!s[t])return;i=!0,e.onNext(u),e.onCompleted()}}))}(a);return r})},vn.forkJoin=function(t,e){var n=this;return new Lr(function(r){var i,o,s=!1,u=!1,a=!1,c=!1,f=new Ve,h=new Ve;return Tt(t)&&(t=jn(t)),f.setDisposable(n.subscribe(function(t){a=!0,i=t},function(t){h.dispose(),r.onError(t)},function(){if(s=!0,u)if(a)if(c){var t;try{t=e(i,o)}catch(n){return void r.onError(n)}r.onNext(t),r.onCompleted()}else r.onCompleted();else r.onCompleted()})),h.setDisposable(t.subscribe(function(t){c=!0,o=t},function(t){f.dispose(),r.onError(t)},function(){if(u=!0,s)if(a)if(c){var t;try{t=e(i,o)}catch(n){return void r.onError(n)}r.onNext(t),r.onCompleted()}else r.onCompleted();else r.onCompleted()})),new Le(f,h)},n)},vn.manySelect=vn.extend=function(t,e){Ye(e)||(e=en);var n=this;return Mn(function(){var r;return n.map(function(t){var e=new qr(t);return r&&r.onNext(t),r=e,e}).tap(Mt,function(t){r&&r.onError(t)},function(){r&&r.onCompleted()}).observeOn(e).map(t)},n)};var qr=function(t){function e(t){var e=this,n=new Le;return n.add(nn.schedule(function(){t.onNext(e.head),n.add(e.tail.mergeAll().subscribe(t))})),n}function n(n){t.call(this,e),this.head=n,this.tail=new Fr}return Oe(n,t),Me(n.prototype,pn,{onCompleted:function(){this.onNext(_n.empty())},onError:function(t){this.onNext(_n.throwError(t))},onNext:function(t){this.tail.onNext(t),this.tail.onCompleted()}}),n}(_n),zr=Nt.Map||function(){function t(){this._keys=[],this._values=[]}return t.prototype.get=function(t){var e=this._keys.indexOf(t);return-1!==e?this._values[e]:i},t.prototype.set=function(t,e){var n=this._keys.indexOf(t);-1!==n&&(this._values[n]=e),this._values[this._keys.push(t)-1]=e},t.prototype.forEach=function(t,e){for(var n=0,r=this._keys.length;r>n;n++)t.call(e,this._values[n],this._keys[n])},t}();vt.prototype.and=function(t){return new vt(this.patterns.concat(t))},vt.prototype.thenDo=function(t){return new bt(this,t)},bt.prototype.activate=function(t,e,n){for(var r=this,i=[],o=0,s=this.expression.patterns.length;s>o;o++)i.push(mt(t,this.expression.patterns[o],e.onError.bind(e)));var u=new yt(i,function(){var t;try{t=r.selector.apply(r,arguments)}catch(n){return void e.onError(n)}e.onNext(t)},function(){for(var t=0,e=i.length;e>t;t++)i[t].removeActivePlan(u);n(u)});for(o=0,s=i.length;s>o;o++)i[o].addActivePlan(u);return u},yt.prototype.dequeue=function(){this.joinObservers.forEach(function(t){t.queue.shift()})},yt.prototype.match=function(){var t,e,n=!0;for(t=0,e=this.joinObserverArray.length;e>t;t++)if(0===this.joinObserverArray[t].queue.length){n=!1;break}if(n){var r=[],i=!1;for(t=0,e=this.joinObserverArray.length;e>t;t++)r.push(this.joinObserverArray[t].queue[0]),"C"===this.joinObserverArray[t].queue[0].kind&&(i=!0);if(i)this.onCompleted();else{this.dequeue();var o=[];for(t=0,e=r.length;t<r.length;t++)o.push(r[t].value);this.onNext.apply(this,o)}}};var Ir=function(t){function e(e,n){t.call(this),this.source=e,this.onError=n,this.queue=[],this.activePlans=[],this.subscription=new Ve,this.isDisposed=!1}Oe(e,t);var n=e.prototype;return n.next=function(t){if(!this.isDisposed){if("E"===t.kind)return this.onError(t.exception);this.queue.push(t);for(var e=this.activePlans.slice(0),n=0,r=e.length;r>n;n++)e[n].match()}},n.error=Mt,n.completed=Mt,n.addActivePlan=function(t){this.activePlans.push(t)},n.subscribe=function(){this.subscription.setDisposable(this.source.materialize().subscribe(this))},n.removeActivePlan=function(t){this.activePlans.splice(this.activePlans.indexOf(t),1),0===this.activePlans.length&&this.dispose()},n.dispose=function(){t.prototype.dispose.call(this),this.isDisposed||(this.isDisposed=!0,this.subscription.dispose())},e}(bn);vn.and=function(t){return new vt([this,t])},vn.thenDo=function(t){return new vt([this]).thenDo(t)},_n.when=function(){var t,e=arguments.length;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(e);for(var n=0;e>n;n++)t[n]=arguments[n]}return new Lr(function(e){var n=[],r=new zr,i=dn(function(t){e.onNext(t)},function(t){r.forEach(function(e){e.onError(t)}),e.onError(t)},function(t){e.onCompleted()});try{for(var o=0,s=t.length;s>o;o++)n.push(t[o].activate(r,i,function(t){var r=n.indexOf(t);n.splice(r,1),0===n.length&&e.onCompleted()}))}catch(u){Xn(u).subscribe(e)}var a=new Le;return r.forEach(function(t){t.subscribe(),a.add(t)}),a})};var Rr=_n.interval=function(t,e){return Et(t,t,Ye(e)?e:un)};_n.timer=function(t,e,n){var r;return Ye(n)||(n=un),e!==i&&"number"==typeof e?r=e:Ye(e)&&(n=e),t instanceof Date&&r===i?gt(t.getTime(),n):t instanceof Date&&r!==i?(r=e,wt(t.getTime(),r,n)):r===i?_t(t,n):Et(t,r,n)};vn.delay=function(t,e){return Ye(e)||(e=un),t instanceof Date?St(this,t.getTime(),e):xt(this,t,e)},vn.debounce=vn.throttleWithTimeout=function(t,e){Ye(e)||(e=un);var n=this;return new Lr(function(r){var i,o=new Ke,s=!1,u=0,a=n.subscribe(function(n){s=!0,i=n,u++;var a=u,c=new Ve;o.setDisposable(c),c.setDisposable(e.scheduleWithRelative(t,function(){s&&u===a&&r.onNext(i),s=!1}))},function(t){o.dispose(),r.onError(t),s=!1,u++},function(){o.dispose(),s&&r.onNext(i),r.onCompleted(),s=!1,u++});return new Le(a,o)},this)},vn.throttle=function(t,e){return this.debounce(t,e)},vn.windowWithTime=function(t,e,n){var r,i=this;return null==e&&(r=t),Ye(n)||(n=un),"number"==typeof e?r=e:Ye(e)&&(r=t,n=e),new Lr(function(e){function o(){var t=new Ve,i=!1,s=!1;h.setDisposable(t),c===a?(i=!0,s=!0):a>c?i=!0:s=!0;var p=i?c:a,d=p-l;l=p,i&&(c+=r),s&&(a+=r),t.setDisposable(n.scheduleWithRelative(d,function(){if(s){var t=new Pr;f.push(t),e.onNext(qe(t,u))}i&&f.shift().onCompleted(),o()}))}var s,u,a=r,c=t,f=[],h=new Ke,l=0;return s=new Le(h),u=new Ge(s),f.push(new Pr),e.onNext(qe(f[0],u)),o(),s.add(i.subscribe(function(t){for(var e=0,n=f.length;n>e;e++)f[e].onNext(t)},function(t){for(var n=0,r=f.length;r>n;n++)f[n].onError(t);e.onError(t)},function(){for(var t=0,n=f.length;n>t;t++)f[t].onCompleted();e.onCompleted()})),u},i)},vn.windowWithTimeOrCount=function(t,e,n){var r=this;return Ye(n)||(n=un),new Lr(function(i){function o(e){var r=new Ve;s.setDisposable(r),r.setDisposable(n.scheduleWithRelative(t,function(){if(e===f){c=0;var t=++f;h.onCompleted(),h=new Pr,i.onNext(qe(h,a)),o(t)}}))}var s=new Ke,u=new Le(s),a=new Ge(u),c=0,f=0,h=new Pr;return i.onNext(qe(h,a)),o(0),u.add(r.subscribe(function(t){var n=0,r=!1;h.onNext(t),++c===e&&(r=!0,c=0,n=++f,h.onCompleted(),h=new Pr,i.onNext(qe(h,a))),r&&o(n)},function(t){h.onError(t),i.onError(t)},function(){h.onCompleted(),i.onCompleted()})),a},r)},vn.bufferWithTime=function(t,e,n){return this.windowWithTime.apply(this,arguments).selectMany(function(t){return t.toArray()})},vn.bufferWithTimeOrCount=function(t,e,n){return this.windowWithTimeOrCount(t,e,n).selectMany(function(t){return t.toArray()})},vn.timeInterval=function(t){var e=this;return Ye(t)||(t=un),Mn(function(){var n=t.now();return e.map(function(e){var r=t.now(),i=r-n;return n=r,{value:e,interval:i}})})},vn.timestamp=function(t){return Ye(t)||(t=un),this.map(function(e){return{value:e,timestamp:t.now()}})},vn.sample=vn.throttleLatest=function(t,e){return Ye(e)||(e=un),"number"==typeof t?Ct(this,Rr(t,e)):Ct(this,t)},vn.timeout=function(t,e,n){(null==e||"string"==typeof e)&&(e=Xn(new Error(e||"Timeout"))),Ye(n)||(n=un);var r=this,i=t instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative";return new Lr(function(o){function s(){var r=u;h.setDisposable(n[i](t,function(){u===r&&(Tt(e)&&(e=jn(e)),c.setDisposable(e.subscribe(o)))}))}var u=0,a=new Ve,c=new Ke,f=!1,h=new Ke;return c.setDisposable(a),s(),a.setDisposable(r.subscribe(function(t){f||(u++,o.onNext(t),s())},function(t){f||(u++,o.onError(t))},function(){f||(u++,o.onCompleted())})),new Le(c,h)},r)},_n.generateWithAbsoluteTime=function(t,e,n,r,i,o){return Ye(o)||(o=un),new Lr(function(s){var u=!0,a=!1;return o.scheduleRecursiveWithAbsoluteAndState(t,o.now(),function(t,o){a&&s.onNext(t);try{if(u?u=!1:t=n(t),a=e(t))var c=r(t),f=i(t)}catch(h){return void s.onError(h)}a?o(c,f):s.onCompleted()})})},_n.generateWithRelativeTime=function(t,e,n,r,i,o){return Ye(o)||(o=un),new Lr(function(s){var u=!0,a=!1;return o.scheduleRecursiveWithRelativeAndState(t,0,function(t,o){a&&s.onNext(t);try{if(u?u=!1:t=n(t),a=e(t))var c=r(t),f=i(t)}catch(h){return void s.onError(h)}a?o(c,f):s.onCompleted()})})},vn.delaySubscription=function(t,e){var n=t instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative",r=this;return Ye(e)||(e=un),new Lr(function(i){var o=new Ke;return o.setDisposable(e[n](t,function(){o.setDisposable(r.subscribe(i))})),o},this)},vn.delayWithSelector=function(t,e){var n,r,i=this;return Pt(t)?r=t:(n=t,r=e),new Lr(function(t){function e(){a.setDisposable(i.subscribe(function(e){var n=w(r)(e);if(n===ze)return t.onError(n.e);var i=new Ve;s.add(i),i.setDisposable(n.subscribe(function(){t.onNext(e),s.remove(i),o()},function(e){t.onError(e)},function(){t.onNext(e),s.remove(i),o()}))},function(e){t.onError(e)},function(){u=!0,a.dispose(),o()}))}function o(){u&&0===s.length&&t.onCompleted()}var s=new Le,u=!1,a=new Ke;return n?a.setDisposable(n.subscribe(e,function(e){t.onError(e)},e)):e(),new Le(a,s)},this)},vn.timeoutWithSelector=function(t,e,n){1===arguments.length&&(e=t,t=Bn()),n||(n=Xn(new Error("Timeout")));var r=this;return new Lr(function(i){function o(t){function e(){return f===r}var r=f,o=new Ve;a.setDisposable(o),o.setDisposable(t.subscribe(function(){e()&&u.setDisposable(n.subscribe(i)),o.dispose()},function(t){e()&&i.onError(t)},function(){e()&&u.setDisposable(n.subscribe(i))}))}function s(){var t=!h;return t&&f++,t}var u=new Ke,a=new Ke,c=new Ve;u.setDisposable(c);var f=0,h=!1;return o(t),c.setDisposable(r.subscribe(function(t){if(s()){i.onNext(t);var n;try{n=e(t)}catch(r){return void i.onError(r)}o(Tt(n)?jn(n):n)}},function(t){s()&&i.onError(t)},function(){s()&&i.onCompleted()})),new Le(u,a)},r)},vn.debounceWithSelector=function(t){var e=this;return new Lr(function(n){var r,i=!1,o=new Ke,s=0,u=e.subscribe(function(e){var u;try{u=t(e)}catch(a){return void n.onError(a)}Tt(u)&&(u=jn(u)),i=!0,r=e,s++;var c=s,f=new Ve;o.setDisposable(f),f.setDisposable(u.subscribe(function(){i&&s===c&&n.onNext(r),i=!1,f.dispose()},n.onError.bind(n),function(){i&&s===c&&n.onNext(r),i=!1,f.dispose()}))},function(t){o.dispose(),n.onError(t),i=!1,s++},function(){o.dispose(),i&&n.onNext(r),n.onCompleted(),i=!1,s++});return new Le(u,o)},e)},vn.throttleWithSelector=function(t){return this.debounceWithSelector(t)},vn.skipLastWithTime=function(t,e){Ye(e)||(e=un);var n=this;return new Lr(function(r){var i=[];return n.subscribe(function(n){var o=e.now();for(i.push({interval:o,value:n});i.length>0&&o-i[0].interval>=t;)r.onNext(i.shift().value)},function(t){r.onError(t)},function(){for(var n=e.now();i.length>0&&n-i[0].interval>=t;)r.onNext(i.shift().value);r.onCompleted()})},n)},vn.takeLastWithTime=function(t,e){var n=this;return Ye(e)||(e=un),new Lr(function(r){var i=[];return n.subscribe(function(n){var r=e.now();for(i.push({interval:r,value:n});i.length>0&&r-i[0].interval>=t;)i.shift()},function(t){r.onError(t)},function(){for(var n=e.now();i.length>0;){var o=i.shift();n-o.interval<=t&&r.onNext(o.value)}r.onCompleted()})},n)},vn.takeLastBufferWithTime=function(t,e){var n=this;return Ye(e)||(e=un),new Lr(function(r){var i=[];return n.subscribe(function(n){var r=e.now();for(i.push({interval:r,value:n});i.length>0&&r-i[0].interval>=t;)i.shift()},function(t){r.onError(t)},function(){for(var n=e.now(),o=[];i.length>0;){var s=i.shift();n-s.interval<=t&&o.push(s.value)}r.onNext(o),r.onCompleted()})},n)},vn.takeWithTime=function(t,e){var n=this;return Ye(e)||(e=un),new Lr(function(r){return new Le(e.scheduleWithRelative(t,function(){r.onCompleted()}),n.subscribe(r))},n)},vn.skipWithTime=function(t,e){var n=this;return Ye(e)||(e=un),new Lr(function(r){var i=!1;return new Le(e.scheduleWithRelative(t,function(){i=!0}),n.subscribe(function(t){i&&r.onNext(t)},r.onError.bind(r),r.onCompleted.bind(r)))},n)},vn.skipUntilWithTime=function(t,e){Ye(e)||(e=un);var n=this,r=t instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative";return new Lr(function(i){var o=!1;return new Le(e[r](t,function(){o=!0}),n.subscribe(function(t){o&&i.onNext(t)},function(t){i.onError(t)},function(){i.onCompleted()}))},n)},vn.takeUntilWithTime=function(t,e){Ye(e)||(e=un);var n=this,r=t instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative";return new Lr(function(i){return new Le(e[r](t,function(){i.onCompleted()}),n.subscribe(i))},n)},vn.throttleFirst=function(t,e){Ye(e)||(e=un);var n=+t||0;if(0>=n)throw new RangeError("windowDuration cannot be less or equal zero.");var r=this;return new Lr(function(t){var i=0;return r.subscribe(function(r){var o=e.now();(0===i||o-i>=n)&&(i=o,t.onNext(r))},function(e){t.onError(e)},function(){t.onCompleted()})},r)},vn.transduce=function(t){function e(t){return{"@@transducer/init":function(){return t},"@@transducer/step":function(t,e){return t.onNext(e)},"@@transducer/result":function(t){return t.onCompleted()}}}var n=this;return new Lr(function(r){var i=t(e(r));return n.subscribe(function(t){try{i["@@transducer/step"](r,t)}catch(e){r.onError(e)}},function(t){r.onError(t)},function(){i["@@transducer/result"](r)})},n)},vn.exclusive=function(){var t=this;return new Lr(function(e){var n=!1,r=!1,i=new Ve,o=new Le;return o.add(i),i.setDisposable(t.subscribe(function(t){if(!n){n=!0,Tt(t)&&(t=jn(t));var i=new Ve;o.add(i),i.setDisposable(t.subscribe(e.onNext.bind(e),e.onError.bind(e),function(){o.remove(i),n=!1,r&&1===o.length&&e.onCompleted()}))}},e.onError.bind(e),function(){r=!0,n||1!==o.length||e.onCompleted()})),o},this)},vn.exclusiveMap=function(t,e){var n=this,r=oe(t,e,3);return new Lr(function(t){var e=0,i=!1,o=!0,s=new Ve,u=new Le;return u.add(s),s.setDisposable(n.subscribe(function(n){i||(i=!0,innerSubscription=new Ve,u.add(innerSubscription),Tt(n)&&(n=jn(n)),innerSubscription.setDisposable(n.subscribe(function(i){var o;try{o=r(i,e++,n)}catch(s){return void t.onError(s)}t.onNext(o)},function(e){t.onError(e)},function(){u.remove(innerSubscription),i=!1,o&&1===u.length&&t.onCompleted()})))},function(e){t.onError(e)},function(){o=!0,1!==u.length||i||t.onCompleted()})),u},this)},Ot.VirtualTimeScheduler=function(t){function e(){return this.toDateTimeOffset(this.clock)}function n(t,e){return this.scheduleAbsoluteWithState(t,this.clock,e)}function r(t,e,n){return this.scheduleRelativeWithState(t,this.toRelative(e),n)}function i(t,e,n){return this.scheduleRelativeWithState(t,this.toRelative(e-this.now()),n)}function o(t,e){return e(),Fe}function s(o,s){this.clock=o,this.comparer=s,this.isEnabled=!1,this.queue=new Ie(1024),t.call(this,e,n,r,i)}Oe(s,t);var u=s.prototype;return u.add=Qt,u.toDateTimeOffset=Qt,u.toRelative=Qt,u.schedulePeriodicWithState=function(t,e,n){var r=new tn(this,t,e,n);return r.start()},u.scheduleRelativeWithState=function(t,e,n){var r=this.add(this.clock,e);return this.scheduleAbsoluteWithState(t,r,n)},u.scheduleRelative=function(t,e){return this.scheduleRelativeWithState(e,t,o)},u.start=function(){if(!this.isEnabled){this.isEnabled=!0;do{var t=this.getNext();null!==t?(this.comparer(t.dueTime,this.clock)>0&&(this.clock=t.dueTime),t.invoke()):this.isEnabled=!1}while(this.isEnabled)}},u.stop=function(){this.isEnabled=!1},u.advanceTo=function(t){var e=this.comparer(this.clock,t);if(this.comparer(this.clock,t)>0)throw new Ht;if(0!==e&&!this.isEnabled){this.isEnabled=!0;do{var n=this.getNext();null!==n&&this.comparer(n.dueTime,t)<=0?(this.comparer(n.dueTime,this.clock)>0&&(this.clock=n.dueTime),n.invoke()):this.isEnabled=!1}while(this.isEnabled);this.clock=t}},u.advanceBy=function(t){var e=this.add(this.clock,t),n=this.comparer(this.clock,e);if(n>0)throw new Ht;0!==n&&this.advanceTo(e)},u.sleep=function(t){var e=this.add(this.clock,t);if(this.comparer(this.clock,e)>=0)throw new Ht;this.clock=e},u.getNext=function(){for(;this.queue.length>0;){var t=this.queue.peek();if(!t.isCancelled())return t;this.queue.dequeue()}return null},u.scheduleAbsolute=function(t,e){return this.scheduleAbsoluteWithState(e,t,o)},u.scheduleAbsoluteWithState=function(t,e,n){function r(t,e){return i.queue.remove(o),n(t,e)}var i=this,o=new Je(this,t,r,e,this.comparer);return this.queue.enqueue(o),o.disposable},s}(He),Ot.HistoricalScheduler=function(t){function e(e,n){var r=null==e?0:e,i=n||Rt;t.call(this,r,i)}Oe(e,t);var n=e.prototype;return n.add=function(t,e){return t+e},n.toDateTimeOffset=function(t){return new Date(t).getTime()},n.toRelative=function(t){return t},e}(Ot.VirtualTimeScheduler);var Lr=Ot.AnonymousObservable=function(t){function e(t){return t&&Pt(t.dispose)?t:Pt(t)?Pe(t):Fe}function n(t,n){var r=n[0],i=n[1],o=w(i)(r);return o!==ze||r.fail(ze.e)?void r.setDisposable(e(o)):_(ze.e)}function r(e,r){function i(t){var r=new Tr(t),i=[r,e];return nn.scheduleRequired()?nn.scheduleWithState(i,n):n(null,i),r}this.source=r,t.call(this,i)}return Oe(r,t),r}(_n),Tr=function(t){function e(e){t.call(this),this.observer=e,this.m=new Ve}Oe(e,t);var n=e.prototype;return n.next=function(t){var e=w(this.observer.onNext).call(this.observer,t);e===ze&&(this.dispose(),_(e.e))},n.error=function(t){var e=w(this.observer.onError).call(this.observer,t);this.dispose(),e===ze&&_(e.e)},n.completed=function(){var t=w(this.observer.onCompleted).call(this.observer);this.dispose(),t===ze&&_(t.e)},n.setDisposable=function(t){this.m.setDisposable(t)},n.getDisposable=function(){return this.m.getDisposable()},n.dispose=function(){t.prototype.dispose.call(this),this.m.dispose()},e}(bn),Wr=function(t){function e(t){return this.underlyingObservable.subscribe(t)}function n(n,r,i){t.call(this,e),this.key=n,this.underlyingObservable=i?new Lr(function(t){return new Le(i.getDisposable(),r.subscribe(t))}):r}return Oe(n,t),n}(_n),Pr=Ot.Subject=function(t){function e(t){return Ue(this),this.isStopped?this.hasError?(t.onError(this.error),Fe):(t.onCompleted(),Fe):(this.observers.push(t),new Nr(this,t))}function n(){t.call(this,e),this.isDisposed=!1,this.isStopped=!1,this.observers=[],this.hasError=!1}return Oe(n,t),Me(n.prototype,pn.prototype,{hasObservers:function(){return this.observers.length>0},onCompleted:function(){if(Ue(this),!this.isStopped){this.isStopped=!0;for(var t=0,e=o(this.observers),n=e.length;n>t;t++)e[t].onCompleted();this.observers.length=0}},onError:function(t){if(Ue(this),!this.isStopped){this.isStopped=!0,this.error=t,this.hasError=!0;for(var e=0,n=o(this.observers),r=n.length;r>e;e++)n[e].onError(t);this.observers.length=0}},onNext:function(t){if(Ue(this),!this.isStopped)for(var e=0,n=o(this.observers),r=n.length;r>e;e++)n[e].onNext(t)},dispose:function(){this.isDisposed=!0,this.observers=null}}),n.create=function(t,e){return new Br(t,e)},n}(_n),Fr=Ot.AsyncSubject=function(t){function e(t){return Ue(this),this.isStopped?(this.hasError?t.onError(this.error):this.hasValue?(t.onNext(this.value),t.onCompleted()):t.onCompleted(),Fe):(this.observers.push(t),new Nr(this,t))}function n(){t.call(this,e),this.isDisposed=!1,this.isStopped=!1,this.hasValue=!1,this.observers=[],this.hasError=!1}return Oe(n,t),Me(n.prototype,pn,{hasObservers:function(){return Ue(this),this.observers.length>0},onCompleted:function(){var t,e;if(Ue(this),!this.isStopped){this.isStopped=!0;var n=o(this.observers),e=n.length;if(this.hasValue)for(t=0;e>t;t++){var r=n[t];r.onNext(this.value),r.onCompleted()}else for(t=0;e>t;t++)n[t].onCompleted();this.observers.length=0}},onError:function(t){if(Ue(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=t;for(var e=0,n=o(this.observers),r=n.length;r>e;e++)n[e].onError(t);this.observers.length=0}},onNext:function(t){Ue(this),this.isStopped||(this.value=t,this.hasValue=!0)},dispose:function(){this.isDisposed=!0,this.observers=null,this.exception=null,this.value=null}}),n}(_n),Br=Ot.AnonymousSubject=function(t){function e(t){return this.observable.subscribe(t)}function n(n,r){this.observer=n,this.observable=r,t.call(this,e)}return Oe(n,t),Me(n.prototype,pn.prototype,{onCompleted:function(){this.observer.onCompleted()},onError:function(t){this.observer.onError(t)},onNext:function(t){this.observer.onNext(t)}}),n}(_n);Ot.Pauser=function(t){function e(){t.call(this)}return Oe(e,t),e.prototype.pause=function(){this.onNext(!1)},e.prototype.resume=function(){this.onNext(!0)},e}(Pr),"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Nt.Rx=Ot,define(function(){return Ot})):$t&&At?Dt?(At.exports=Ot).Rx=Ot:$t.Rx=Ot:Nt.Rx=Ot;var Ur=h()}).call(this)}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:89}]},{},[1]);